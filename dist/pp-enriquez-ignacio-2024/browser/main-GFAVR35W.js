var RR=Object.defineProperty,MR=Object.defineProperties;var NR=Object.getOwnPropertyDescriptors;var Nw=Object.getOwnPropertySymbols,xR=Object.getPrototypeOf,PR=Object.prototype.hasOwnProperty,FR=Object.prototype.propertyIsEnumerable,OR=Reflect.get;var xw=(n,e,t)=>e in n?RR(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,k=(n,e)=>{for(var t in e||={})PR.call(e,t)&&xw(n,t,e[t]);if(Nw)for(var t of Nw(e))FR.call(e,t)&&xw(n,t,e[t]);return n},ue=(n,e)=>MR(n,NR(e));var hr=(n,e,t)=>OR(xR(n),t,e);var _=(n,e,t)=>new Promise((r,i)=>{var o=u=>{try{a(t.next(u))}catch(l){i(l)}},s=u=>{try{a(t.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);a((t=t.apply(n,e)).next())});function Pw(n,e){return Object.is(n,e)}var He=null,du=!1,hu=1,On=Symbol("SIGNAL");function ge(n){let e=He;return He=n,e}function Fw(){return He}var sa={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Lf(n){if(du)throw new Error("");if(He===null)return;He.consumerOnSignalRead(n);let e=He.nextProducerIndex++;if(mu(He),e<He.producerNode.length&&He.producerNode[e]!==n&&oa(He)){let t=He.producerNode[e];gu(t,He.producerIndexOfThis[e])}He.producerNode[e]!==n&&(He.producerNode[e]=n,He.producerIndexOfThis[e]=oa(He)?Lw(n,He,e):0),He.producerLastReadVersion[e]=n.version}function kR(){hu++}function Ow(n){if(!(oa(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===hu)){if(!n.producerMustRecompute(n)&&!jf(n)){n.dirty=!1,n.lastCleanEpoch=hu;return}n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=hu}}function kw(n){if(n.liveConsumerNode===void 0)return;let e=du;du=!0;try{for(let t of n.liveConsumerNode)t.dirty||UR(t)}finally{du=e}}function Uw(){return He?.consumerAllowSignalWrites!==!1}function UR(n){n.dirty=!0,kw(n),n.consumerMarkedDirty?.(n)}function pu(n){return n&&(n.nextProducerIndex=0),ge(n)}function Vf(n,e){if(ge(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(oa(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)gu(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function jf(n){mu(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(Ow(t),r!==t.version))return!0}return!1}function Bf(n){if(mu(n),oa(n))for(let e=0;e<n.producerNode.length;e++)gu(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function Lw(n,e,t){if(Vw(n),n.liveConsumerNode.length===0&&jw(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=Lw(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function gu(n,e){if(Vw(n),n.liveConsumerNode.length===1&&jw(n))for(let r=0;r<n.producerNode.length;r++)gu(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];mu(i),i.producerIndexOfThis[r]=e}}function oa(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function mu(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function Vw(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function jw(n){return n.producerNode!==void 0}function Bw(n){let e=Object.create(LR);e.computation=n;let t=()=>{if(Ow(e),Lf(e),e.value===fu)throw e.error;return e.value};return t[On]=e,t}var kf=Symbol("UNSET"),Uf=Symbol("COMPUTING"),fu=Symbol("ERRORED"),LR=ue(k({},sa),{value:kf,dirty:!0,error:null,equal:Pw,producerMustRecompute(n){return n.value===kf||n.value===Uf},producerRecomputeValue(n){if(n.value===Uf)throw new Error("Detected cycle in computations.");let e=n.value;n.value=Uf;let t=pu(n),r;try{r=n.computation()}catch(i){r=fu,n.error=i}finally{Vf(n,t)}if(e!==kf&&e!==fu&&r!==fu&&n.equal(e,r)){n.value=e;return}n.value=r,n.version++}});function VR(){throw new Error}var $w=VR;function Hw(){$w()}function qw(n){$w=n}var jR=null;function zw(n){let e=Object.create(Ww);e.value=n;let t=()=>(Lf(e),e.value);return t[On]=e,t}function $f(n,e){Uw()||Hw(),n.equal(n.value,e)||(n.value=e,BR(n))}function Gw(n,e){Uw()||Hw(),$f(n,e(n.value))}var Ww=ue(k({},sa),{equal:Pw,value:void 0});function BR(n){n.version++,kR(),kw(n),jR?.()}function re(n){return typeof n=="function"}function ho(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var yu=ho(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function si(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Oe=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(re(r))try{r()}catch(o){e=o instanceof yu?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Kw(o)}catch(s){e=e??[],s instanceof yu?e=[...e,...s.errors]:e.push(s)}}if(e)throw new yu(e)}}add(e){var t;if(e&&e!==this)if(this.closed)Kw(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&si(t,e)}remove(e){let{_finalizers:t}=this;t&&si(t,e),e instanceof n&&e._removeParent(this)}};Oe.EMPTY=(()=>{let n=new Oe;return n.closed=!0,n})();var Hf=Oe.EMPTY;function vu(n){return n instanceof Oe||n&&"closed"in n&&re(n.remove)&&re(n.add)&&re(n.unsubscribe)}function Kw(n){re(n)?n():n.unsubscribe()}var Yt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var fo={setTimeout(n,e,...t){let{delegate:r}=fo;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=fo;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function _u(n){fo.setTimeout(()=>{let{onUnhandledError:e}=Yt;if(e)e(n);else throw n})}function aa(){}var Qw=qf("C",void 0,void 0);function Yw(n){return qf("E",void 0,n)}function Jw(n){return qf("N",n,void 0)}function qf(n,e,t){return{kind:n,value:e,error:t}}var ai=null;function po(n){if(Yt.useDeprecatedSynchronousErrorHandling){let e=!ai;if(e&&(ai={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=ai;if(ai=null,t)throw r}}else n()}function Zw(n){Yt.useDeprecatedSynchronousErrorHandling&&ai&&(ai.errorThrown=!0,ai.error=n)}var ci=class extends Oe{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,vu(e)&&e.add(this)):this.destination=qR}static create(e,t,r){return new go(e,t,r)}next(e){this.isStopped?Gf(Jw(e),this):this._next(e)}error(e){this.isStopped?Gf(Yw(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Gf(Qw,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},$R=Function.prototype.bind;function zf(n,e){return $R.call(n,e)}var Wf=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){wu(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){wu(r)}else wu(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){wu(t)}}},go=class extends ci{constructor(e,t,r){super();let i;if(re(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&Yt.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&zf(e.next,o),error:e.error&&zf(e.error,o),complete:e.complete&&zf(e.complete,o)}):i=e}this.destination=new Wf(i)}};function wu(n){Yt.useDeprecatedSynchronousErrorHandling?Zw(n):_u(n)}function HR(n){throw n}function Gf(n,e){let{onStoppedNotification:t}=Yt;t&&fo.setTimeout(()=>t(n,e))}var qR={closed:!0,next:aa,error:HR,complete:aa};var mo=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Nt(n){return n}function Kf(...n){return Qf(n)}function Qf(n){return n.length===0?Nt:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var le=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=GR(t)?t:new go(t,r,i);return po(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=Xw(r),new r((i,o)=>{let s=new go({next:a=>{try{t(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[mo](){return this}pipe(...t){return Qf(t)(this)}toPromise(t){return t=Xw(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function Xw(n){var e;return(e=n??Yt.Promise)!==null&&e!==void 0?e:Promise}function zR(n){return n&&re(n.next)&&re(n.error)&&re(n.complete)}function GR(n){return n&&n instanceof ci||zR(n)&&vu(n)}function Yf(n){return re(n?.lift)}function me(n){return e=>{if(Yf(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function de(n,e,t,r,i){return new Jf(n,e,t,r,i)}var Jf=class extends ci{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function yo(){return me((n,e)=>{let t=null;n._refCount++;let r=de(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var vo=class extends le{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Yf(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Oe;let t=this.getSubject();e.add(this.source.subscribe(de(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Oe.EMPTY)}return e}refCount(){return yo()(this)}};var eI=ho(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ke=(()=>{class n extends le{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new Iu(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new eI}next(t){po(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){po(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){po(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Hf:(this.currentObservers=null,o.push(t),new Oe(()=>{this.currentObservers=null,si(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new le;return t.source=this,t}}return n.create=(e,t)=>new Iu(e,t),n})(),Iu=class extends Ke{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:Hf}};var Xe=class extends Ke{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Zf={now(){return(Zf.delegate||Date).now()},delegate:void 0};var Eu=class extends Oe{constructor(e,t){super()}schedule(e,t=0){return this}};var ca={setInterval(n,e,...t){let{delegate:r}=ca;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=ca;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var _o=class extends Eu{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return ca.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&ca.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,si(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var wo=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};wo.now=Zf.now;var Io=class extends wo{constructor(e,t=wo.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var Xf=new Io(_o);var Du=class extends _o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var Cu=class extends Io{};var ep=new Cu(Du);var xt=new le(n=>n.complete());function tI(n){return n&&re(n.schedule)}function nI(n){return n[n.length-1]}function bu(n){return re(nI(n))?n.pop():void 0}function fr(n){return tI(nI(n))?n.pop():void 0}function tp(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function iI(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(n,e||[])).next())})}function rI(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ui(n){return this instanceof ui?(this.v=n,this):new ui(n)}function oI(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(v){return function(A){return Promise.resolve(A).then(v,p)}}function a(v,A){r[v]&&(i[v]=function(M){return new Promise(function(R,O){o.push([v,M,R,O])>1||u(v,M)})},A&&(i[v]=A(i[v])))}function u(v,A){try{l(r[v](A))}catch(M){m(o[0][3],M)}}function l(v){v.value instanceof ui?Promise.resolve(v.value.v).then(h,p):m(o[0][2],v)}function h(v){u("next",v)}function p(v){u("throw",v)}function m(v,A){v(A),o.shift(),o.length&&u(o[0][0],o[0][1])}}function sI(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof rI=="function"?rI(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,u){s=n[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var Tu=n=>n&&typeof n.length=="number"&&typeof n!="function";function Au(n){return re(n?.then)}function Su(n){return re(n[mo])}function Ru(n){return Symbol.asyncIterator&&re(n?.[Symbol.asyncIterator])}function Mu(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function WR(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Nu=WR();function xu(n){return re(n?.[Nu])}function Pu(n){return oI(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield ui(t.read());if(i)return yield ui(void 0);yield yield ui(r)}}finally{t.releaseLock()}})}function Fu(n){return re(n?.getReader)}function Ue(n){if(n instanceof le)return n;if(n!=null){if(Su(n))return KR(n);if(Tu(n))return QR(n);if(Au(n))return YR(n);if(Ru(n))return aI(n);if(xu(n))return JR(n);if(Fu(n))return ZR(n)}throw Mu(n)}function KR(n){return new le(e=>{let t=n[mo]();if(re(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function QR(n){return new le(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function YR(n){return new le(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,_u)})}function JR(n){return new le(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function aI(n){return new le(e=>{XR(n,e).catch(t=>e.error(t))})}function ZR(n){return aI(Pu(n))}function XR(n,e){var t,r,i,o;return iI(this,void 0,void 0,function*(){try{for(t=sI(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function Dt(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function pr(n,e=0){return me((t,r)=>{t.subscribe(de(r,i=>Dt(r,n,()=>r.next(i),e),()=>Dt(r,n,()=>r.complete(),e),i=>Dt(r,n,()=>r.error(i),e)))})}function gr(n,e=0){return me((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function cI(n,e){return Ue(n).pipe(gr(e),pr(e))}function uI(n,e){return Ue(n).pipe(gr(e),pr(e))}function lI(n,e){return new le(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function dI(n,e){return new le(t=>{let r;return Dt(t,e,()=>{r=n[Nu](),Dt(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>re(r?.return)&&r.return()})}function Ou(n,e){if(!n)throw new Error("Iterable cannot be null");return new le(t=>{Dt(t,e,()=>{let r=n[Symbol.asyncIterator]();Dt(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function hI(n,e){return Ou(Pu(n),e)}function fI(n,e){if(n!=null){if(Su(n))return cI(n,e);if(Tu(n))return lI(n,e);if(Au(n))return uI(n,e);if(Ru(n))return Ou(n,e);if(xu(n))return dI(n,e);if(Fu(n))return hI(n,e)}throw Mu(n)}function Ne(n,e){return e?fI(n,e):Ue(n)}function X(...n){let e=fr(n);return Ne(n,e)}function Eo(n,e){let t=re(n)?n:()=>n,r=i=>i.error(t());return new le(e?i=>e.schedule(r,0,i):r)}function np(n){return!!n&&(n instanceof le||re(n.lift)&&re(n.subscribe))}var kn=ho(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function ie(n,e){return me((t,r)=>{let i=0;t.subscribe(de(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:eM}=Array;function tM(n,e){return eM(e)?n(...e):n(e)}function ku(n){return ie(e=>tM(n,e))}var{isArray:nM}=Array,{getPrototypeOf:rM,prototype:iM,keys:oM}=Object;function Uu(n){if(n.length===1){let e=n[0];if(nM(e))return{args:e,keys:null};if(sM(e)){let t=oM(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function sM(n){return n&&typeof n=="object"&&rM(n)===iM}function Lu(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Vu(...n){let e=fr(n),t=bu(n),{args:r,keys:i}=Uu(n);if(r.length===0)return Ne([],e);let o=new le(aM(r,e,i?s=>Lu(i,s):Nt));return t?o.pipe(ku(t)):o}function aM(n,e,t=Nt){return r=>{pI(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)pI(e,()=>{let l=Ne(n[u],e),h=!1;l.subscribe(de(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function pI(n,e,t){n?Dt(t,n,e):e()}function gI(n,e,t,r,i,o,s,a){let u=[],l=0,h=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},v=M=>l<r?A(M):u.push(M),A=M=>{o&&e.next(M),l++;let R=!1;Ue(t(M,h++)).subscribe(de(e,O=>{i?.(O),o?v(O):e.next(O)},()=>{R=!0},void 0,()=>{if(R)try{for(l--;u.length&&l<r;){let O=u.shift();s?Dt(e,s,()=>A(O)):A(O)}m()}catch(O){e.error(O)}}))};return n.subscribe(de(e,v,()=>{p=!0,m()})),()=>{a?.()}}function qe(n,e,t=1/0){return re(e)?qe((r,i)=>ie((o,s)=>e(r,o,i,s))(Ue(n(r,i))),t):(typeof e=="number"&&(t=e),me((r,i)=>gI(r,i,n,t)))}function rp(n=1/0){return qe(Nt,n)}function mI(){return rp(1)}function Do(...n){return mI()(Ne(n,fr(n)))}function ju(n){return new le(e=>{Ue(n()).subscribe(e)})}function ip(...n){let e=bu(n),{args:t,keys:r}=Uu(n),i=new le(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;Ue(t[h]).subscribe(de(o,m=>{p||(p=!0,l--),a[h]=m},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?Lu(r,a):a),o.complete())}))}});return e?i.pipe(ku(e)):i}function Pt(n,e){return me((t,r)=>{let i=0;t.subscribe(de(r,o=>n.call(e,o,i++)&&r.next(o)))})}function mr(n){return me((e,t)=>{let r=null,i=!1,o;r=e.subscribe(de(t,void 0,void 0,s=>{o=Ue(n(s,mr(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function yI(n,e,t,r,i){return(o,s)=>{let a=t,u=e,l=0;o.subscribe(de(s,h=>{let p=l++;u=a?n(u,h,p):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function yr(n,e){return re(e)?qe(n,e,1):qe(n,1)}function vr(n){return me((e,t)=>{let r=!1;e.subscribe(de(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Un(n){return n<=0?()=>xt:me((e,t)=>{let r=0;e.subscribe(de(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function op(n){return ie(()=>n)}function Bu(n=cM){return me((e,t)=>{let r=!1;e.subscribe(de(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function cM(){return new kn}function li(n){return me((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function un(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Pt((i,o)=>n(i,o,r)):Nt,Un(1),t?vr(e):Bu(()=>new kn))}function Co(n){return n<=0?()=>xt:me((e,t)=>{let r=[];e.subscribe(de(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function sp(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Pt((i,o)=>n(i,o,r)):Nt,Co(1),t?vr(e):Bu(()=>new kn))}function ap(n,e){return me(yI(n,e,arguments.length>=2,!0))}function cp(...n){let e=fr(n);return me((t,r)=>{(e?Do(n,t,e):Do(n,t)).subscribe(r)})}function Ft(n,e){return me((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(de(r,u=>{i?.unsubscribe();let l=0,h=o++;Ue(n(u,h)).subscribe(i=de(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function up(n){return me((e,t)=>{Ue(n).subscribe(de(t,()=>t.complete(),aa)),!t.closed&&e.subscribe(t)})}function Le(n,e,t){let r=re(n)||e||t?{next:n,error:e,complete:t}:n;return r?me((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(de(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Nt}var rE="https://g.co/ng/security#xss",z=class extends Error{constructor(e,t){super(Dl(e,t)),this.code=e}};function Dl(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}function _a(n){return{toString:n}.toString()}var $u="__parameters__";function uM(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function iE(n,e,t){return _a(()=>{let r=uM(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,h){let p=u.hasOwnProperty($u)?u[$u]:Object.defineProperty(u,$u,{value:[]})[$u];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var Dp=globalThis;function Te(n){for(let e in n)if(n[e]===Te)return e;throw Error("Could not find renamed property on target object.")}function lM(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function yt(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(yt).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let e=n.toString();if(e==null)return""+e;let t=e.indexOf(`
`);return t===-1?e:e.substring(0,t)}function vI(n,e){return n==null||n===""?e===null?"":e:e==null||e===""?n:n+" "+e}var dM=Te({__forward_ref__:Te});function Bn(n){return n.__forward_ref__=Bn,n.toString=function(){return yt(this())},n}function mt(n){return oE(n)?n():n}function oE(n){return typeof n=="function"&&n.hasOwnProperty(dM)&&n.__forward_ref__===Bn}function $(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function $n(n){return{providers:n.providers||[],imports:n.imports||[]}}function Cl(n){return _I(n,aE)||_I(n,cE)}function sE(n){return Cl(n)!==null}function _I(n,e){return n.hasOwnProperty(e)?n[e]:null}function hM(n){let e=n&&(n[aE]||n[cE]);return e||null}function wI(n){return n&&(n.hasOwnProperty(II)||n.hasOwnProperty(fM))?n[II]:null}var aE=Te({\u0275prov:Te}),II=Te({\u0275inj:Te}),cE=Te({ngInjectableDef:Te}),fM=Te({ngInjectorDef:Te}),B=class{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=$({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function uE(n){return n&&!!n.\u0275providers}var pM=Te({\u0275cmp:Te}),gM=Te({\u0275dir:Te}),mM=Te({\u0275pipe:Te}),yM=Te({\u0275mod:Te}),Zu=Te({\u0275fac:Te}),da=Te({__NG_ELEMENT_ID__:Te}),EI=Te({__NG_ENV_ID__:Te});function bl(n){return typeof n=="string"?n:n==null?"":String(n)}function vM(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():bl(n)}function _M(n,e){let t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new z(-200,n)}function fg(n,e){throw new z(-201,!1)}var ae=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(ae||{}),Cp;function lE(){return Cp}function jt(n){let e=Cp;return Cp=n,e}function dE(n,e,t){let r=Cl(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&ae.Optional)return null;if(e!==void 0)return e;fg(n,"Injector")}var wM={},ha=wM,bp="__NG_DI_FLAG__",Xu="ngTempTokenPath",IM="ngTokenPath",EM=/\n/gm,DM="\u0275",DI="__source",So;function CM(){return So}function _r(n){let e=So;return So=n,e}function bM(n,e=ae.Default){if(So===void 0)throw new z(-203,!1);return So===null?dE(n,void 0,e):So.get(n,e&ae.Optional?null:void 0,e)}function Q(n,e=ae.Default){return(lE()||bM)(mt(n),e)}function P(n,e=ae.Default){return Q(n,Tl(e))}function Tl(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Tp(n){let e=[];for(let t=0;t<n.length;t++){let r=mt(n[t]);if(Array.isArray(r)){if(r.length===0)throw new z(900,!1);let i,o=ae.Default;for(let s=0;s<r.length;s++){let a=r[s],u=TM(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(Q(i,o))}else e.push(Q(r))}return e}function hE(n,e){return n[bp]=e,n.prototype[bp]=e,n}function TM(n){return n[bp]}function AM(n,e,t,r){let i=n[Xu];throw e[DI]&&i.unshift(e[DI]),n.message=SM(`
`+n.message,i,t,r),n[IM]=i,n[Xu]=null,n}function SM(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==DM?n.slice(2):n;let i=yt(e);if(Array.isArray(e))i=e.map(yt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):yt(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(EM,`
  `)}`}var _t=hE(iE("Optional"),8);var fE=hE(iE("SkipSelf"),4);function Mo(n,e){let t=n.hasOwnProperty(Zu);return t?n[Zu]:null}function pg(n,e){n.forEach(t=>Array.isArray(t)?pg(t,e):e(t))}function pE(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function el(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function RM(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function MM(n,e,t){let r=wa(n,e);return r>=0?n[r|1]=t:(r=~r,RM(n,r,e,t)),r}function lp(n,e){let t=wa(n,e);if(t>=0)return n[t|1]}function wa(n,e){return NM(n,e,1)}function NM(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var No={},Bt=[],xo=new B(""),gE=new B("",-1),mE=new B(""),tl=class{get(e,t=ha){if(t===ha){let r=new Error(`NullInjectorError: No provider for ${yt(e)}!`);throw r.name="NullInjectorError",r}return t}},yE=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(yE||{}),hn=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(hn||{}),Er=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Er||{});function xM(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}function Ap(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];PM(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function vE(n){return n===3||n===4||n===6}function PM(n){return n.charCodeAt(0)===64}function fa(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?CI(n,t,i,null,e[++r]):CI(n,t,i,null,null))}}return n}function CI(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){if(r===null){i!==null&&(n[o+1]=i);return}else if(r===n[o+1]){n[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),r!==null&&n.splice(o++,0,r),i!==null&&n.splice(o++,0,i)}var _E="ng-template";function FM(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&xM(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(gg(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function gg(n){return n.type===4&&n.value!==_E}function OM(n,e,t){let r=n.type===4&&!t?_E:n.value;return e===r}function kM(n,e,t){let r=4,i=n.attrs,o=i!==null?VM(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!Jt(r)&&!Jt(u))return!1;if(s&&Jt(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!OM(n,u,t)||u===""&&e.length===1){if(Jt(r))return!1;s=!0}}else if(r&8){if(i===null||!FM(n,i,u,t)){if(Jt(r))return!1;s=!0}}else{let l=e[++a],h=UM(u,i,gg(n),t);if(h===-1){if(Jt(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(Jt(r))return!1;s=!0}}}}return Jt(r)||s}function Jt(n){return(n&1)===0}function UM(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return jM(e,n)}function LM(n,e,t=!1){for(let r=0;r<e.length;r++)if(kM(n,e[r],t))return!0;return!1}function VM(n){for(let e=0;e<n.length;e++){let t=n[e];if(vE(t))return e}return n.length}function jM(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function bI(n,e){return n?":not("+e.trim()+")":e}function BM(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Jt(s)&&(e+=bI(o,i),i=""),r=s,o=o||!Jt(r);t++}return i!==""&&(e+=bI(o,i)),e}function $M(n){return n.map(BM).join(",")}function HM(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!Jt(i))break;i=o}r++}return{attrs:e,classes:t}}function at(n){return _a(()=>{let e=CE(n),t=ue(k({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===yE.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||hn.Emulated,styles:n.styles||Bt,_:null,schemas:n.schemas||null,tView:null,id:""});bE(t);let r=n.dependencies;return t.directiveDefs=AI(r,!1),t.pipeDefs=AI(r,!0),t.id=GM(t),t})}function qM(n){return hi(n)||wE(n)}function zM(n){return n!==null}function Hn(n){return _a(()=>({type:n.type,bootstrap:n.bootstrap||Bt,declarations:n.declarations||Bt,imports:n.imports||Bt,exports:n.exports||Bt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function TI(n,e){if(n==null)return No;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a=Er.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(t[o]=a!==Er.None?[r,a]:r,e[o]=s):t[o]=r}return t}function ze(n){return _a(()=>{let e=CE(n);return bE(e),e})}function hi(n){return n[pM]||null}function wE(n){return n[gM]||null}function IE(n){return n[mM]||null}function EE(n){let e=hi(n)||wE(n)||IE(n);return e!==null?e.standalone:!1}function DE(n,e){let t=n[yM]||null;if(!t&&e===!0)throw new Error(`Type ${yt(n)} does not have '\u0275mod' property.`);return t}function CE(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||No,exportAs:n.exportAs||null,standalone:n.standalone===!0,signals:n.signals===!0,selectors:n.selectors||Bt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:TI(n.inputs,e),outputs:TI(n.outputs),debugInfo:null}}function bE(n){n.features?.forEach(e=>e(n))}function AI(n,e){if(!n)return null;let t=e?IE:qM;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(zM)}function GM(n){let e=0,t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(let i of t)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function qt(n){return{\u0275providers:n}}function WM(...n){return{\u0275providers:TE(!0,n),\u0275fromNgModule:!0}}function TE(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return pg(e,s=>{let a=s;Sp(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&AE(i,o),t}function AE(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];mg(i,o=>{e(o,r)})}}function Sp(n,e,t,r){if(n=mt(n),!n)return!1;let i=null,o=wI(n),s=!o&&hi(n);if(!o&&!s){let u=n.ngModule;if(o=wI(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)Sp(l,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{pg(o.imports,h=>{Sp(h,e,t,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&AE(l,e)}if(!a){let l=Mo(i)||(()=>new i);e({provide:i,useFactory:l,deps:Bt},i),e({provide:mE,useValue:i,multi:!0},i),e({provide:xo,useValue:()=>Q(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=n;mg(u,h=>{e(h,l)})}}else return!1;return i!==n&&n.providers!==void 0}function mg(n,e){for(let t of n)uE(t)&&(t=t.\u0275providers),Array.isArray(t)?mg(t,e):e(t)}var KM=Te({provide:String,useValue:Te});function SE(n){return n!==null&&typeof n=="object"&&KM in n}function QM(n){return!!(n&&n.useExisting)}function YM(n){return!!(n&&n.useFactory)}function Po(n){return typeof n=="function"}function JM(n){return!!n.useClass}var Al=new B(""),Wu={},ZM={},dp;function yg(){return dp===void 0&&(dp=new tl),dp}var Ct=class{},pa=class extends Ct{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Mp(e,s=>this.processProvider(s)),this.records.set(gE,bo(void 0,this)),i.has("environment")&&this.records.set(Ct,bo(void 0,this));let o=this.records.get(Al);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(mE,Bt,ae.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=ge(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ge(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let t=_r(this),r=jt(void 0),i;try{return e()}finally{_r(t),jt(r)}}get(e,t=ha,r=ae.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(EI))return e[EI](this);r=Tl(r);let i,o=_r(this),s=jt(void 0);try{if(!(r&ae.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=rN(e)&&Cl(e);l&&this.injectableDefInScope(l)?u=bo(Rp(e),Wu):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&ae.Self?yg():this.parent;return t=r&ae.Optional&&t===ha?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[Xu]=a[Xu]||[]).unshift(yt(e)),o)throw a;return AM(a,e,"R3InjectorError",this.source)}else throw a}finally{jt(s),_r(o)}}resolveInjectorInitializers(){let e=ge(null),t=_r(this),r=jt(void 0),i;try{let o=this.get(xo,Bt,ae.Self);for(let s of o)s()}finally{_r(t),jt(r),ge(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(yt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new z(205,!1)}processProvider(e){e=mt(e);let t=Po(e)?e:mt(e&&e.provide),r=eN(e);if(!Po(e)&&e.multi===!0){let i=this.records.get(t);i||(i=bo(void 0,Wu,!0),i.factory=()=>Tp(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){let r=ge(null);try{return t.value===Wu&&(t.value=ZM,t.value=t.factory()),typeof t.value=="object"&&t.value&&nN(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{ge(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=mt(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Rp(n){let e=Cl(n),t=e!==null?e.factory:Mo(n);if(t!==null)return t;if(n instanceof B)throw new z(204,!1);if(n instanceof Function)return XM(n);throw new z(204,!1)}function XM(n){if(n.length>0)throw new z(204,!1);let t=hM(n);return t!==null?()=>t.factory(n):()=>new n}function eN(n){if(SE(n))return bo(void 0,n.useValue);{let e=RE(n);return bo(e,Wu)}}function RE(n,e,t){let r;if(Po(n)){let i=mt(n);return Mo(i)||Rp(i)}else if(SE(n))r=()=>mt(n.useValue);else if(YM(n))r=()=>n.useFactory(...Tp(n.deps||[]));else if(QM(n))r=()=>Q(mt(n.useExisting));else{let i=mt(n&&(n.useClass||n.provide));if(tN(n))r=()=>new i(...Tp(n.deps));else return Mo(i)||Rp(i)}return r}function bo(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function tN(n){return!!n.deps}function nN(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function rN(n){return typeof n=="function"||typeof n=="object"&&n instanceof B}function Mp(n,e){for(let t of n)Array.isArray(t)?Mp(t,e):t&&uE(t)?Mp(t.\u0275providers,e):e(t)}function Xt(n,e){n instanceof pa&&n.assertNotDestroyed();let t,r=_r(n),i=jt(void 0);try{return e()}finally{_r(r),jt(i)}}function iN(){return lE()!==void 0||CM()!=null}function oN(n){return typeof n=="function"}var qn=0,ce=1,ee=2,vt=3,Zt=4,en=5,nl=6,rl=7,Ht=8,Fo=9,fn=10,Ve=11,ga=12,SI=13,$o=14,pn=15,Oo=16,To=17,ko=18,Sl=19,ME=20,wr=21,hp=22,$t=23,gn=25,NE=1;var fi=7,il=8,ol=9,Ot=10,sl=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(sl||{});function Ir(n){return Array.isArray(n)&&typeof n[NE]=="object"}function zn(n){return Array.isArray(n)&&n[NE]===!0}function xE(n){return(n.flags&4)!==0}function Rl(n){return n.componentOffset>-1}function vg(n){return(n.flags&1)===1}function Dr(n){return!!n.template}function Np(n){return(n[ee]&512)!==0}var xp=class{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function PE(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}function yn(){return FE}function FE(n){return n.type.prototype.ngOnChanges&&(n.setInput=aN),sN}yn.ngInherit=!0;function sN(){let n=kE(this),e=n?.current;if(e){let t=n.previous;if(t===No)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function aN(n,e,t,r,i){let o=this.declaredInputs[r],s=kE(n)||cN(n,{previous:No,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new xp(l&&l.currentValue,t,u===No),PE(n,e,i,t)}var OE="__ngSimpleChanges__";function kE(n){return n[OE]||null}function cN(n,e){return n[OE]=e}var RI=null;var ln=function(n,e,t){RI?.(n,e,t)},uN="svg",lN="math";function mn(n){for(;Array.isArray(n);)n=n[qn];return n}function UE(n,e){return mn(e[n])}function zt(n,e){return mn(e[n.index])}function _g(n,e){return n.data[e]}function br(n,e){let t=e[n];return Ir(t)?t:t[qn]}function wg(n){return(n[ee]&128)===128}function dN(n){return zn(n[vt])}function al(n,e){return e==null?null:n[e]}function LE(n){n[To]=0}function VE(n){n[ee]&1024||(n[ee]|=1024,wg(n)&&Nl(n))}function hN(n,e){for(;n>0;)e=e[$o],n--;return e}function Ml(n){return!!(n[ee]&9216||n[$t]?.dirty)}function Pp(n){n[fn].changeDetectionScheduler?.notify(8),n[ee]&64&&(n[ee]|=1024),Ml(n)&&Nl(n)}function Nl(n){n[fn].changeDetectionScheduler?.notify(0);let e=pi(n);for(;e!==null&&!(e[ee]&8192||(e[ee]|=8192,!wg(e)));)e=pi(e)}function jE(n,e){if((n[ee]&256)===256)throw new z(911,!1);n[wr]===null&&(n[wr]=[]),n[wr].push(e)}function fN(n,e){if(n[wr]===null)return;let t=n[wr].indexOf(e);t!==-1&&n[wr].splice(t,1)}function pi(n){let e=n[vt];return zn(e)?e[vt]:e}var he={lFrame:QE(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var BE=!1;function pN(){return he.lFrame.elementDepthCount}function gN(){he.lFrame.elementDepthCount++}function mN(){he.lFrame.elementDepthCount--}function $E(){return he.bindingsEnabled}function yN(){return he.skipHydrationRootTNode!==null}function vN(n){return he.skipHydrationRootTNode===n}function _N(){he.skipHydrationRootTNode=null}function Ae(){return he.lFrame.lView}function Tt(){return he.lFrame.tView}function Tr(n){return he.lFrame.contextLView=n,n[Ht]}function Ar(n){return he.lFrame.contextLView=null,n}function wt(){let n=HE();for(;n!==null&&n.type===64;)n=n.parent;return n}function HE(){return he.lFrame.currentTNode}function wN(){let n=he.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Ia(n,e){let t=he.lFrame;t.currentTNode=n,t.isParent=e}function qE(){return he.lFrame.isParent}function IN(){he.lFrame.isParent=!1}function zE(){return BE}function MI(n){BE=n}function EN(n){return he.lFrame.bindingIndex=n}function Ea(){return he.lFrame.bindingIndex++}function DN(n){let e=he.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function CN(){return he.lFrame.inI18n}function bN(n,e){let t=he.lFrame;t.bindingIndex=t.bindingRootIndex=n,Fp(e)}function TN(){return he.lFrame.currentDirectiveIndex}function Fp(n){he.lFrame.currentDirectiveIndex=n}function AN(n){let e=he.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function GE(n){he.lFrame.currentQueryIndex=n}function SN(n){let e=n[ce];return e.type===2?e.declTNode:e.type===1?n[en]:null}function WE(n,e,t){if(t&ae.SkipSelf){let i=e,o=n;for(;i=i.parent,i===null&&!(t&ae.Host);)if(i=SN(o),i===null||(o=o[$o],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=he.lFrame=KE();return r.currentTNode=e,r.lView=n,!0}function Ig(n){let e=KE(),t=n[ce];he.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function KE(){let n=he.lFrame,e=n===null?null:n.child;return e===null?QE(n):e}function QE(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function YE(){let n=he.lFrame;return he.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var JE=YE;function Eg(){let n=YE();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function RN(n){return(he.lFrame.contextLView=hN(n,he.lFrame.contextLView))[Ht]}function Ho(){return he.lFrame.selectedIndex}function gi(n){he.lFrame.selectedIndex=n}function xl(){let n=he.lFrame;return _g(n.tView,n.selectedIndex)}function MN(){return he.lFrame.currentNamespace}var ZE=!0;function Dg(){return ZE}function Cg(n){ZE=n}function NN(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=FE(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function bg(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),u&&(n.viewHooks??=[]).push(-t,u),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),h!=null&&(n.destroyHooks??=[]).push(t,h)}}function Ku(n,e,t){XE(n,e,3,t)}function Qu(n,e,t,r){(n[ee]&3)===t&&XE(n,e,t,r)}function fp(n,e){let t=n[ee];(t&3)===e&&(t&=16383,t+=1,n[ee]=t)}function XE(n,e,t,r){let i=r!==void 0?n[To]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(n[To]+=65536),(a<o||o==-1)&&(xN(n,t,e,u),n[To]=(n[To]&4294901760)+u+2),u++}function NI(n,e){ln(4,n,e);let t=ge(null);try{e.call(n)}finally{ge(t),ln(5,n,e)}}function xN(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[ee]>>14<n[To]>>16&&(n[ee]&3)===e&&(n[ee]+=16384,NI(a,o)):NI(a,o)}var Ro=-1,mi=class{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}};function PN(n){return n instanceof mi}function FN(n){return(n.flags&8)!==0}function ON(n){return(n.flags&16)!==0}var pp={},Op=class{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=Tl(r);let i=this.injector.get(e,pp,r);return i!==pp||t===pp?i:this.parentInjector.get(e,t,r)}};function eD(n){return n!==Ro}function cl(n){return n&32767}function kN(n){return n>>16}function ul(n,e){let t=kN(n),r=e;for(;t>0;)r=r[$o],t--;return r}var kp=!0;function xI(n){let e=kp;return kp=n,e}var UN=256,tD=UN-1,nD=5,LN=0,dn={};function VN(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(da)&&(r=t[da]),r==null&&(r=t[da]=LN++);let i=r&tD,o=1<<i;e.data[n+(i>>nD)]|=o}function ll(n,e){let t=rD(n,e);if(t!==-1)return t;let r=e[ce];r.firstCreatePass&&(n.injectorIndex=e.length,gp(r.data,n),gp(e,null),gp(r.blueprint,null));let i=Tg(n,e),o=n.injectorIndex;if(eD(i)){let s=cl(i),a=ul(i,e),u=a[ce].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function gp(n,e){n.push(0,0,0,0,0,0,0,0,e)}function rD(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function Tg(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=cD(i),r===null)return Ro;if(t++,i=i[$o],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Ro}function Up(n,e,t){VN(n,e,t)}function jN(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(vE(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function iD(n,e,t){if(t&ae.Optional||n!==void 0)return n;fg(e,"NodeInjector")}function oD(n,e,t,r){if(t&ae.Optional&&r===void 0&&(r=null),!(t&(ae.Self|ae.Host))){let i=n[Fo],o=jt(void 0);try{return i?i.get(e,r,t&ae.Optional):dE(e,r,t&ae.Optional)}finally{jt(o)}}return iD(r,e,t)}function sD(n,e,t,r=ae.Default,i){if(n!==null){if(e[ee]&2048&&!(r&ae.Self)){let s=zN(n,e,t,r,dn);if(s!==dn)return s}let o=aD(n,e,t,r,dn);if(o!==dn)return o}return oD(e,t,r,i)}function aD(n,e,t,r,i){let o=HN(t);if(typeof o=="function"){if(!WE(e,n,r))return r&ae.Host?iD(i,t,r):oD(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&ae.Optional))fg(t);else return s}finally{JE()}}else if(typeof o=="number"){let s=null,a=rD(n,e),u=Ro,l=r&ae.Host?e[pn][en]:null;for((a===-1||r&ae.SkipSelf)&&(u=a===-1?Tg(n,e):e[a+8],u===Ro||!FI(r,!1)?a=-1:(s=e[ce],a=cl(u),e=ul(u,e)));a!==-1;){let h=e[ce];if(PI(o,a,h.data)){let p=BN(a,e,t,s,r,l);if(p!==dn)return p}u=e[a+8],u!==Ro&&FI(r,e[ce].data[a+8]===l)&&PI(o,a,e)?(s=h,a=cl(u),e=ul(u,e)):a=-1}}return i}function BN(n,e,t,r,i,o){let s=e[ce],a=s.data[n+8],u=r==null?Rl(a)&&kp:r!=s&&(a.type&3)!==0,l=i&ae.Host&&o===a,h=$N(a,s,t,u,l);return h!==null?Uo(e,s,h,a):dn}function $N(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,u=n.directiveStart,l=n.directiveEnd,h=o>>20,p=r?a:a+h,m=i?a+h:l;for(let v=p;v<m;v++){let A=s[v];if(v<u&&t===A||v>=u&&A.type===t)return v}if(i){let v=s[u];if(v&&Dr(v)&&v.type===t)return u}return null}function Uo(n,e,t,r){let i=n[t],o=e.data;if(PN(i)){let s=i;s.resolving&&_M(vM(o[t]));let a=xI(s.canSeeViewProviders);s.resolving=!0;let u,l=s.injectImpl?jt(s.injectImpl):null,h=WE(n,r,ae.Default);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&NN(t,o[t],e)}finally{l!==null&&jt(l),xI(a),s.resolving=!1,JE()}}return i}function HN(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(da)?n[da]:void 0;return typeof e=="number"?e>=0?e&tD:qN:e}function PI(n,e,t){let r=1<<n;return!!(t[e+(n>>nD)]&r)}function FI(n,e){return!(n&ae.Self)&&!(n&ae.Host&&e)}var di=class{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return sD(this._tNode,this._lView,e,Tl(r),t)}};function qN(){return new di(wt(),Ae())}function wi(n){return _a(()=>{let e=n.prototype.constructor,t=e[Zu]||Lp(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[Zu]||Lp(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Lp(n){return oE(n)?()=>{let e=Lp(mt(n));return e&&e()}:Mo(n)}function zN(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[ee]&2048&&!(s[ee]&512);){let a=aD(o,s,t,r|ae.Self,dn);if(a!==dn)return a;let u=o.parent;if(!u){let l=s[ME];if(l){let h=l.get(t,dn,r);if(h!==dn)return h}u=cD(s),s=s[$o]}o=u}return i}function cD(n){let e=n[ce],t=e.type;return t===2?e.declTNode:t===1?n[en]:null}function Ag(n){return jN(wt(),n)}function OI(n,e=null,t=null,r){let i=uD(n,e,t,r);return i.resolveInjectorInitializers(),i}function uD(n,e=null,t=null,r,i=new Set){let o=[t||Bt,WM(n)];return r=r||(typeof n=="object"?void 0:yt(n)),new pa(o,e||yg(),r||null,i)}var bt=class n{static{this.THROW_IF_NOT_FOUND=ha}static{this.NULL=new tl}static create(e,t){if(Array.isArray(e))return OI({name:""},t,e,"");{let r=e.name??"";return OI({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=$({token:n,providedIn:"any",factory:()=>Q(gE)})}static{this.__NG_ELEMENT_ID__=-1}};var GN=new B("");GN.__NG_ELEMENT_ID__=n=>{let e=wt();if(e===null)throw new z(204,!1);if(e.type&2)return e.value;if(n&ae.Optional)return null;throw new z(204,!1)};var WN="ngOriginalError";function mp(n){return n[WN]}var lD=!0,dD=(()=>{class n{static{this.__NG_ELEMENT_ID__=KN}static{this.__NG_ENV_ID__=t=>t}}return n})(),Vp=class extends dD{constructor(e){super(),this._lView=e}onDestroy(e){return jE(this._lView,e),()=>fN(this._lView,e)}};function KN(){return new Vp(Ae())}var Sr=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Xe(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=$({token:n,providedIn:"root",factory:()=>new n})}}return n})();var jp=class extends Ke{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,iN()&&(this.destroyRef=P(dD,{optional:!0})??void 0,this.pendingTasks=P(Sr,{optional:!0})??void 0)}emit(e){let t=ge(null);try{super.next(e)}finally{ge(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Oe&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(t),r!==void 0&&this.pendingTasks?.remove(r)})}}},xe=jp;function dl(...n){}function hD(n){let e,t;function r(){n=dl;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function kI(n){return queueMicrotask(()=>n()),()=>{n=dl}}var Sg="isAngularZone",hl=Sg+"_ID",QN=0,Ee=class n{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new xe(!1),this.onMicrotaskEmpty=new xe(!1),this.onStable=new xe(!1),this.onError=new xe(!1);let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=lD}=e;if(typeof Zone>"u")throw new z(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,ZN(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Sg)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new z(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new z(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,YN,dl,dl);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},YN={};function Rg(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function JN(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){hD(()=>{n.callbackScheduled=!1,Bp(n),n.isCheckStableRunning=!0,Rg(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),Bp(n)}function ZN(n){let e=()=>{JN(n)},t=QN++;n._inner=n._inner.fork({name:"angular",properties:{[Sg]:!0,[hl]:t,[hl+t]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(XN(u))return r.invokeTask(o,s,a,u);try{return UI(n),r.invokeTask(o,s,a,u)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),LI(n)}},onInvoke:(r,i,o,s,a,u,l)=>{try{return UI(n),r.invoke(o,s,a,u,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!ex(u)&&e(),LI(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,Bp(n),Rg(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function Bp(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function UI(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function LI(n){n._nesting--,Rg(n)}var $p=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new xe,this.onMicrotaskEmpty=new xe,this.onStable=new xe,this.onError=new xe}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function XN(n){return fD(n,"__ignore_ng_zone__")}function ex(n){return fD(n,"__scheduler_tick__")}function fD(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var Ln=class{constructor(){this._console=console}handleError(e){let t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&mp(e);for(;t&&mp(t);)t=mp(t);return t||null}},tx=new B("",{providedIn:"root",factory:()=>{let n=P(Ee),e=P(Ln);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function nx(){return Pl(wt(),Ae())}function Pl(n,e){return new Rr(zt(n,e))}var Rr=(()=>{class n{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=nx}}return n})();function pD(n){return(n.flags&128)===128}var gD=new Map,rx=0;function ix(){return rx++}function ox(n){gD.set(n[Sl],n)}function Hp(n){gD.delete(n[Sl])}var VI="__ngContext__";function yi(n,e){Ir(e)?(n[VI]=e[Sl],ox(e)):n[VI]=e}function mD(n){return vD(n[ga])}function yD(n){return vD(n[Zt])}function vD(n){for(;n!==null&&!zn(n);)n=n[Zt];return n}var qp;function _D(n){qp=n}function sx(){if(qp!==void 0)return qp;if(typeof document<"u")return document;throw new z(210,!1)}var Mg=new B("",{providedIn:"root",factory:()=>ax}),ax="ng",Ng=new B(""),vn=new B("",{providedIn:"platform",factory:()=>"unknown"});var xg=new B("",{providedIn:"root",factory:()=>sx().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var cx="h",ux="b";var lx=()=>null;function Pg(n,e,t=!1){return lx(n,e,t)}var wD=!1,dx=new B("",{providedIn:"root",factory:()=>wD});var Hu;function hx(){if(Hu===void 0&&(Hu=null,Dp.trustedTypes))try{Hu=Dp.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Hu}function jI(n){return hx()?.createScriptURL(n)||n}var fl=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${rE})`}};function Da(n){return n instanceof fl?n.changingThisBreaksApplicationSecurity:n}function Fg(n,e){let t=fx(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${rE})`)}return t===e}function fx(n){return n instanceof fl&&n.getTypeName()||null}var px=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function ID(n){return n=String(n),n.match(px)?n:"unsafe:"+n}var Fl=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Fl||{});function Ii(n){let e=DD();return e?e.sanitize(Fl.URL,n)||"":Fg(n,"URL")?Da(n):ID(bl(n))}function gx(n){let e=DD();if(e)return jI(e.sanitize(Fl.RESOURCE_URL,n)||"");if(Fg(n,"ResourceURL"))return jI(Da(n));throw new z(904,!1)}function mx(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?gx:Ii}function ED(n,e,t){return mx(e,t)(n)}function DD(){let n=Ae();return n&&n[fn].sanitizer}function CD(n){return n instanceof Function?n():n}var Vn=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Vn||{}),yx;function Og(n,e){return yx(n,e)}function Ao(n,e,t,r,i){if(r!=null){let o,s=!1;zn(r)?o=r:Ir(r)&&(s=!0,r=r[qn]);let a=mn(r);n===0&&t!==null?i==null?SD(e,t,a):gl(e,t,a,i||null,!0):n===1&&t!==null?gl(e,t,a,i||null,!0):n===2?xx(e,a,s):n===3&&e.destroyNode(a),o!=null&&Fx(e,n,o,t,i)}}function vx(n,e){return n.createText(e)}function _x(n,e,t){n.setValue(e,t)}function bD(n,e,t){return n.createElement(e,t)}function wx(n,e){TD(n,e),e[qn]=null,e[en]=null}function Ix(n,e,t,r,i,o){r[qn]=i,r[en]=e,Ol(n,r,t,1,i,o)}function TD(n,e){e[fn].changeDetectionScheduler?.notify(9),Ol(n,e,e[Ve],2,null,null)}function Ex(n){let e=n[ga];if(!e)return yp(n[ce],n);for(;e;){let t=null;if(Ir(e))t=e[ga];else{let r=e[Ot];r&&(t=r)}if(!t){for(;e&&!e[Zt]&&e!==n;)Ir(e)&&yp(e[ce],e),e=e[vt];e===null&&(e=n),Ir(e)&&yp(e[ce],e),t=e&&e[Zt]}e=t}}function Dx(n,e,t,r){let i=Ot+r,o=t.length;r>0&&(t[i-1][Zt]=e),r<o-Ot?(e[Zt]=t[i],pE(t,Ot+r,e)):(t.push(e),e[Zt]=null),e[vt]=t;let s=e[Oo];s!==null&&t!==s&&AD(s,e);let a=e[ko];a!==null&&a.insertView(n),Pp(e),e[ee]|=128}function AD(n,e){let t=n[ol],r=e[vt];if(Ir(r))n[ee]|=sl.HasTransplantedViews;else{let i=r[vt][pn];e[pn]!==i&&(n[ee]|=sl.HasTransplantedViews)}t===null?n[ol]=[e]:t.push(e)}function kg(n,e){let t=n[ol],r=t.indexOf(e);t.splice(r,1)}function pl(n,e){if(n.length<=Ot)return;let t=Ot+e,r=n[t];if(r){let i=r[Oo];i!==null&&i!==n&&kg(i,r),e>0&&(n[t-1][Zt]=r[Zt]);let o=el(n,Ot+e);wx(r[ce],r);let s=o[ko];s!==null&&s.detachView(o[ce]),r[vt]=null,r[Zt]=null,r[ee]&=-129}return r}function Ug(n,e){if(!(e[ee]&256)){let t=e[Ve];t.destroyNode&&Ol(n,e,t,3,null,null),Ex(e)}}function yp(n,e){if(e[ee]&256)return;let t=ge(null);try{e[ee]&=-129,e[ee]|=256,e[$t]&&Bf(e[$t]),bx(n,e),Cx(n,e),e[ce].type===1&&e[Ve].destroy();let r=e[Oo];if(r!==null&&zn(e[vt])){r!==e[vt]&&kg(r,e);let i=e[ko];i!==null&&i.detachView(n)}Hp(e)}finally{ge(t)}}function Cx(n,e){let t=n.cleanup,r=e[rl];if(t!==null)for(let o=0;o<t.length-1;o+=2)if(typeof t[o]=="string"){let s=t[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[t[o+1]];t[o].call(s)}r!==null&&(e[rl]=null);let i=e[wr];if(i!==null){e[wr]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function bx(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof mi)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];ln(4,a,u);try{u.call(a)}finally{ln(5,a,u)}}else{ln(4,i,o);try{o.call(i)}finally{ln(5,i,o)}}}}}function Tx(n,e,t){return Ax(n,e.parent,t)}function Ax(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[qn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=n.data[r.directiveStart+i];if(o===hn.None||o===hn.Emulated)return null}return zt(r,t)}}function gl(n,e,t,r,i){n.insertBefore(e,t,r,i)}function SD(n,e,t){n.appendChild(e,t)}function BI(n,e,t,r,i){r!==null?gl(n,e,t,r,i):SD(n,e,t)}function RD(n,e){return n.parentNode(e)}function Sx(n,e){return n.nextSibling(e)}function Rx(n,e,t){return Nx(n,e,t)}function Mx(n,e,t){return n.type&40?zt(n,t):null}var Nx=Mx,$I;function Lg(n,e,t,r){let i=Tx(n,r,e),o=e[Ve],s=r.parent||e[en],a=Rx(s,r,e);if(i!=null)if(Array.isArray(t))for(let u=0;u<t.length;u++)BI(o,i,t[u],a,!1);else BI(o,i,t,a,!1);$I!==void 0&&$I(o,r,e,t,i)}function ua(n,e){if(e!==null){let t=e.type;if(t&3)return zt(e,n);if(t&4)return zp(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return ua(n,r);{let i=n[e.index];return zn(i)?zp(-1,i):mn(i)}}else{if(t&128)return ua(n,e.next);if(t&32)return Og(e,n)()||mn(n[e.index]);{let r=MD(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=pi(n[pn]);return ua(i,r)}else return ua(n,e.next)}}}return null}function MD(n,e){if(e!==null){let r=n[pn][en],i=e.projection;return r.projection[i]}return null}function zp(n,e){let t=Ot+n+1;if(t<e.length){let r=e[t],i=r[ce].firstChild;if(i!==null)return ua(r,i)}return e[fi]}function xx(n,e,t){n.removeChild(null,e,t)}function Vg(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],u=t.type;if(s&&e===0&&(a&&yi(mn(a),r),t.flags|=2),(t.flags&32)!==32)if(u&8)Vg(n,e,t.child,r,i,o,!1),Ao(e,n,i,a,o);else if(u&32){let l=Og(t,r),h;for(;h=l();)Ao(e,n,i,h,o);Ao(e,n,i,a,o)}else u&16?Px(n,e,r,t,i,o):Ao(e,n,i,a,o);t=s?t.projectionNext:t.next}}function Ol(n,e,t,r,i,o){Vg(t,r,n.firstChild,e,i,o,!1)}function Px(n,e,t,r,i,o){let s=t[pn],u=s[en].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];Ao(e,n,i,h,o)}else{let l=u,h=s[vt];pD(r)&&(l.flags|=128),Vg(n,e,l,h,i,o,!0)}}function Fx(n,e,t,r,i){let o=t[fi],s=mn(t);o!==s&&Ao(e,n,r,o,i);for(let a=Ot;a<t.length;a++){let u=t[a];Ol(u[ce],u,n,e,r,o)}}function Ox(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:Vn.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Vn.Important),n.setStyle(t,r,i,o))}}function kx(n,e,t){n.setAttribute(e,"style",t)}function ND(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function xD(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&Ap(n,e,r),i!==null&&ND(n,e,i),o!==null&&kx(n,e,o)}var Mr={};function ye(n=1){PD(Tt(),Ae(),Ho()+n,!1)}function PD(n,e,t,r){if(!r)if((e[ee]&3)===3){let o=n.preOrderCheckHooks;o!==null&&Ku(e,o,t)}else{let o=n.preOrderHooks;o!==null&&Qu(e,o,0,t)}gi(t)}function W(n,e=ae.Default){let t=Ae();if(t===null)return Q(n,e);let r=wt();return sD(r,t,mt(n),e)}function FD(n,e,t,r,i,o){let s=ge(null);try{let a=null;i&Er.SignalBased&&(a=e[r][On]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&Er.HasDecoratorInputTransform&&(o=n.inputTransforms[r].call(e,o)),n.setInput!==null?n.setInput(e,a,o,t,r):PE(e,a,r,o)}finally{ge(s)}}function Ux(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)gi(~i);else{let o=i,s=t[++r],a=t[++r];bN(s,o);let u=e[o];a(2,u)}}}finally{gi(-1)}}function kl(n,e,t,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[qn]=i,p[ee]=r|4|128|8|64,(l!==null||n&&n[ee]&2048)&&(p[ee]|=2048),LE(p),p[vt]=p[$o]=n,p[Ht]=t,p[fn]=s||n&&n[fn],p[Ve]=a||n&&n[Ve],p[Fo]=u||n&&n[Fo]||null,p[en]=o,p[Sl]=ix(),p[nl]=h,p[ME]=l,p[pn]=e.type==2?n[pn]:p,p}function Ul(n,e,t,r,i){let o=n.data[e];if(o===null)o=Lx(n,e,t,r,i),CN()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=wN();o.injectorIndex=s===null?-1:s.injectorIndex}return Ia(o,!0),o}function Lx(n,e,t,r,i){let o=HE(),s=qE(),a=s?o:o&&o.parent,u=n.data[e]=Hx(n,a,t,e,r,i);return n.firstChild===null&&(n.firstChild=u),o!==null&&(s?o.child==null&&u.parent!==null&&(o.child=u):o.next===null&&(o.next=u,u.prev=o)),u}function OD(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function kD(n,e,t,r,i){let o=Ho(),s=r&2;try{gi(-1),s&&e.length>gn&&PD(n,e,gn,!1),ln(s?2:0,i),t(r,i)}finally{gi(o),ln(s?3:1,i)}}function UD(n,e,t){if(xE(e)){let r=ge(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let u=t[s];a.contentQueries(1,u,s)}}}finally{ge(r)}}}function LD(n,e,t){$E()&&(Qx(n,e,t,zt(t,e)),(t.flags&64)===64&&HD(n,e,t))}function VD(n,e,t=zt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function jD(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=jg(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function jg(n,e,t,r,i,o,s,a,u,l,h){let p=gn+r,m=p+i,v=Vx(p,m),A=typeof l=="function"?l():l;return v[ce]={type:n,blueprint:v,template:t,queries:null,viewQuery:a,declTNode:e,data:v.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:A,incompleteFirstPass:!1,ssrId:h}}function Vx(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:Mr);return t}function jx(n,e,t,r){let o=r.get(dx,wD)||t===hn.ShadowDom,s=n.selectRootElement(e,o);return Bx(s),s}function Bx(n){$x(n)}var $x=()=>null;function Hx(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return yN()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function HI(n,e,t,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,u=Er.None;Array.isArray(s)?(a=s[0],u=s[1]):a=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}n===0?qI(r,t,l,a,u):qI(r,t,l,a)}return r}function qI(n,e,t,r,i){let o;n.hasOwnProperty(t)?(o=n[t]).push(e,r):o=n[t]=[e,r],i!==void 0&&o.push(i)}function qx(n,e,t){let r=e.directiveStart,i=e.directiveEnd,o=n.data,s=e.attrs,a=[],u=null,l=null;for(let h=r;h<i;h++){let p=o[h],m=t?t.get(p):null,v=m?m.inputs:null,A=m?m.outputs:null;u=HI(0,p.inputs,h,u,v),l=HI(1,p.outputs,h,l,A);let M=u!==null&&s!==null&&!gg(e)?sP(u,h,s):null;a.push(M)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=l}function zx(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function Bg(n,e,t,r,i,o,s,a){let u=zt(e,t),l=e.inputs,h;!a&&l!=null&&(h=l[r])?($g(n,t,h,r,i),Rl(e)&&Gx(t,e.index)):e.type&3?(r=zx(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)):e.type&12}function Gx(n,e){let t=br(e,n);t[ee]&16||(t[ee]|=64)}function BD(n,e,t,r){if($E()){let i=r===null?null:{"":-1},o=Jx(n,t),s,a;o===null?s=a=null:[s,a]=o,s!==null&&$D(n,e,t,s,i,a),i&&Zx(t,r,i)}t.mergedAttrs=fa(t.mergedAttrs,t.attrs)}function $D(n,e,t,r,i,o){for(let l=0;l<r.length;l++)Up(ll(t,e),n,r[l].type);eP(t,n.data.length,r.length);for(let l=0;l<r.length;l++){let h=r[l];h.providersResolver&&h.providersResolver(h)}let s=!1,a=!1,u=OD(n,e,r.length,null);for(let l=0;l<r.length;l++){let h=r[l];t.mergedAttrs=fa(t.mergedAttrs,h.hostAttrs),tP(n,t,e,u,h),Xx(u,h,i),h.contentQueries!==null&&(t.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(t.flags|=64);let p=h.type.prototype;!s&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),u++}qx(n,t,o)}function Wx(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;Kx(s)!=a&&s.push(a),s.push(t,r,o)}}function Kx(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function Qx(n,e,t,r){let i=t.directiveStart,o=t.directiveEnd;Rl(t)&&nP(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||ll(t,e),yi(r,e);let s=t.initialInputs;for(let a=i;a<o;a++){let u=n.data[a],l=Uo(e,n,a,t);if(yi(l,e),s!==null&&oP(e,a-i,l,u,t,s),Dr(u)){let h=br(t.index,e);h[Ht]=Uo(e,n,a,t)}}}function HD(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=TN();try{gi(o);for(let a=r;a<i;a++){let u=n.data[a],l=e[a];Fp(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&Yx(u,l)}}finally{gi(-1),Fp(s)}}function Yx(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function Jx(n,e){let t=n.directiveRegistry,r=null,i=null;if(t)for(let o=0;o<t.length;o++){let s=t[o];if(LM(e,s.selectors,!1))if(r||(r=[]),Dr(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let u=a.length;Gp(n,e,u)}else r.unshift(s),Gp(n,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function Gp(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function Zx(n,e,t){if(e){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new z(-301,!1);r.push(e[i],o)}}}function Xx(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Dr(e)&&(t[""]=n)}}function eP(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function tP(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=Mo(i.type,!0)),s=new mi(o,Dr(i),W);n.blueprint[r]=s,t[r]=s,Wx(n,e,r,OD(n,t,i.hostVars,Mr),i)}function nP(n,e,t){let r=zt(e,n),i=jD(t),o=n[fn].rendererFactory,s=16;t.signals?s=4096:t.onPush&&(s=64);let a=Ll(n,kl(n,i,null,s,r,e,null,o.createRenderer(r,t),null,null,null));n[e.index]=a}function rP(n,e,t,r,i,o){let s=zt(n,e);iP(e[Ve],s,o,n.value,t,r,i)}function iP(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?bl(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function oP(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let u=s[a++],l=s[a++],h=s[a++],p=s[a++];FD(r,t,u,l,h,p)}}function sP(n,e,t){let r=null,i=0;for(;i<t.length;){let o=t[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(n.hasOwnProperty(o)){r===null&&(r=[]);let s=n[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],t[i+1]);break}}i+=2}return r}function qD(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function zD(n,e){let t=n.contentQueries;if(t!==null){let r=ge(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];GE(o),a.contentQueries(2,e[s],s)}}}finally{ge(r)}}}function Ll(n,e){return n[ga]?n[SI][Zt]=e:n[ga]=e,n[SI]=e,e}function Wp(n,e,t){GE(0);let r=ge(null);try{e(n,t)}finally{ge(r)}}function aP(n){return n[rl]??=[]}function cP(n){return n.cleanup??=[]}function GD(n,e){let t=n[Fo],r=t?t.get(Ln,null):null;r&&r.handleError(e)}function $g(n,e,t,r,i){for(let o=0;o<t.length;){let s=t[o++],a=t[o++],u=t[o++],l=e[s],h=n.data[s];FD(h,l,r,a,u,i)}}function uP(n,e,t){let r=UE(e,n);_x(n[Ve],r,t)}function lP(n,e){let t=br(e,n),r=t[ce];dP(r,t);let i=t[qn];i!==null&&t[nl]===null&&(t[nl]=Pg(i,t[Fo])),Hg(r,t,t[Ht])}function dP(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function Hg(n,e,t){Ig(e);try{let r=n.viewQuery;r!==null&&Wp(1,r,t);let i=n.template;i!==null&&kD(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[ko]?.finishViewCreation(n),n.staticContentQueries&&zD(n,e),n.staticViewQueries&&Wp(2,n.viewQuery,t);let o=n.components;o!==null&&hP(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[ee]&=-5,Eg()}}function hP(n,e){for(let t=0;t<e.length;t++)lP(n,e[t])}function WD(n,e,t,r){let i=ge(null);try{let o=e.tView,a=n[ee]&4096?4096:16,u=kl(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];u[Oo]=l;let h=n[ko];return h!==null&&(u[ko]=h.createEmbeddedView(o)),Hg(o,u,t),u}finally{ge(i)}}function fP(n,e){let t=Ot+e;if(t<n.length)return n[t]}function Kp(n,e){return!e||e.firstChild===null||pD(n)}function KD(n,e,t,r=!0){let i=e[ce];if(Dx(i,e,n,t),r){let s=zp(t,n),a=e[Ve],u=RD(a,n[fi]);u!==null&&Ix(i,n[en],a,e,u,s)}let o=e[nl];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function pP(n,e){let t=pl(n,e);return t!==void 0&&Ug(t[ce],t),t}function ml(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(mn(o)),zn(o)&&gP(o,r);let s=t.type;if(s&8)ml(n,e,t.child,r);else if(s&32){let a=Og(t,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=MD(e,t);if(Array.isArray(a))r.push(...a);else{let u=pi(e[pn]);ml(u[ce],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function gP(n,e){for(let t=Ot;t<n.length;t++){let r=n[t],i=r[ce].firstChild;i!==null&&ml(r[ce],r,i,e)}n[fi]!==n[qn]&&e.push(n[fi])}var QD=[];function mP(n){return n[$t]??yP(n)}function yP(n){let e=QD.pop()??Object.create(_P);return e.lView=n,e}function vP(n){n.lView[$t]!==n&&(n.lView=null,QD.push(n))}var _P=ue(k({},sa),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{Nl(n.lView)},consumerOnSignalRead(){this.lView[$t]=this}});function wP(n){let e=n[$t]??Object.create(IP);return e.lView=n,e}var IP=ue(k({},sa),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{let e=pi(n.lView);for(;e&&!YD(e[ce]);)e=pi(e);e&&VE(e)},consumerOnSignalRead(){this.lView[$t]=this}});function YD(n){return n.type!==2}var EP=100;function JD(n,e=!0,t=0){let r=n[fn],i=r.rendererFactory,o=!1;o||i.begin?.();try{DP(n,t)}catch(s){throw e&&GD(n,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function DP(n,e){let t=zE();try{MI(!0),Qp(n,e);let r=0;for(;Ml(n);){if(r===EP)throw new z(103,!1);r++,Qp(n,1)}}finally{MI(t)}}function CP(n,e,t,r){let i=e[ee];if((i&256)===256)return;let o=!1,s=!1;!o&&e[fn].inlineEffectRunner?.flush(),Ig(e);let a=!0,u=null,l=null;o||(YD(n)?(l=mP(e),u=pu(l)):Fw()===null?(a=!1,l=wP(e),u=pu(l)):e[$t]&&(Bf(e[$t]),e[$t]=null));try{LE(e),EN(n.bindingStartIndex),t!==null&&kD(n,e,t,2,r);let h=(i&3)===3;if(!o)if(h){let v=n.preOrderCheckHooks;v!==null&&Ku(e,v,null)}else{let v=n.preOrderHooks;v!==null&&Qu(e,v,0,null),fp(e,0)}if(s||bP(e),ZD(e,0),n.contentQueries!==null&&zD(n,e),!o)if(h){let v=n.contentCheckHooks;v!==null&&Ku(e,v)}else{let v=n.contentHooks;v!==null&&Qu(e,v,1),fp(e,1)}Ux(n,e);let p=n.components;p!==null&&eC(e,p,0);let m=n.viewQuery;if(m!==null&&Wp(2,m,r),!o)if(h){let v=n.viewCheckHooks;v!==null&&Ku(e,v)}else{let v=n.viewHooks;v!==null&&Qu(e,v,2),fp(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[hp]){for(let v of e[hp])v();e[hp]=null}o||(e[ee]&=-73)}catch(h){throw o||Nl(e),h}finally{l!==null&&(Vf(l,u),a&&vP(l)),Eg()}}function ZD(n,e){for(let t=mD(n);t!==null;t=yD(t))for(let r=Ot;r<t.length;r++){let i=t[r];XD(i,e)}}function bP(n){for(let e=mD(n);e!==null;e=yD(e)){if(!(e[ee]&sl.HasTransplantedViews))continue;let t=e[ol];for(let r=0;r<t.length;r++){let i=t[r];VE(i)}}}function TP(n,e,t){let r=br(e,n);XD(r,t)}function XD(n,e){wg(n)&&Qp(n,e)}function Qp(n,e){let r=n[ce],i=n[ee],o=n[$t],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&jf(o)),s||=!1,o&&(o.dirty=!1),n[ee]&=-9217,s)CP(r,n,r.template,n[Ht]);else if(i&8192){ZD(n,1);let a=r.components;a!==null&&eC(n,a,1)}}function eC(n,e,t){for(let r=0;r<e.length;r++)TP(n,e[r],t)}function qg(n,e){let t=zE()?64:1088;for(n[fn].changeDetectionScheduler?.notify(e);n;){n[ee]|=t;let r=pi(n);if(Np(n)&&!r)return n;n=r}return null}var vi=class{get rootNodes(){let e=this._lView,t=e[ce];return ml(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ht]}set context(e){this._lView[Ht]=e}get destroyed(){return(this._lView[ee]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[vt];if(zn(e)){let t=e[il],r=t?t.indexOf(this):-1;r>-1&&(pl(e,r),el(t,r))}this._attachedToViewContainer=!1}Ug(this._lView[ce],this._lView)}onDestroy(e){jE(this._lView,e)}markForCheck(){qg(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ee]&=-129}reattach(){Pp(this._lView),this._lView[ee]|=128}detectChanges(){this._lView[ee]|=1024,JD(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new z(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Np(this._lView),t=this._lView[Oo];t!==null&&!e&&kg(t,this._lView),TD(this._lView[ce],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new z(902,!1);this._appRef=e;let t=Np(this._lView),r=this._lView[Oo];r!==null&&!t&&AD(r,this._lView),Pp(this._lView)}},Vl=(()=>{class n{static{this.__NG_ELEMENT_ID__=RP}}return n})(),AP=Vl,SP=class extends AP{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=WD(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new vi(i)}};function RP(){return MP(wt(),Ae())}function MP(n,e){return n.type&4?new SP(e,n,Pl(n,e)):null}var rG=new RegExp(`^(\\d+)*(${ux}|${cx})*(.*)`);var NP=()=>null;function Yp(n,e){return NP(n,e)}var Lo=class{},jl=new B("",{providedIn:"root",factory:()=>!1});var tC=new B(""),nC=new B(""),Jp=class{},yl=class{};function xP(n){let e=Error(`No component factory found for ${yt(n)}.`);return e[PP]=n,e}var PP="ngComponent";var Zp=class{resolveComponentFactory(e){throw xP(e)}},Vo=class{static{this.NULL=new Zp}},jo=class{},Ei=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>FP()}}return n})();function FP(){let n=Ae(),e=wt(),t=br(e.index,n);return(Ir(t)?t:n)[Ve]}var OP=(()=>{class n{static{this.\u0275prov=$({token:n,providedIn:"root",factory:()=>null})}}return n})();function Xp(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=vI(i,a);else if(o==2){let u=a,l=e[++s];r=vI(r,u+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}var vl=class extends Vo{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=hi(e);return new ma(t,this.ngModule)}};function zI(n,e){let t=[];for(let r in n){if(!n.hasOwnProperty(r))continue;let i=n[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,a=o?i[1]:Er.None;e?t.push({propName:s,templateName:r,isSignal:(a&Er.SignalBased)!==0}):t.push({propName:s,templateName:r})}return t}function kP(n){let e=n.toLowerCase();return e==="svg"?uN:e==="math"?lN:null}var ma=class extends yl{get inputs(){let e=this.componentDef,t=e.inputTransforms,r=zI(e.inputs,!0);if(t!==null)for(let i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return zI(this.componentDef.outputs,!1)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=$M(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let o=ge(null);try{i=i||this.ngModule;let s=i instanceof Ct?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new Op(e,s):e,u=a.get(jo,null);if(u===null)throw new z(407,!1);let l=a.get(OP,null),h=a.get(Lo,null),p={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,changeDetectionScheduler:h},m=u.createRenderer(null,this.componentDef),v=this.componentDef.selectors[0][0]||"div",A=r?jx(m,r,this.componentDef.encapsulation,a):bD(m,v,kP(v)),M=512;this.componentDef.signals?M|=4096:this.componentDef.onPush||(M|=16);let R=null;A!==null&&(R=Pg(A,a,!0));let O=jg(0,null,null,1,0,null,null,null,null,null,null),q=kl(null,O,null,M,null,null,p,m,a,null,R);Ig(q);let U,ne,Ie=null;try{let K=this.componentDef,E,y=null;K.findHostDirectiveDefs?(E=[],y=new Map,K.findHostDirectiveDefs(K,E,y),E.push(K)):E=[K];let w=UP(q,A);Ie=LP(w,A,K,E,q,p,m),ne=_g(O,gn),A&&BP(m,K,A,r),t!==void 0&&$P(ne,this.ngContentSelectors,t),U=jP(Ie,K,E,y,q,[HP]),Hg(O,q,null)}catch(K){throw Ie!==null&&Hp(Ie),Hp(q),K}finally{Eg()}return new eg(this.componentType,U,Pl(ne,q),q,ne)}finally{ge(o)}}},eg=class extends Jp{constructor(e,t,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new vi(i,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let o=this._rootLView;$g(o[ce],o,i,e,t),this.previousInputValues.set(e,t);let s=br(this._tNode.index,o);qg(s,1)}}get injector(){return new di(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function UP(n,e){let t=n[ce],r=gn;return n[r]=e,Ul(t,r,2,"#host",null)}function LP(n,e,t,r,i,o,s){let a=i[ce];VP(r,n,e,s);let u=null;e!==null&&(u=Pg(e,i[Fo]));let l=o.rendererFactory.createRenderer(e,t),h=16;t.signals?h=4096:t.onPush&&(h=64);let p=kl(i,jD(t),null,h,i[n.index],n,o,l,null,null,u);return a.firstCreatePass&&Gp(a,n,r.length-1),Ll(i,p),i[n.index]=p}function VP(n,e,t,r){for(let i of n)e.mergedAttrs=fa(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Xp(e,e.mergedAttrs,!0),t!==null&&xD(r,t,e))}function jP(n,e,t,r,i,o){let s=wt(),a=i[ce],u=zt(s,i);$D(a,i,s,t,null,r);for(let h=0;h<t.length;h++){let p=s.directiveStart+h,m=Uo(i,a,p,s);yi(m,i)}HD(a,i,s),u&&yi(u,i);let l=Uo(i,a,s.directiveStart+s.componentOffset,s);if(n[Ht]=i[Ht]=l,o!==null)for(let h of o)h(l,e);return UD(a,s,i),l}function BP(n,e,t,r){if(r)Ap(n,t,["ng-version","18.2.8"]);else{let{attrs:i,classes:o}=HM(e.selectors[0]);i&&Ap(n,t,i),o&&o.length>0&&ND(n,t,o.join(" "))}}function $P(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null?Array.from(o):null)}}function HP(){let n=wt();bg(Ae()[ce],n)}var qo=(()=>{class n{static{this.__NG_ELEMENT_ID__=qP}}return n})();function qP(){let n=wt();return GP(n,Ae())}var zP=qo,rC=class extends zP{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Pl(this._hostTNode,this._hostLView)}get injector(){return new di(this._hostTNode,this._hostLView)}get parentInjector(){let e=Tg(this._hostTNode,this._hostLView);if(eD(e)){let t=ul(e,this._hostLView),r=cl(e),i=t[ce].data[r+8];return new di(i,t)}else return new di(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=GI(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Ot}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Yp(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,Kp(this._hostTNode,s)),a}createComponent(e,t,r,i,o){let s=e&&!oN(e),a;if(s)a=t;else{let A=t||{};a=A.index,r=A.injector,i=A.projectableNodes,o=A.environmentInjector||A.ngModuleRef}let u=s?e:new ma(hi(e)),l=r||this.parentInjector;if(!o&&u.ngModule==null){let M=(s?l:this.parentInjector).get(Ct,null);M&&(o=M)}let h=hi(u.componentType??{}),p=Yp(this._lContainer,h?.id??null),m=p?.firstChild??null,v=u.create(l,i,m,o);return this.insertImpl(v.hostView,a,Kp(this._hostTNode,p)),v}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(dN(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[vt],l=new rC(u,u[en],u[vt]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return KD(s,i,o,r),e.attachToViewContainerRef(),pE(vp(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=GI(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=pl(this._lContainer,t);r&&(el(vp(this._lContainer),t),Ug(r[ce],r))}detach(e){let t=this._adjustIndex(e,-1),r=pl(this._lContainer,t);return r&&el(vp(this._lContainer),t)!=null?new vi(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function GI(n){return n[il]}function vp(n){return n[il]||(n[il]=[])}function GP(n,e){let t,r=e[n.index];return zn(r)?t=r:(t=qD(r,e,null,n),e[n.index]=t,Ll(e,t)),KP(t,e,n,r),new rC(t,n,e)}function WP(n,e){let t=n[Ve],r=t.createComment(""),i=zt(e,n),o=RD(t,i);return gl(t,o,r,Sx(t,i),!1),r}var KP=JP,QP=()=>!1;function YP(n,e,t){return QP(n,e,t)}function JP(n,e,t,r){if(n[fi])return;let i;t.type&8?i=mn(r):i=WP(e,t),n[fi]=i}var WI=new Set;function Di(n){WI.has(n)||(WI.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function ZP(n){return typeof n=="function"&&n[On]!==void 0}function Ca(n,e){Di("NgSignals");let t=zw(n),r=t[On];return e?.equal&&(r.equal=e.equal),t.set=i=>$f(r,i),t.update=i=>Gw(r,i),t.asReadonly=XP.bind(t),t}function XP(){let n=this[On];if(n.readonlyFn===void 0){let e=()=>this();e[On]=n,n.readonlyFn=e}return n.readonlyFn}function iC(n){return ZP(n)&&typeof n.set=="function"}function eF(n){return Object.getPrototypeOf(n.prototype).constructor}function tn(n){let e=eF(n.type),t=!0,r=[n];for(;e;){let i;if(Dr(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new z(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=qu(n.inputs),s.inputTransforms=qu(n.inputTransforms),s.declaredInputs=qu(n.declaredInputs),s.outputs=qu(n.outputs);let a=i.hostBindings;a&&oF(n,a);let u=i.viewQuery,l=i.contentQueries;if(u&&rF(n,u),l&&iF(n,l),tF(n,i),lM(n.outputs,i.outputs),Dr(i)&&i.data.animation){let h=n.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===tn&&(t=!1)}}e=Object.getPrototypeOf(e)}nF(r)}function tF(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];if(r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;n.inputTransforms??={},n.inputTransforms[i]=e.inputTransforms[i]}}}function nF(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=fa(i.hostAttrs,t=fa(t,i.hostAttrs))}}function qu(n){return n===No?{}:n===Bt?[]:n}function rF(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function iF(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function oF(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function zg(n){let e=n.inputConfig,t={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(t[r]=i[3])}n.inputTransforms=t}var Cr=class{},ya=class{};var tg=class extends Cr{constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new vl(this);let o=DE(e);this._bootstrapComponents=CD(o.bootstrap),this._r3Injector=uD(e,t,[{provide:Cr,useValue:this},{provide:Vo,useValue:this.componentFactoryResolver},...r],yt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},ng=class extends ya{constructor(e){super(),this.moduleType=e}create(e){return new tg(this.moduleType,e,[])}};var _l=class extends Cr{constructor(e){super(),this.componentFactoryResolver=new vl(this),this.instance=null;let t=new pa([...e.providers,{provide:Cr,useValue:this},{provide:Vo,useValue:this.componentFactoryResolver}],e.parent||yg(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Gg(n,e,t=null){return new _l({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}function oC(n){return aF(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function sF(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function aF(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function zo(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function cF(n){return(n.flags&32)===32}function uF(n,e,t,r,i,o,s,a,u){let l=e.consts,h=Ul(e,n,4,s||null,a||null);BD(e,t,h,al(l,u)),bg(e,h);let p=h.tView=jg(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function lF(n,e,t,r,i,o,s,a,u,l){let h=t+gn,p=e.firstCreatePass?uF(h,e,n,r,i,o,s,a,u):e.data[h];Ia(p,!1);let m=dF(e,n,p,t);Dg()&&Lg(e,n,m,p),yi(m,n);let v=qD(m,n,m,p);return n[h]=v,Ll(n,v),YP(v,p,n),vg(p)&&LD(e,n,p),u!=null&&VD(n,p,l),p}function It(n,e,t,r,i,o,s,a){let u=Ae(),l=Tt(),h=al(l.consts,o);return lF(u,l,n,e,t,r,i,h,s,a),It}var dF=hF;function hF(n,e,t,r){return Cg(!0),e[Ve].createComment("")}var la=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(la||{}),fF=(()=>{class n{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=$({token:n,providedIn:"root",factory:()=>new n})}}return n})(),KI=class n{constructor(){this.ngZone=P(Ee),this.scheduler=P(Lo),this.errorHandler=P(Ln,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[la.EarlyRead,la.Write,la.MixedReadWrite,la.Read]}execute(){this.executing=!0;for(let e of n.PHASES)for(let t of this.sequences)if(!(t.erroredOrDestroyed||!t.hooks[e]))try{t.pipelinedValue=this.ngZone.runOutsideAngular(()=>t.hooks[e](t.pipelinedValue))}catch(r){t.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=$({token:n,providedIn:"root",factory:()=>new n})}};function ba(n,e,t,r){let i=Ae(),o=Ea();if(zo(i,o,e)){let s=Tt(),a=xl();rP(a,i,n,e,t,r)}return ba}function sC(n,e,t,r){return zo(n,Ea(),t)?e+bl(t)+r:Mr}function zu(n,e){return n<<17|e<<2}function _i(n){return n>>17&32767}function pF(n){return(n&2)==2}function gF(n,e){return n&131071|e<<17}function rg(n){return n|2}function Bo(n){return(n&131068)>>2}function _p(n,e){return n&-131069|e<<2}function mF(n){return(n&1)===1}function ig(n){return n|1}function yF(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=_i(s),u=Bo(s);n[r]=t;let l=!1,h;if(Array.isArray(t)){let p=t;h=p[1],(h===null||wa(p,h)>0)&&(l=!0)}else h=t;if(i)if(u!==0){let m=_i(n[a+1]);n[r+1]=zu(m,a),m!==0&&(n[m+1]=_p(n[m+1],r)),n[a+1]=gF(n[a+1],r)}else n[r+1]=zu(a,0),a!==0&&(n[a+1]=_p(n[a+1],r)),a=r;else n[r+1]=zu(u,0),a===0?a=r:n[u+1]=_p(n[u+1],r),u=r;l&&(n[r+1]=rg(n[r+1])),QI(n,h,r,!0),QI(n,h,r,!1),vF(e,h,n,r,o),s=zu(a,u),o?e.classBindings=s:e.styleBindings=s}function vF(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&wa(o,e)>=0&&(t[r+1]=ig(t[r+1]))}function QI(n,e,t,r){let i=n[t+1],o=e===null,s=r?_i(i):Bo(i),a=!1;for(;s!==0&&(a===!1||o);){let u=n[s],l=n[s+1];_F(u,e)&&(a=!0,n[s+1]=r?ig(l):rg(l)),s=r?_i(l):Bo(l)}a&&(n[t+1]=r?rg(i):ig(i))}function _F(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?wa(n,e)>=0:!1}function At(n,e,t){let r=Ae(),i=Ea();if(zo(r,i,e)){let o=Tt(),s=xl();Bg(o,s,r,n,e,r[Ve],t,!1)}return At}function YI(n,e,t,r,i){let o=e.inputs,s=i?"class":"style";$g(n,t,o[s],s,r)}function Bl(n,e){return wF(n,e,null,!0),Bl}function wF(n,e,t,r){let i=Ae(),o=Tt(),s=DN(2);if(o.firstUpdatePass&&EF(o,n,s,r),e!==Mr&&zo(i,s,e)){let a=o.data[Ho()];AF(o,a,i,i[Ve],n,i[s+1]=SF(e,t),r,s)}}function IF(n,e){return e>=n.expandoStartIndex}function EF(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[Ho()],s=IF(n,t);RF(o,r)&&e===null&&!s&&(e=!1),e=DF(i,o,e,r),yF(i,o,e,t,s,r)}}function DF(n,e,t,r){let i=AN(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=wp(null,n,e,t,r),t=va(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=wp(i,n,e,t,r),o===null){let u=CF(n,e,r);u!==void 0&&Array.isArray(u)&&(u=wp(null,n,e,u[1],r),u=va(u,e.attrs,r),bF(n,e,r,u))}else o=TF(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function CF(n,e,t){let r=t?e.classBindings:e.styleBindings;if(Bo(r)!==0)return n[_i(r)]}function bF(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[_i(i)]=r}function TF(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=va(r,s,t)}return va(r,e.attrs,t)}function wp(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=va(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function va(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),MM(n,s,t?!0:e[++o]))}return n===void 0?null:n}function AF(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let u=n.data,l=u[a+1],h=mF(l)?JI(u,e,t,i,Bo(l),s):void 0;if(!wl(h)){wl(o)||pF(l)&&(o=JI(u,null,t,i,a,s));let p=UE(Ho(),t);Ox(r,s,p,i,o)}}function JI(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let u=n[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,m=t[i+1];m===Mr&&(m=p?Bt:void 0);let v=p?lp(m,r):h===r?m:void 0;if(l&&!wl(v)&&(v=lp(u,r)),wl(v)&&(a=v,s))return a;let A=n[i+1];i=s?_i(A):Bo(A)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=lp(u,r))}return a}function wl(n){return n!==void 0}function SF(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=yt(Da(n)))),n}function RF(n,e){return(n.flags&(e?8:16))!==0}function _n(n,e){Di("NgControlFlow");let t=Ae(),r=Ea(),i=t[r]!==Mr?t[r]:-1,o=i!==-1?ZI(t,gn+i):void 0,s=0;if(zo(t,r,n)){let a=ge(null);try{if(o!==void 0&&pP(o,s),n!==-1){let u=gn+n,l=ZI(t,u),h=MF(t[ce],u),p=Yp(l,h.tView.ssrId),m=WD(t,h,e,{dehydratedView:p});KD(l,m,s,Kp(h,p))}}finally{ge(a)}}else if(o!==void 0){let a=fP(o,s);a!==void 0&&(a[Ht]=e)}}function ZI(n,e){return n[e]}function MF(n,e){return _g(n,e)}function NF(n,e,t,r,i,o){let s=e.consts,a=al(s,i),u=Ul(e,n,2,r,a);return BD(e,t,u,al(s,o)),u.attrs!==null&&Xp(u,u.attrs,!1),u.mergedAttrs!==null&&Xp(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function H(n,e,t,r){let i=Ae(),o=Tt(),s=gn+n,a=i[Ve],u=o.firstCreatePass?NF(s,o,i,e,t,r):o.data[s],l=xF(o,i,u,a,e,n);i[s]=l;let h=vg(u);return Ia(u,!0),xD(a,l,u),!cF(u)&&Dg()&&Lg(o,i,l,u),pN()===0&&yi(l,i),gN(),h&&(LD(o,i,u),UD(o,u,i)),r!==null&&VD(i,u),H}function j(){let n=wt();qE()?IN():(n=n.parent,Ia(n,!1));let e=n;vN(e)&&_N(),mN();let t=Tt();return t.firstCreatePass&&(bg(t,n),xE(n)&&t.queries.elementEnd(n)),e.classesWithoutHost!=null&&FN(e)&&YI(t,e,Ae(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&ON(e)&&YI(t,e,Ae(),e.stylesWithoutHost,!1),j}function Re(n,e,t,r){return H(n,e,t,r),j(),Re}var xF=(n,e,t,r,i,o)=>(Cg(!0),bD(r,i,MN()));function $l(){return Ae()}var Il="en-US";var PF=Il;function FF(n){typeof n=="string"&&(PF=n.toLowerCase().replace(/_/g,"-"))}var OF=(n,e,t)=>{};function Ge(n,e,t,r){let i=Ae(),o=Tt(),s=wt();return aC(o,i,i[Ve],s,n,e,r),Ge}function kF(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[rl],u=i[o+2];return a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function aC(n,e,t,r,i,o,s){let a=vg(r),l=n.firstCreatePass&&cP(n),h=e[Ht],p=aP(e),m=!0;if(r.type&3||s){let M=zt(r,e),R=s?s(M):M,O=p.length,q=s?ne=>s(mn(ne[r.index])):r.index,U=null;if(!s&&a&&(U=kF(n,e,i,r.index)),U!==null){let ne=U.__ngLastListenerFn__||U;ne.__ngNextListenerFn__=o,U.__ngLastListenerFn__=o,m=!1}else{o=eE(r,e,h,o),OF(M,i,o);let ne=t.listen(R,i,o);p.push(o,ne),l&&l.push(i,q,O,O+1)}}else o=eE(r,e,h,o);let v=r.outputs,A;if(m&&v!==null&&(A=v[i])){let M=A.length;if(M)for(let R=0;R<M;R+=2){let O=A[R],q=A[R+1],Ie=e[O][q].subscribe(o),K=p.length;p.push(o,Ie),l&&l.push(i,r.index,K,-(K+1))}}}function XI(n,e,t,r){let i=ge(null);try{return ln(6,e,t),t(r)!==!1}catch(o){return GD(n,o),!1}finally{ln(7,e,t),ge(i)}}function eE(n,e,t,r){return function i(o){if(o===Function)return r;let s=n.componentOffset>-1?br(n.index,e):e;qg(s,5);let a=XI(e,t,r,o),u=i.__ngNextListenerFn__;for(;u;)a=XI(e,t,u,o)&&a,u=u.__ngNextListenerFn__;return a}}function et(n=1){return RN(n)}function Ci(n,e,t){return cC(n,"",e,"",t),Ci}function cC(n,e,t,r,i){let o=Ae(),s=sC(o,e,t,r);if(s!==Mr){let a=Tt(),u=xl();Bg(a,u,o,n,s,o[Ve],i,!1)}return cC}function Z(n,e=""){let t=Ae(),r=Tt(),i=n+gn,o=r.firstCreatePass?Ul(r,i,1,e,null):r.data[i],s=UF(r,t,o,e,n);t[i]=s,Dg()&&Lg(r,t,s,o),Ia(o,!1)}var UF=(n,e,t,r,i)=>(Cg(!0),vx(e[Ve],r));function Wg(n){return St("",n,""),Wg}function St(n,e,t){let r=Ae(),i=sC(r,n,e,t);return i!==Mr&&uP(r,Ho(),i),St}function Hl(n,e,t){iC(e)&&(e=e());let r=Ae(),i=Ea();if(zo(r,i,e)){let o=Tt(),s=xl();Bg(o,s,r,n,e,r[Ve],t,!1)}return Hl}function Kg(n,e){let t=iC(n);return t&&n.set(e),t}function ql(n,e){let t=Ae(),r=Tt(),i=wt();return aC(r,t,t[Ve],i,n,e),ql}function LF(n,e,t){let r=Tt();if(r.firstCreatePass){let i=Dr(n);og(t,r.data,r.blueprint,i,!0),og(e,r.data,r.blueprint,i,!1)}}function og(n,e,t,r,i){if(n=mt(n),Array.isArray(n))for(let o=0;o<n.length;o++)og(n[o],e,t,r,i);else{let o=Tt(),s=Ae(),a=wt(),u=Po(n)?n:mt(n.provide),l=RE(n),h=a.providerIndexes&1048575,p=a.directiveStart,m=a.providerIndexes>>20;if(Po(n)||!n.multi){let v=new mi(l,i,W),A=Ep(u,e,i?h:h+m,p);A===-1?(Up(ll(a,s),o,u),Ip(o,n,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(v),s.push(v)):(t[A]=v,s[A]=v)}else{let v=Ep(u,e,h+m,p),A=Ep(u,e,h,h+m),M=v>=0&&t[v],R=A>=0&&t[A];if(i&&!R||!i&&!M){Up(ll(a,s),o,u);let O=BF(i?jF:VF,t.length,i,r,l);!i&&R&&(t[A].providerFactory=O),Ip(o,n,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(O),s.push(O)}else{let O=uC(t[i?A:v],l,!i&&r);Ip(o,n,v>-1?v:A,O)}!i&&r&&R&&t[A].componentProviders++}}}function Ip(n,e,t,r){let i=Po(e),o=JM(e);if(i||o){let u=(o?mt(e.useClass):e).prototype.ngOnDestroy;if(u){let l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(t);h===-1?l.push(t,[r,u]):l[h+1].push(r,u)}else l.push(t,u)}}}function uC(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Ep(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function VF(n,e,t,r){return sg(this.multi,[])}function jF(n,e,t,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Uo(t,t[ce],this.providerFactory.index,r);o=a.slice(0,s),sg(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],sg(i,o);return o}function sg(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function BF(n,e,t,r,i){let o=new mi(n,t,W);return o.multi=[],o.index=e,o.componentProviders=0,uC(o,i,r&&!t),o}function bi(n,e=[]){return t=>{t.providersResolver=(r,i)=>LF(r,i?i(n):n,e)}}var $F=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=TE(!1,t.type),i=r.length>0?Gg([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=$({token:n,providedIn:"environment",factory:()=>new n(Q(Ct))})}}return n})();function ct(n){Di("NgStandalone"),n.getStandaloneInjector=e=>e.get($F).getOrCreateStandaloneInjector(n)}var jn=class{constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},lC=new jn("18.2.8");var zl=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();var dC=new B("");function Ti(n){return!!n&&typeof n.then=="function"}function hC(n){return!!n&&typeof n.subscribe=="function"}var fC=new B(""),pC=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=P(fC,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=i();if(Ti(o))t.push(o);else if(hC(o)){let s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Gl=new B("");function HF(){qw(()=>{throw new z(600,!1)})}function qF(n){return n.isBoundToModule}var zF=10;function GF(n,e,t){try{let r=t();return Ti(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}var Nr=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=P(tx),this.afterRenderManager=P(fF),this.zonelessEnabled=P(jl),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Ke,this.afterTick=new Ke,this.componentTypes=[],this.components=[],this.isStable=P(Sr).hasPendingTasks.pipe(ie(t=>!t)),this._injector=P(Ct)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}get injector(){return this._injector}bootstrap(t,r){let i=t instanceof yl;if(!this._injector.get(pC).done){let m=!i&&EE(t),v=!1;throw new z(405,v)}let s;i?s=t:s=this._injector.get(Vo).resolveComponentFactory(t),this.componentTypes.push(s.componentType);let a=qF(s)?void 0:this._injector.get(Cr),u=r||s.selector,l=s.create(bt.NULL,[],u,a),h=l.location.nativeElement,p=l.injector.get(dC,null);return p?.registerApplication(h),l.onDestroy(()=>{this.detachView(l.hostView),Yu(this.components,l),p?.unregisterApplication(h)}),this._loadComponent(l),l}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new z(101,!1);let t=ge(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,ge(t),this.afterTick.next()}}synchronize(){let t=null;this._injector.destroyed||(t=this._injector.get(jo,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<zF;)this.synchronizeOnce(t)}synchronizeOnce(t){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:o}of this._views)WF(i,o,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else t?.begin?.(),t?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Ml(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;Yu(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);let r=this._injector.get(Gl,[]);[...this._bootstrapListeners,...r].forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Yu(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new z(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Yu(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function WF(n,e,t,r){if(!t&&!Ml(n))return;JD(n,e,t&&!r?0:1)}var ag=class{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},Qg=(()=>{class n{compileModuleSync(t){return new ng(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=DE(t),o=CD(i.declarations).reduce((s,a)=>{let u=hi(a);return u&&s.push(new ma(u)),s},[]);return new ag(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var KF=(()=>{class n{constructor(){this.zone=P(Ee),this.changeDetectionScheduler=P(Lo),this.applicationRef=P(Nr)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),QF=new B("",{factory:()=>!1});function gC({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new Ee(ue(k({},yC()),{scheduleInRootZone:t})),[{provide:Ee,useFactory:n},{provide:xo,multi:!0,useFactory:()=>{let r=P(KF,{optional:!0});return()=>r.initialize()}},{provide:xo,multi:!0,useFactory:()=>{let r=P(YF);return()=>{r.initialize()}}},e===!0?{provide:tC,useValue:!0}:[],{provide:nC,useValue:t??lD}]}function mC(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=gC({ngZoneFactory:()=>{let i=yC(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&Di("NgZone_CoalesceEvent"),new Ee(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return qt([{provide:QF,useValue:!0},{provide:jl,useValue:!1},r])}function yC(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var YF=(()=>{class n{constructor(){this.subscription=new Oe,this.initialized=!1,this.zone=P(Ee),this.pendingTasks=P(Sr)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ee.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ee.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var JF=(()=>{class n{constructor(){this.appRef=P(Nr),this.taskService=P(Sr),this.ngZone=P(Ee),this.zonelessEnabled=P(jl),this.disableScheduling=P(tC,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Oe,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(hl):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(P(nC,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof $p||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?kI:hD;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(hl+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,kI(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function ZF(){return typeof $localize<"u"&&$localize.locale||Il}var Yg=new B("",{providedIn:"root",factory:()=>P(Yg,ae.Optional|ae.SkipSelf)||ZF()});var cg=new B("");function Gu(n){return!n.moduleRef}function XF(n){let e=Gu(n)?n.r3Injector:n.moduleRef.injector,t=e.get(Ee);return t.run(()=>{Gu(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(Ln,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:o=>{r.handleError(o)}})}),Gu(n)){let o=()=>e.destroy(),s=n.platformInjector.get(cg);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(cg);s.add(o),n.moduleRef.onDestroy(()=>{Yu(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return GF(r,t,()=>{let o=e.get(pC);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(Yg,Il);if(FF(s||Il),Gu(n)){let a=e.get(Nr);return n.rootComponent!==void 0&&a.bootstrap(n.rootComponent),a}else return eO(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function eO(n,e){let t=n.injector.get(Nr);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new z(-403,!1);e.push(n)}var Ju=null;function tO(n=[],e){return bt.create({name:e,providers:[{provide:Al,useValue:"platform"},{provide:cg,useValue:new Set([()=>Ju=null])},...n]})}function nO(n=[]){if(Ju)return Ju;let e=tO(n);return Ju=e,HF(),rO(e),e}function rO(n){n.get(Ng,null)?.forEach(t=>t())}var Ai=(()=>{class n{static{this.__NG_ELEMENT_ID__=iO}}return n})();function iO(n){return oO(wt(),Ae(),(n&16)===16)}function oO(n,e,t){if(Rl(n)&&!t){let r=br(n.index,e);return new vi(r,r)}else if(n.type&175){let r=e[pn];return new vi(r,e)}return null}var ug=class{constructor(){}supports(e){return oC(e)}create(e){return new lg(e)}},sO=(n,e)=>e,lg=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||sO}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<tE(r,i,o)?t:r,a=tE(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,h=u-i;if(l!=h){for(let m=0;m<l;m++){let v=m<o.length?o[m]:o[m]=0,A=v+m;h<=A&&A<l&&(o[m]=v+1)}let p=s.previousIndex;o[p]=h-l}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!oC(e))throw new z(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,sF(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new dg(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new El),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new El),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},dg=class{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},hg=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},El=class{constructor(){this.map=new Map}put(e){let t=e.trackById,r=this.map.get(t);r||(r=new hg,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function tE(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function nE(){return new Jg([new ug])}var Jg=(()=>{class n{static{this.\u0275prov=$({token:n,providedIn:"root",factory:nE})}constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||nE()),deps:[[n,new fE,new _t]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new z(901,!1)}}return n})();function vC(n){try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=nO(r),o=[gC({}),{provide:Lo,useExisting:JF},...t||[]],s=new _l({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return XF({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}function xr(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function Ta(n,e){Di("NgSignals");let t=Bw(n);return e?.equal&&(t[On].equal=e.equal),t}function Gn(n){let e=ge(null);try{return n()}finally{ge(e)}}var DC=null;function Wn(){return DC}function CC(n){DC??=n}var Wl=class{};var Rt=new B(""),bC=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=$({token:n,factory:()=>P(cO),providedIn:"platform"})}}return n})();var cO=(()=>{class n extends bC{constructor(){super(),this._doc=P(Rt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Wn().getBaseHref(this._doc)}onPopState(t){let r=Wn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=Wn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=$({token:n,factory:()=>new n,providedIn:"platform"})}}return n})();function TC(n,e){if(n.length==0)return e;if(e.length==0)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,t==2?n+e.substring(1):t==1?n+e:n+"/"+e}function _C(n){let e=n.match(/#|\?|$/),t=e&&e.index||n.length,r=t-(n[t-1]==="/"?1:0);return n.slice(0,r)+n.slice(t)}function Si(n){return n&&n[0]!=="?"?"?"+n:n}var Wo=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=$({token:n,factory:()=>P(AC),providedIn:"root"})}}return n})(),uO=new B(""),AC=(()=>{class n extends Wo{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??P(Rt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return TC(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Si(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Si(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Si(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(Q(bC),Q(uO,8))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Aa=(()=>{class n{constructor(t){this._subject=new xe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=hO(_C(wC(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Si(r))}normalize(t){return n.stripTrailingSlash(dO(this._basePath,wC(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Si(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Si(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static{this.normalizeQueryParams=Si}static{this.joinWithSlash=TC}static{this.stripTrailingSlash=_C}static{this.\u0275fac=function(r){return new(r||n)(Q(Wo))}}static{this.\u0275prov=$({token:n,factory:()=>lO(),providedIn:"root"})}}return n})();function lO(){return new Aa(Q(Wo))}function dO(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function wC(n){return n.replace(/\/index.html$/,"")}function hO(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}function Kl(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Zg=class{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},SC=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;if(!this._differ&&t)if(0)try{}catch{}else this._differ=this._differs.find(t).create(this.ngForTrackBy)}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Zg(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),IC(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);IC(o,i)})}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(W(qo),W(Vl),W(Jg))}}static{this.\u0275dir=ze({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return n})();function IC(n,e){n.context.$implicit=e.item}var Ql=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Xg,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){EC("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){EC("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(W(qo),W(Vl))}}static{this.\u0275dir=ze({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})(),Xg=class{constructor(){this.$implicit=null,this.ngIf=null}};function EC(n,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${n} must be a TemplateRef, but received '${yt(e)}'.`)}var Ri=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Hn({type:n})}static{this.\u0275inj=$n({})}}return n})(),RC="browser",fO="server";function Yl(n){return n===fO}var Go=class{};var Ma=class{},Zl=class{},Kn=class n{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=i.toLowerCase(),s=t.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var tm=class{encodeKey(e){return MC(e)}encodeValue(e){return MC(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function pO(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],u=t.get(s)||[];u.push(a),t.set(s,u)}),t}var gO=/%(\d[a-f0-9])/gi,mO={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function MC(n){return encodeURIComponent(n).replace(gO,(e,t)=>mO[t]??e)}function Jl(n){return`${n}`}var Fr=class n{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new tm,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=pO(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(Jl):[Jl(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(Jl(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(Jl(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var nm=class{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function yO(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function NC(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function xC(n){return typeof Blob<"u"&&n instanceof Blob}function PC(n){return typeof FormData<"u"&&n instanceof FormData}function vO(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var Ra=class n{constructor(e,t,r,i){this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(yO(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Kn,this.context??=new nm,!this.params)this.params=new Fr,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),u=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+u+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||NC(this.body)||xC(this.body)||PC(this.body)||vO(this.body)?this.body:this.body instanceof Fr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||PC(this.body)?null:xC(this.body)?this.body.type||null:NC(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Fr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,u=e.reportProgress??this.reportProgress,l=e.headers||this.headers,h=e.params||this.params,p=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((m,v)=>m.set(v,e.setHeaders[v]),l)),e.setParams&&(h=Object.keys(e.setParams).reduce((m,v)=>m.set(v,e.setParams[v]),h)),new n(t,r,s,{params:h,headers:l,context:p,reportProgress:u,responseType:i,withCredentials:a,transferCache:o})}},Or=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Or||{}),Na=class{constructor(e,t=200,r="OK"){this.headers=e.headers||new Kn,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Xl=class n extends Na{constructor(e={}){super(e),this.type=Or.ResponseHeader}clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},xa=class n extends Na{constructor(e={}){super(e),this.type=Or.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Pr=class extends Na{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},UC=200,_O=204;function em(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var om=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof Ra)o=t;else{let u;i.headers instanceof Kn?u=i.headers:u=new Kn(i.headers);let l;i.params&&(i.params instanceof Fr?l=i.params:l=new Fr({fromObject:i.params})),o=new Ra(t,r,i.body!==void 0?i.body:null,{headers:u,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=X(o).pipe(yr(u=>this.handler.handle(u)));if(t instanceof Ra||i.observe==="events")return s;let a=s.pipe(Pt(u=>u instanceof xa));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(ie(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return a.pipe(ie(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return a.pipe(ie(u=>{if(u.body!==null&&typeof u.body!="string")throw new Error("Response is not a string.");return u.body}));case"json":default:return a.pipe(ie(u=>u.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new Fr().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,em(i,r))}post(t,r,i={}){return this.request("POST",t,em(i,r))}put(t,r,i={}){return this.request("PUT",t,em(i,r))}static{this.\u0275fac=function(r){return new(r||n)(Q(Ma))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac})}}return n})(),wO=/^\)\]\}',?\n/,IO="X-Request-URL";function FC(n){if(n.url)return n.url;let e=IO.toLocaleLowerCase();return n.headers.get(e)}var EO=(()=>{class n{constructor(){this.fetchImpl=P(rm,{optional:!0})?.fetch??((...t)=>globalThis.fetch(...t)),this.ngZone=P(Ee)}handle(t){return new le(r=>{let i=new AbortController;return this.doRequest(t,i.signal,r).then(im,o=>r.error(new Pr({error:o}))),()=>i.abort()})}doRequest(t,r,i){return _(this,null,function*(){let o=this.createRequestInit(t),s;try{let v=this.ngZone.runOutsideAngular(()=>this.fetchImpl(t.urlWithParams,k({signal:r},o)));DO(v),i.next({type:Or.Sent}),s=yield v}catch(v){i.error(new Pr({error:v,status:v.status??0,statusText:v.statusText,url:t.urlWithParams,headers:v.headers}));return}let a=new Kn(s.headers),u=s.statusText,l=FC(s)??t.urlWithParams,h=s.status,p=null;if(t.reportProgress&&i.next(new Xl({headers:a,status:h,statusText:u,url:l})),s.body){let v=s.headers.get("content-length"),A=[],M=s.body.getReader(),R=0,O,q,U=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>_(this,null,function*(){for(;;){let{done:Ie,value:K}=yield M.read();if(Ie)break;if(A.push(K),R+=K.length,t.reportProgress){q=t.responseType==="text"?(q??"")+(O??=new TextDecoder).decode(K,{stream:!0}):void 0;let E=()=>i.next({type:Or.DownloadProgress,total:v?+v:void 0,loaded:R,partialText:q});U?U.run(E):E()}}}));let ne=this.concatChunks(A,R);try{let Ie=s.headers.get("Content-Type")??"";p=this.parseBody(t,ne,Ie)}catch(Ie){i.error(new Pr({error:Ie,headers:new Kn(s.headers),status:s.status,statusText:s.statusText,url:FC(s)??t.urlWithParams}));return}}h===0&&(h=p?UC:0),h>=200&&h<300?(i.next(new xa({body:p,headers:a,status:h,statusText:u,url:l})),i.complete()):i.error(new Pr({error:p,headers:a,status:h,statusText:u,url:l}))})}parseBody(t,r,i){switch(t.responseType){case"json":let o=new TextDecoder().decode(r).replace(wO,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:i});case"arraybuffer":return r.buffer}}createRequestInit(t){let r={},i=t.withCredentials?"include":void 0;if(t.headers.forEach((o,s)=>r[o]=s.join(",")),t.headers.has("Accept")||(r.Accept="application/json, text/plain, */*"),!t.headers.has("Content-Type")){let o=t.detectContentTypeHeader();o!==null&&(r["Content-Type"]=o)}return{body:t.serializeBody(),method:t.method,headers:r,credentials:i}}concatChunks(t,r){let i=new Uint8Array(r),o=0;for(let s of t)i.set(s,o),o+=s.length;return i}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac})}}return n})(),rm=class{};function im(){}function DO(n){n.then(im,im)}function CO(n,e){return e(n)}function bO(n,e,t){return(r,i)=>Xt(t,()=>e(r,o=>n(o,i)))}var LC=new B(""),TO=new B(""),AO=new B("",{providedIn:"root",factory:()=>!0});var OC=(()=>{class n extends Ma{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null,this.pendingTasks=P(Sr),this.contributeToStability=P(AO)}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(LC),...this.injector.get(TO,[])]));this.chain=r.reduceRight((i,o)=>bO(i,o,this.injector),CO)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(li(()=>this.pendingTasks.remove(r)))}else return this.chain(t,r=>this.backend.handle(r))}static{this.\u0275fac=function(r){return new(r||n)(Q(Zl),Q(Ct))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac})}}return n})();var SO=/^\)\]\}',?\n/;function RO(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}var kC=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new z(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?Ne(r.\u0275loadImpl()):X(null)).pipe(Ft(()=>new le(o=>{let s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((M,R)=>s.setRequestHeader(M,R.join(","))),t.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){let M=t.detectContentTypeHeader();M!==null&&s.setRequestHeader("Content-Type",M)}if(t.responseType){let M=t.responseType.toLowerCase();s.responseType=M!=="json"?M:"text"}let a=t.serializeBody(),u=null,l=()=>{if(u!==null)return u;let M=s.statusText||"OK",R=new Kn(s.getAllResponseHeaders()),O=RO(s)||t.url;return u=new Xl({headers:R,status:s.status,statusText:M,url:O}),u},h=()=>{let{headers:M,status:R,statusText:O,url:q}=l(),U=null;R!==_O&&(U=typeof s.response>"u"?s.responseText:s.response),R===0&&(R=U?UC:0);let ne=R>=200&&R<300;if(t.responseType==="json"&&typeof U=="string"){let Ie=U;U=U.replace(SO,"");try{U=U!==""?JSON.parse(U):null}catch(K){U=Ie,ne&&(ne=!1,U={error:K,text:U})}}ne?(o.next(new xa({body:U,headers:M,status:R,statusText:O,url:q||void 0})),o.complete()):o.error(new Pr({error:U,headers:M,status:R,statusText:O,url:q||void 0}))},p=M=>{let{url:R}=l(),O=new Pr({error:M,status:s.status||0,statusText:s.statusText||"Unknown Error",url:R||void 0});o.error(O)},m=!1,v=M=>{m||(o.next(l()),m=!0);let R={type:Or.DownloadProgress,loaded:M.loaded};M.lengthComputable&&(R.total=M.total),t.responseType==="text"&&s.responseText&&(R.partialText=s.responseText),o.next(R)},A=M=>{let R={type:Or.UploadProgress,loaded:M.loaded};M.lengthComputable&&(R.total=M.total),o.next(R)};return s.addEventListener("load",h),s.addEventListener("error",p),s.addEventListener("timeout",p),s.addEventListener("abort",p),t.reportProgress&&(s.addEventListener("progress",v),a!==null&&s.upload&&s.upload.addEventListener("progress",A)),s.send(a),o.next({type:Or.Sent}),()=>{s.removeEventListener("error",p),s.removeEventListener("abort",p),s.removeEventListener("load",h),s.removeEventListener("timeout",p),t.reportProgress&&(s.removeEventListener("progress",v),a!==null&&s.upload&&s.upload.removeEventListener("progress",A)),s.readyState!==s.DONE&&s.abort()}})))}static{this.\u0275fac=function(r){return new(r||n)(Q(Go))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac})}}return n})(),VC=new B(""),MO="XSRF-TOKEN",NO=new B("",{providedIn:"root",factory:()=>MO}),xO="X-XSRF-TOKEN",PO=new B("",{providedIn:"root",factory:()=>xO}),ed=class{},FO=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Kl(t,this.cookieName),this.lastCookieString=t),this.lastToken}static{this.\u0275fac=function(r){return new(r||n)(Q(Rt),Q(vn),Q(NO))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac})}}return n})();function OO(n,e){let t=n.url.toLowerCase();if(!P(VC)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=P(ed).getToken(),i=P(PO);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}function jC(...n){let e=[om,kC,OC,{provide:Ma,useExisting:OC},{provide:Zl,useFactory:()=>P(EO,{optional:!0})??P(kC)},{provide:LC,useValue:OO,multi:!0},{provide:VC,useValue:!0},{provide:ed,useClass:FO}];for(let t of n)e.push(...t.\u0275providers);return qt(e)}var cm=class extends Wl{constructor(){super(...arguments),this.supportsDOMEvents=!0}},um=class n extends cm{static makeCurrent(){CC(new n)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=UO();return t==null?null:LO(t)}resetBaseElement(){Pa=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Kl(document.cookie,e)}},Pa=null;function UO(){return Pa=Pa||document.querySelector("base"),Pa?Pa.getAttribute("href"):null}function LO(n){return new URL(n,document.baseURI).pathname}var VO=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac})}}return n})(),lm=new B(""),qC=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new z(5101,!1);return this._eventNameToPlugin.set(t,r),r}static{this.\u0275fac=function(r){return new(r||n)(Q(lm),Q(Ee))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac})}}return n})(),td=class{constructor(e){this._doc=e}},sm="ng-app-id",zC=(()=>{class n{constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Yl(o),this.resetHostNodes()}addStyles(t){for(let r of t)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(t){for(let r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){let r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${sm}="${this.appId}"]`);if(t?.length){let r=new Map;return t.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){let i=this.styleRef;if(i.has(t)){let o=i.get(t);return o.usage+=r,o.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){let i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===t)return i.delete(r),o.removeAttribute(sm),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(sm,this.appId),t.appendChild(s),s}}addStyleToHost(t,r){let i=this.getStyleElement(t,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||n)(Q(Rt),Q(Mg),Q(xg,8),Q(vn))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac})}}return n})(),am={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},hm=/%COMP%/g,GC="%COMP%",jO=`_nghost-${GC}`,BO=`_ngcontent-${GC}`,$O=!0,HO=new B("",{providedIn:"root",factory:()=>$O});function qO(n){return BO.replace(hm,n)}function zO(n){return jO.replace(hm,n)}function WC(n,e){return e.map(t=>t.replace(hm,n))}var BC=(()=>{class n{constructor(t,r,i,o,s,a,u,l=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=Yl(a),this.defaultRenderer=new Fa(t,s,u,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===hn.ShadowDom&&(r=ue(k({},r),{encapsulation:hn.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof nd?i.applyToHost(t):i instanceof Oa&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(r.encapsulation){case hn.Emulated:o=new nd(u,l,r,this.appId,h,s,a,p);break;case hn.ShadowDom:return new dm(u,l,t,r,s,a,this.nonce,p);default:o=new Oa(u,l,r,h,s,a,p);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||n)(Q(qC),Q(zC),Q(Mg),Q(HO),Q(Rt),Q(vn),Q(Ee),Q(xg))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac})}}return n})(),Fa=class{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(am[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){($C(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&($C(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new z(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=am[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=am[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Vn.DashCase|Vn.Important)?e.style.setProperty(t,r,i&Vn.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Vn.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r){if(typeof e=="string"&&(e=Wn().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function $C(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var dm=class extends Fa{constructor(e,t,r,i,o,s,a,u){super(e,o,s,u),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=WC(i.id,i.styles);for(let h of l){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Oa=class extends Fa{constructor(e,t,r,i,o,s,a,u){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=u?WC(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},nd=class extends Oa{constructor(e,t,r,i,o,s,a,u){let l=i+"-"+r.id;super(e,t,r,o,s,a,u,l),this.contentAttr=qO(l),this.hostAttr=zO(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}},GO=(()=>{class n extends td{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||n)(Q(Rt))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac})}}return n})(),HC=["alt","control","meta","shift"],WO={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},KO={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},QO=(()=>{class n extends td{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i){let o=n.parseEventName(r),s=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Wn().onAndCancel(t,o.domEventName,s))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),HC.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(t,r){let i=WO[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),HC.forEach(s=>{if(s!==i){let a=KO[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static{this.\u0275fac=function(r){return new(r||n)(Q(Rt))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac})}}return n})();function KC(n,e){return vC(k({rootComponent:n},YO(e)))}function YO(n){return{appProviders:[...tk,...n?.providers??[]],platformProviders:ek}}function JO(){um.makeCurrent()}function ZO(){return new Ln}function XO(){return _D(document),document}var ek=[{provide:vn,useValue:RC},{provide:Ng,useValue:JO,multi:!0},{provide:Rt,useFactory:XO,deps:[]}];var tk=[{provide:Al,useValue:"root"},{provide:Ln,useFactory:ZO,deps:[]},{provide:lm,useClass:GO,multi:!0,deps:[Rt,Ee,vn]},{provide:lm,useClass:QO,multi:!0,deps:[Rt]},BC,zC,qC,{provide:jo,useExisting:BC},{provide:Go,useClass:VO,deps:[]},[]];var QC=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(r){return new(r||n)(Q(Rt))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var se="primary",Ja=Symbol("RouteTitle"),ym=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Xo(n){return new ym(n)}function rk(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function ik(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!wn(n[t],e[t]))return!1;return!0}function wn(n,e){let t=n?vm(n):void 0,r=e?vm(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!rb(n[i],e[i]))return!1;return!0}function vm(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function rb(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function ib(n){return n.length>0?n[n.length-1]:null}function Ur(n){return np(n)?n:Ti(n)?Ne(Promise.resolve(n)):X(n)}var ok={exact:sb,subset:ab},ob={exact:sk,subset:ak,ignored:()=>!0};function YC(n,e,t){return ok[t.paths](n.root,e.root,t.matrixParams)&&ob[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function sk(n,e){return wn(n,e)}function sb(n,e,t){if(!Ni(n.segments,e.segments)||!od(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!sb(n.children[r],e.children[r],t))return!1;return!0}function ak(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>rb(n[t],e[t]))}function ab(n,e,t){return cb(n,e,e.segments,t)}function cb(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!Ni(i,t)||e.hasChildren()||!od(i,t,r))}else if(n.segments.length===t.length){if(!Ni(n.segments,t)||!od(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!ab(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!Ni(n.segments,i)||!od(n.segments,i,r)||!n.children[se]?!1:cb(n.children[se],e,o,r)}}function od(n,e,t){return e.every((r,i)=>ob[t](n[i].parameters,r.parameters))}var Yn=class{constructor(e=new De([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Xo(this.queryParams),this._queryParamMap}toString(){return lk.serialize(this)}},De=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return sd(this)}},Mi=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Xo(this.parameters),this._parameterMap}toString(){return lb(this)}};function ck(n,e){return Ni(n,e)&&n.every((t,r)=>wn(t.parameters,e[r].parameters))}function Ni(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function uk(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===se&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==se&&(t=t.concat(e(i,r)))}),t}var qm=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=$({token:n,factory:()=>new $a,providedIn:"root"})}}return n})(),$a=class{parse(e){let t=new wm(e);return new Yn(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${ka(e.root,!0)}`,r=fk(e.queryParams),i=typeof e.fragment=="string"?`#${dk(e.fragment)}`:"";return`${t}${r}${i}`}},lk=new $a;function sd(n){return n.segments.map(e=>lb(e)).join("/")}function ka(n,e){if(!n.hasChildren())return sd(n);if(e){let t=n.children[se]?ka(n.children[se],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==se&&r.push(`${i}:${ka(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=uk(n,(r,i)=>i===se?[ka(n.children[se],!1)]:[`${i}:${ka(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[se]!=null?`${sd(n)}/${t[0]}`:`${sd(n)}/(${t.join("//")})`}}function ub(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function rd(n){return ub(n).replace(/%3B/gi,";")}function dk(n){return encodeURI(n)}function _m(n){return ub(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ad(n){return decodeURIComponent(n)}function JC(n){return ad(n.replace(/\+/g,"%20"))}function lb(n){return`${_m(n.path)}${hk(n.parameters)}`}function hk(n){return Object.entries(n).map(([e,t])=>`;${_m(e)}=${_m(t)}`).join("")}function fk(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${rd(t)}=${rd(i)}`).join("&"):`${rd(t)}=${rd(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var pk=/^[^\/()?;#]+/;function fm(n){let e=n.match(pk);return e?e[0]:""}var gk=/^[^\/()?;=#]+/;function mk(n){let e=n.match(gk);return e?e[0]:""}var yk=/^[^=?&#]+/;function vk(n){let e=n.match(yk);return e?e[0]:""}var _k=/^[^&#]+/;function wk(n){let e=n.match(_k);return e?e[0]:""}var wm=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new De([],{}):new De([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[se]=new De(e,t)),r}parseSegment(){let e=fm(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new z(4009,!1);return this.capture(e),new Mi(ad(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=mk(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=fm(this.remaining);i&&(r=i,this.capture(r))}e[ad(t)]=ad(r)}parseQueryParam(e){let t=vk(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=wk(this.remaining);s&&(r=s,this.capture(r))}let i=JC(t),o=JC(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=fm(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new z(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=se);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[se]:new De([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new z(4011,!1)}};function db(n){return n.segments.length>0?new De([],{[se]:n}):n}function hb(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=hb(i);if(r===se&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new De(n.segments,e);return Ik(t)}function Ik(n){if(n.numberOfChildren===1&&n.children[se]){let e=n.children[se];return new De(n.segments.concat(e.segments),e.children)}return n}function xi(n){return n instanceof Yn}function Ek(n,e,t=null,r=null){let i=fb(n);return pb(i,e,t,r)}function fb(n){let e;function t(o){let s={};for(let u of o.children){let l=t(u);s[u.outlet]=l}let a=new De(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=db(r);return e??i}function pb(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return pm(i,i,i,t,r);let o=Dk(e);if(o.toRoot())return pm(i,i,new De([],{}),t,r);let s=Ck(o,i,n),a=s.processChildren?Va(s.segmentGroup,s.index,o.commands):mb(s.segmentGroup,s.index,o.commands);return pm(i,s.segmentGroup,a,t,r)}function cd(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Ha(n){return typeof n=="object"&&n!=null&&n.outlets}function pm(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;n===e?s=t:s=gb(n,e,t);let a=db(hb(s));return new Yn(a,o,i)}function gb(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=gb(o,e,t)}),new De(n.segments,r)}var ud=class{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&cd(r[0]))throw new z(4003,!1);let i=r.find(Ha);if(i&&i!==ib(r))throw new z(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Dk(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new ud(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new ud(t,e,r)}var Yo=class{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function Ck(n,e,t){if(n.isAbsolute)return new Yo(e,!0,0);if(!t)return new Yo(e,!1,NaN);if(t.parent===null)return new Yo(t,!0,0);let r=cd(n.commands[0])?0:1,i=t.segments.length-1+r;return bk(t,i,n.numberOfDoubleDots)}function bk(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new z(4005,!1);i=r.segments.length}return new Yo(r,!1,i-o)}function Tk(n){return Ha(n[0])?n[0].outlets:{[se]:n}}function mb(n,e,t){if(n??=new De([],{}),n.segments.length===0&&n.hasChildren())return Va(n,e,t);let r=Ak(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new De(n.segments.slice(0,r.pathIndex),{});return o.children[se]=new De(n.segments.slice(r.pathIndex),n.children),Va(o,0,i)}else return r.match&&i.length===0?new De(n.segments,{}):r.match&&!n.hasChildren()?Im(n,e,t):r.match?Va(n,0,i):Im(n,e,t)}function Va(n,e,t){if(t.length===0)return new De(n.segments,{});{let r=Tk(t),i={};if(Object.keys(r).some(o=>o!==se)&&n.children[se]&&n.numberOfChildren===1&&n.children[se].segments.length===0){let o=Va(n.children[se],e,t);return new De(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=mb(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new De(n.segments,i)}}function Ak(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(Ha(a))break;let u=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!XC(u,l,s))return o;r+=2}else{if(!XC(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Im(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(Ha(o)){let u=Sk(o.outlets);return new De(r,u)}if(i===0&&cd(t[0])){let u=n.segments[e];r.push(new Mi(u.path,ZC(t[0]))),i++;continue}let s=Ha(o)?o.outlets[se]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&cd(a)?(r.push(new Mi(s,ZC(a))),i+=2):(r.push(new Mi(s,{})),i++)}return new De(r,{})}function Sk(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=Im(new De([],{}),0,r))}),e}function ZC(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function XC(n,e,t){return n==t.path&&wn(e,t.parameters)}var ja="imperative",tt=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(tt||{}),Gt=class{constructor(e,t){this.id=e,this.url=t}},qa=class extends Gt{constructor(e,t,r="imperative",i=null){super(e,t),this.type=tt.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},kr=class extends Gt{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=tt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ut=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Ut||{}),Em=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(Em||{}),Qn=class extends Gt{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=tt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Pi=class extends Gt{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=tt.NavigationSkipped}},za=class extends Gt{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=tt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},ld=class extends Gt{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=tt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Dm=class extends Gt{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=tt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Cm=class extends Gt{constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=tt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},bm=class extends Gt{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=tt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Tm=class extends Gt{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=tt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Am=class{constructor(e){this.route=e,this.type=tt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Sm=class{constructor(e){this.route=e,this.type=tt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Rm=class{constructor(e){this.snapshot=e,this.type=tt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Mm=class{constructor(e){this.snapshot=e,this.type=tt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Nm=class{constructor(e){this.snapshot=e,this.type=tt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},xm=class{constructor(e){this.snapshot=e,this.type=tt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Ga=class{},es=class{constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function Rk(n,e){return n.providers&&!n._injector&&(n._injector=Gg(n.providers,e,`Route: ${n.path}`)),n._injector??e}function nn(n){return n.outlet||se}function Mk(n,e){let t=n.filter(r=>nn(r)===e);return t.push(...n.filter(r=>nn(r)!==e)),t}function Za(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Pm=class{get injector(){return Za(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new yd(this.rootInjector),this.attachRef=null}},yd=(()=>{class n{constructor(t){this.rootInjector=t,this.contexts=new Map}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Pm(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(r){return new(r||n)(Q(Ct))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),dd=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=Fm(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=Fm(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=Om(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Om(e,this._root).map(t=>t.value)}};function Fm(n,e){if(n===e.value)return e;for(let t of e.children){let r=Fm(n,t);if(r)return r}return null}function Om(n,e){if(n===e.value)return[e];for(let t of e.children){let r=Om(n,t);if(r.length)return r.unshift(e),r}return[]}var kt=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Qo(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var hd=class extends dd{constructor(e,t){super(e),this.snapshot=t,zm(this,e)}toString(){return this.snapshot.toString()}};function yb(n){let e=Nk(n),t=new Xe([new Mi("",{})]),r=new Xe({}),i=new Xe({}),o=new Xe({}),s=new Xe(""),a=new Fi(t,r,o,s,i,se,n,e.root);return a.snapshot=e.root,new hd(new kt(a,[]),e)}function Nk(n){let e={},t={},r={},i="",o=new Jo([],e,r,i,t,se,n,null,{});return new pd("",new kt(o,[]))}var Fi=class{constructor(e,t,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(ie(l=>l[Ja]))??X(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ie(e=>Xo(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ie(e=>Xo(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function fd(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:k(k({},e.params),n.params),data:k(k({},e.data),n.data),resolve:k(k(k(k({},n.data),e.data),i?.data),n._resolvedData)}:r={params:k({},n.params),data:k({},n.data),resolve:k(k({},n.data),n._resolvedData??{})},i&&_b(i)&&(r.resolve[Ja]=i.title),r}var Jo=class{get title(){return this.data?.[Ja]}constructor(e,t,r,i,o,s,a,u,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Xo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Xo(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},pd=class extends dd{constructor(e,t){super(t),this.url=e,zm(this,t)}toString(){return vb(this._root)}};function zm(n,e){e.value._routerState=n,e.children.forEach(t=>zm(n,t))}function vb(n){let e=n.children.length>0?` { ${n.children.map(vb).join(", ")} } `:"";return`${n.value}${e}`}function gm(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,wn(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),wn(e.params,t.params)||n.paramsSubject.next(t.params),ik(e.url,t.url)||n.urlSubject.next(t.url),wn(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function km(n,e){let t=wn(n.params,e.params)&&ck(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||km(n.parent,e.parent))}function _b(n){return typeof n.title=="string"||n.title===null}var Gm=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=se,this.activateEvents=new xe,this.deactivateEvents=new xe,this.attachEvents=new xe,this.detachEvents=new xe,this.parentContexts=P(yd),this.location=P(qo),this.changeDetector=P(Ai),this.inputBinder=P(Wm,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new z(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new z(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new z(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new z(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new Um(t,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=ze({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[yn]})}}return n})(),Um=class n{__ngOutletInjector(e){return new n(this.route,this.childContexts,e)}constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Fi?this.route:e===yd?this.childContexts:this.parent.get(e,t)}},Wm=new B("");function xk(n,e,t){let r=Wa(n,e._root,t?t._root:void 0);return new hd(r,e)}function Wa(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=Pk(n,e,t);return new kt(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Wa(n,a)),s}}let r=Fk(e.value),i=e.children.map(o=>Wa(n,o));return new kt(r,i)}}function Pk(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Wa(n,r,i);return Wa(n,r)})}function Fk(n){return new Fi(new Xe(n.url),new Xe(n.params),new Xe(n.queryParams),new Xe(n.fragment),new Xe(n.data),n.outlet,n.component,n)}var Ka=class{constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},wb="ngNavigationCancelingError";function gd(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=xi(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Ib(!1,Ut.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function Ib(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[wb]=!0,t.cancellationCode=e,t}function Ok(n){return Eb(n)&&xi(n.url)}function Eb(n){return!!n&&n[wb]}var kk=(n,e,t,r)=>ie(i=>(new Lm(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),Lm=class{constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),gm(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=Qo(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Qo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Qo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=Qo(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new xm(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Mm(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(gm(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),gm(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},md=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Zo=class{constructor(e,t){this.component=e,this.route=t}};function Uk(n,e,t){let r=n._root,i=e?e._root:null;return Ua(r,i,t,[r.value])}function Lk(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function ns(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!sE(n)?n:e.get(n):r}function Ua(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Qo(e);return n.children.forEach(s=>{Vk(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Ba(a,t.getContext(s),i)),i}function Vk(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=jk(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new md(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Ua(n,e,a?a.children:null,r,i):Ua(n,e,t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Zo(a.outlet.component,s))}else s&&Ba(e,a,i),i.canActivateChecks.push(new md(r)),o.component?Ua(n,null,a?a.children:null,r,i):Ua(n,null,t,r,i);return i}function jk(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Ni(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Ni(n.url,e.url)||!wn(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!km(n,e)||!wn(n.queryParams,e.queryParams);case"paramsChange":default:return!km(n,e)}}function Ba(n,e,t){let r=Qo(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Ba(s,e.children.getContext(o),t):Ba(s,null,t):Ba(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Zo(e.outlet.component,i)):t.canDeactivateChecks.push(new Zo(null,i)):t.canDeactivateChecks.push(new Zo(null,i))}function Xa(n){return typeof n=="function"}function Bk(n){return typeof n=="boolean"}function $k(n){return n&&Xa(n.canLoad)}function Hk(n){return n&&Xa(n.canActivate)}function qk(n){return n&&Xa(n.canActivateChild)}function zk(n){return n&&Xa(n.canDeactivate)}function Gk(n){return n&&Xa(n.canMatch)}function Db(n){return n instanceof kn||n?.name==="EmptyError"}var id=Symbol("INITIAL_VALUE");function ts(){return Ft(n=>Vu(n.map(e=>e.pipe(Un(1),cp(id)))).pipe(ie(e=>{for(let t of e)if(t!==!0){if(t===id)return id;if(t===!1||Wk(t))return t}return!0}),Pt(e=>e!==id),Un(1)))}function Wk(n){return xi(n)||n instanceof Ka}function Kk(n,e){return qe(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?X(ue(k({},t),{guardsResult:!0})):Qk(s,r,i,n).pipe(qe(a=>a&&Bk(a)?Yk(r,o,n,e):X(a)),ie(a=>ue(k({},t),{guardsResult:a})))})}function Qk(n,e,t,r){return Ne(n).pipe(qe(i=>t2(i.component,i.route,t,e,r)),un(i=>i!==!0,!0))}function Yk(n,e,t,r){return Ne(e).pipe(yr(i=>Do(Zk(i.route.parent,r),Jk(i.route,r),e2(n,i.path,t),Xk(n,i.route,t))),un(i=>i!==!0,!0))}function Jk(n,e){return n!==null&&e&&e(new Nm(n)),X(!0)}function Zk(n,e){return n!==null&&e&&e(new Rm(n)),X(!0)}function Xk(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return X(!0);let i=r.map(o=>ju(()=>{let s=Za(e)??t,a=ns(o,s),u=Hk(a)?a.canActivate(e,n):Xt(s,()=>a(e,n));return Ur(u).pipe(un())}));return X(i).pipe(ts())}function e2(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>Lk(s)).filter(s=>s!==null).map(s=>ju(()=>{let a=s.guards.map(u=>{let l=Za(s.node)??t,h=ns(u,l),p=qk(h)?h.canActivateChild(r,n):Xt(l,()=>h(r,n));return Ur(p).pipe(un())});return X(a).pipe(ts())}));return X(o).pipe(ts())}function t2(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return X(!0);let s=o.map(a=>{let u=Za(e)??i,l=ns(a,u),h=zk(l)?l.canDeactivate(n,e,t,r):Xt(u,()=>l(n,e,t,r));return Ur(h).pipe(un())});return X(s).pipe(ts())}function n2(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return X(!0);let o=i.map(s=>{let a=ns(s,n),u=$k(a)?a.canLoad(e,t):Xt(n,()=>a(e,t));return Ur(u)});return X(o).pipe(ts(),Cb(r))}function Cb(n){return Kf(Le(e=>{if(typeof e!="boolean")throw gd(n,e)}),ie(e=>e===!0))}function r2(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return X(!0);let o=i.map(s=>{let a=ns(s,n),u=Gk(a)?a.canMatch(e,t):Xt(n,()=>a(e,t));return Ur(u)});return X(o).pipe(ts(),Cb(r))}var Qa=class{constructor(e){this.segmentGroup=e||null}},Ya=class extends Error{constructor(e){super(),this.urlTree=e}};function Ko(n){return Eo(new Qa(n))}function i2(n){return Eo(new z(4e3,!1))}function o2(n){return Eo(Ib(!1,Ut.GuardRejected))}var Vm=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return X(r);if(i.numberOfChildren>1||!i.children[se])return i2(`${e.redirectTo}`);i=i.children[se]}}applyRedirectCommands(e,t,r,i,o){if(typeof t!="string"){let a=t,{queryParams:u,fragment:l,routeConfig:h,url:p,outlet:m,params:v,data:A,title:M}=i,R=Xt(o,()=>a({params:v,data:A,queryParams:u,fragment:l,routeConfig:h,url:p,outlet:m,title:M}));if(R instanceof Yn)throw new Ya(R);t=R}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new Ya(s);return s}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new Yn(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new De(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new z(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},jm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function s2(n,e,t,r,i){let o=bb(n,e,t);return o.matched?(r=Rk(e,r),r2(r,e,t,i).pipe(ie(s=>s===!0?o:k({},jm)))):X(o)}function bb(n,e,t){if(e.path==="**")return a2(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?k({},jm):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||rk)(t,n,e);if(!i)return k({},jm);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?k(k({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function a2(n){return{matched:!0,parameters:n.length>0?ib(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function eb(n,e,t,r){return t.length>0&&l2(n,t,r)?{segmentGroup:new De(e,u2(r,new De(t,n.children))),slicedSegments:[]}:t.length===0&&d2(n,t,r)?{segmentGroup:new De(n.segments,c2(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new De(n.segments,n.children),slicedSegments:t}}function c2(n,e,t,r){let i={};for(let o of t)if(vd(n,e,o)&&!r[nn(o)]){let s=new De([],{});i[nn(o)]=s}return k(k({},r),i)}function u2(n,e){let t={};t[se]=e;for(let r of n)if(r.path===""&&nn(r)!==se){let i=new De([],{});t[nn(r)]=i}return t}function l2(n,e,t){return t.some(r=>vd(n,e,r)&&nn(r)!==se)}function d2(n,e,t){return t.some(r=>vd(n,e,r))}function vd(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function h2(n,e,t){return e.length===0&&!n.children[t]}var Bm=class{};function f2(n,e,t,r,i,o,s="emptyOnly"){return new $m(n,e,t,r,i,s,o).recognize()}var p2=31,$m=class{constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Vm(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new z(4002,`'${e.segmentGroup}'`)}recognize(){let e=eb(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ie(({children:t,rootSnapshot:r})=>{let i=new kt(r,t),o=new pd("",i),s=Ek(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new Jo([],Object.freeze({}),Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),se,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,se,t).pipe(ie(r=>({children:r,rootSnapshot:t})),mr(r=>{if(r instanceof Ya)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Qa?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(ie(s=>s instanceof kt?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Ne(o).pipe(yr(s=>{let a=r.children[s],u=Mk(t,s);return this.processSegmentGroup(e,u,a,s,i)}),ap((s,a)=>(s.push(...a),s)),vr(null),sp(),qe(s=>{if(s===null)return Ko(r);let a=Tb(s);return g2(a),X(a)}))}processSegment(e,t,r,i,o,s,a){return Ne(t).pipe(yr(u=>this.processSegmentAgainstRoute(u._injector??e,t,u,r,i,o,s,a).pipe(mr(l=>{if(l instanceof Qa)return X(null);throw l}))),un(u=>!!u),mr(u=>{if(Db(u))return h2(r,i,o)?X(new Bm):Ko(r);throw u}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,u){return nn(r)!==s&&(s===se||!vd(i,o,r))?Ko(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,u):Ko(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:m}=bb(t,i,o);if(!u)return Ko(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>p2&&(this.allowRedirects=!1));let v=new Jo(o,l,Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,tb(i),nn(i),i.component??i._loadedComponent??null,i,nb(i)),A=fd(v,a,this.paramsInheritanceStrategy);v.params=Object.freeze(A.params),v.data=Object.freeze(A.data);let M=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,v,e);return this.applyRedirects.lineralizeSegments(i,M).pipe(qe(R=>this.processSegment(e,r,t,R.concat(m),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=s2(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(Ft(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Ft(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:m,remainingSegments:v}=u,A=new Jo(m,p,Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,tb(r),nn(r),r.component??r._loadedComponent??null,r,nb(r)),M=fd(A,s,this.paramsInheritanceStrategy);A.params=Object.freeze(M.params),A.data=Object.freeze(M.data);let{segmentGroup:R,slicedSegments:O}=eb(t,m,v,l);if(O.length===0&&R.hasChildren())return this.processChildren(h,l,R,A).pipe(ie(U=>new kt(A,U)));if(l.length===0&&O.length===0)return X(new kt(A,[]));let q=nn(r)===o;return this.processSegment(h,l,R,O,q?se:o,!0,A).pipe(ie(U=>new kt(A,U instanceof kt?[U]:[])))}))):Ko(t)))}getChildConfig(e,t,r){return t.children?X({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?X({routes:t._loadedRoutes,injector:t._loadedInjector}):n2(e,t,r,this.urlSerializer).pipe(qe(i=>i?this.configLoader.loadChildren(e,t).pipe(Le(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):o2(t))):X({routes:[],injector:e})}};function g2(n){n.sort((e,t)=>e.value.outlet===se?-1:t.value.outlet===se?1:e.value.outlet.localeCompare(t.value.outlet))}function m2(n){let e=n.value.routeConfig;return e&&e.path===""}function Tb(n){let e=[],t=new Set;for(let r of n){if(!m2(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=Tb(r.children);e.push(new kt(r.value,i))}return e.filter(r=>!t.has(r))}function tb(n){return n.data||{}}function nb(n){return n.resolve||{}}function y2(n,e,t,r,i,o){return qe(s=>f2(n,e,t,r,s.extractedUrl,i,o).pipe(ie(({state:a,tree:u})=>ue(k({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function v2(n,e){return qe(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return X(t);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of Ab(u))s.add(l);let a=0;return Ne(s).pipe(yr(u=>o.has(u)?_2(u,r,n,e):(u.data=fd(u,u.parent,n).resolve,X(void 0))),Le(()=>a++),Co(1),qe(u=>a===s.size?X(t):xt))})}function Ab(n){let e=n.children.map(t=>Ab(t)).flat();return[n,...e]}function _2(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!_b(i)&&(o[Ja]=i.title),w2(o,n,e,r).pipe(ie(s=>(n._resolvedData=s,n.data=fd(n,n.parent,t).resolve,null)))}function w2(n,e,t,r){let i=vm(n);if(i.length===0)return X({});let o={};return Ne(i).pipe(qe(s=>I2(n[s],e,t,r).pipe(un(),Le(a=>{if(a instanceof Ka)throw gd(new $a,a);o[s]=a}))),Co(1),op(o),mr(s=>Db(s)?xt:Eo(s)))}function I2(n,e,t,r){let i=Za(e)??r,o=ns(n,i),s=o.resolve?o.resolve(e,t):Xt(i,()=>o(e,t));return Ur(s)}function mm(n){return Ft(e=>{let t=n(e);return t?Ne(t).pipe(ie(()=>e)):X(e)})}var Sb=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===se);return r}getResolvedTitleForRoute(t){return t.data[Ja]}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=$({token:n,factory:()=>P(E2),providedIn:"root"})}}return n})(),E2=(()=>{class n extends Sb{constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||n)(Q(QC))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Km=new B("",{providedIn:"root",factory:()=>({})}),D2=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=at({type:n,selectors:[["ng-component"]],standalone:!0,features:[ct],decls:1,vars:0,template:function(r,i){r&1&&Re(0,"router-outlet")},dependencies:[Gm],encapsulation:2})}}return n})();function Qm(n){let e=n.children&&n.children.map(Qm),t=e?ue(k({},n),{children:e}):k({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==se&&(t.component=D2),t}var Ym=new B(""),C2=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=P(Qg)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return X(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=Ur(t.loadComponent()).pipe(ie(Rb),Le(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),li(()=>{this.componentLoaders.delete(t)})),i=new vo(r,()=>new Ke).pipe(yo());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return X({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=b2(r,this.compiler,t,this.onLoadEndListener).pipe(li(()=>{this.childrenLoaders.delete(r)})),s=new vo(o,()=>new Ke).pipe(yo());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function b2(n,e,t,r){return Ur(n.loadChildren()).pipe(ie(Rb),qe(i=>i instanceof ya||Array.isArray(i)?X(i):Ne(e.compileModuleAsync(i))),ie(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(Ym,[],{optional:!0,self:!0}).flat()),{routes:s.map(Qm),injector:o}}))}function T2(n){return n&&typeof n=="object"&&"default"in n}function Rb(n){return T2(n)?n.default:n}var Jm=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=$({token:n,factory:()=>P(A2),providedIn:"root"})}}return n})(),A2=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),S2=new B("");var R2=new B(""),M2=(()=>{class n{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ke,this.transitionAbortSubject=new Ke,this.configLoader=P(C2),this.environmentInjector=P(Ct),this.urlSerializer=P(qm),this.rootContexts=P(yd),this.location=P(Aa),this.inputBindingEnabled=P(Wm,{optional:!0})!==null,this.titleStrategy=P(Sb),this.options=P(Km,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=P(Jm),this.createViewTransition=P(S2,{optional:!0}),this.navigationErrorHandler=P(R2,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>X(void 0),this.rootComponentType=null;let t=i=>this.events.next(new Am(i)),r=i=>this.events.next(new Sm(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(ue(k(k({},this.transitions.value),t),{id:r}))}setupNavigations(t,r,i){return this.transitions=new Xe({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:ja,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Pt(o=>o.id!==0),ie(o=>ue(k({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Ft(o=>{let s=!1,a=!1;return X(o).pipe(Ft(u=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Ut.SupersededByNewNavigation),xt;this.currentTransition=o,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,targetBrowserUrl:typeof u.extras.browserUrl=="string"?this.urlSerializer.parse(u.extras.browserUrl):u.extras.browserUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?ue(k({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),h=u.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!l&&h!=="reload"){let p="";return this.events.next(new Pi(u.id,this.urlSerializer.serialize(u.rawUrl),p,Em.IgnoredSameUrlNavigation)),u.resolve(!1),xt}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return X(u).pipe(Ft(p=>{let m=this.transitions?.getValue();return this.events.next(new qa(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),m!==this.transitions?.getValue()?xt:Promise.resolve(p)}),y2(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Le(p=>{o.targetSnapshot=p.targetSnapshot,o.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation=ue(k({},this.currentNavigation),{finalUrl:p.urlAfterRedirects});let m=new ld(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(m)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:p,extractedUrl:m,source:v,restoredState:A,extras:M}=u,R=new qa(p,this.urlSerializer.serialize(m),v,A);this.events.next(R);let O=yb(this.rootComponentType).snapshot;return this.currentTransition=o=ue(k({},u),{targetSnapshot:O,urlAfterRedirects:m,extras:ue(k({},M),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=m,X(o)}else{let p="";return this.events.next(new Pi(u.id,this.urlSerializer.serialize(u.extractedUrl),p,Em.IgnoredByUrlHandlingStrategy)),u.resolve(!1),xt}}),Le(u=>{let l=new Dm(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),ie(u=>(this.currentTransition=o=ue(k({},u),{guards:Uk(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),o)),Kk(this.environmentInjector,u=>this.events.next(u)),Le(u=>{if(o.guardsResult=u.guardsResult,u.guardsResult&&typeof u.guardsResult!="boolean")throw gd(this.urlSerializer,u.guardsResult);let l=new Cm(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),Pt(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",Ut.GuardRejected),!1)),mm(u=>{if(u.guards.canActivateChecks.length)return X(u).pipe(Le(l=>{let h=new bm(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),Ft(l=>{let h=!1;return X(l).pipe(v2(this.paramsInheritanceStrategy,this.environmentInjector),Le({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(l,"",Ut.NoDataFromResolver)}}))}),Le(l=>{let h=new Tm(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}))}),mm(u=>{let l=h=>{let p=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(h.routeConfig).pipe(Le(m=>{h.component=m}),ie(()=>{})));for(let m of h.children)p.push(...l(m));return p};return Vu(l(u.targetSnapshot.root)).pipe(vr(null),Un(1))}),mm(()=>this.afterPreactivation()),Ft(()=>{let{currentSnapshot:u,targetSnapshot:l}=o,h=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return h?Ne(h).pipe(ie(()=>o)):X(o)}),ie(u=>{let l=xk(t.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o=ue(k({},u),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),Le(()=>{this.events.next(new Ga)}),kk(this.rootContexts,t.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),Un(1),Le({next:u=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new kr(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{s=!0}}),up(this.transitionAbortSubject.pipe(Le(u=>{throw u}))),li(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",Ut.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),mr(u=>{if(a=!0,Eb(u))this.events.next(new Qn(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),Ok(u)?this.events.next(new es(u.url,u.navigationBehaviorOptions)):o.resolve(!1);else{let l=new za(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0);try{let h=Xt(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(h instanceof Ka){let{message:p,cancellationCode:m}=gd(this.urlSerializer,h);this.events.next(new Qn(o.id,this.urlSerializer.serialize(o.extractedUrl),p,m)),this.events.next(new es(h.redirectTo,h.navigationBehaviorOptions))}else{this.events.next(l);let p=t.errorHandler(u);o.resolve(!!p)}}catch(h){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(h)}}return xt}))}))}cancelNavigationTransition(t,r,i){let o=new Qn(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function N2(n){return n!==ja}var x2=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=$({token:n,factory:()=>P(P2),providedIn:"root"})}}return n})(),Hm=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},P2=(()=>{class n extends Hm{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=wi(n)))(i||n)}})()}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Mb=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=$({token:n,factory:()=>P(F2),providedIn:"root"})}}return n})(),F2=(()=>{class n extends Mb{constructor(){super(...arguments),this.location=P(Aa),this.urlSerializer=P(qm),this.options=P(Km,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=P(Jm),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Yn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=yb(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&t(r.url,r.state)})}handleRouterEvent(t,r){if(t instanceof qa)this.stateMemento=this.createStateMemento();else if(t instanceof Pi)this.rawUrlTree=r.initialUrl;else if(t instanceof ld){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else t instanceof Ga?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):t instanceof Qn&&(t.code===Ut.GuardRejected||t.code===Ut.NoDataFromResolver)?this.restoreHistory(r):t instanceof za?this.restoreHistory(r,!0):t instanceof kr&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,r){let i=t instanceof Yn?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=k(k({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=k(k({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===t.finalUrl&&o===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=wi(n)))(i||n)}})()}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),La=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(La||{});function O2(n,e){n.events.pipe(Pt(t=>t instanceof kr||t instanceof Qn||t instanceof za||t instanceof Pi),ie(t=>t instanceof kr||t instanceof Pi?La.COMPLETE:(t instanceof Qn?t.code===Ut.Redirect||t.code===Ut.SupersededByNewNavigation:!1)?La.REDIRECTING:La.FAILED),Pt(t=>t!==La.REDIRECTING),Un(1)).subscribe(()=>{e()})}function k2(n){throw n}var U2={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},L2={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Oi=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=P(zl),this.stateManager=P(Mb),this.options=P(Km,{optional:!0})||{},this.pendingTasks=P(Sr),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=P(M2),this.urlSerializer=P(qm),this.location=P(Aa),this.urlHandlingStrategy=P(Jm),this._events=new Ke,this.errorHandler=this.options.errorHandler||k2,this.navigated=!1,this.routeReuseStrategy=P(x2),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=P(Ym,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!P(Wm,{optional:!0}),this.eventsSubscription=new Oe,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Qn&&r.code!==Ut.Redirect&&r.code!==Ut.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof kr)this.navigated=!0;else if(r instanceof es){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=k({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||N2(i.source)},s);this.scheduleNavigation(a,ja,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}j2(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ja,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",r)},0)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=k({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Qm),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=k(k({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let m=i?i.snapshot:this.routerState.snapshot.root;p=fb(m)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return pb(p,t,h,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=xi(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,ja,null,r)}navigate(t,r={skipLocationChange:!1}){return V2(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=k({},U2):r===!1?i=k({},L2):i=r,xi(t))return YC(this.currentUrlTree,t,i);let o=this.parseUrl(t);return YC(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,l;s?(a=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,m)=>{a=p,u=m});let h=this.pendingTasks.add();return O2(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function V2(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new z(4008,!1)}function j2(n){return!(n instanceof Ga)&&!(n instanceof es)}var Nb=(()=>{class n{constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.onChanges=new Ke,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=t.events.subscribe(l=>{l instanceof kr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(xi(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let r=this.href===null?null:ED(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:xi(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||n)(W(Oi),W(Fi),Ag("tabindex"),W(Ei),W(Rr),W(Wo))}}static{this.\u0275dir=ze({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&Ge("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&ba("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",xr],skipLocationChange:[2,"skipLocationChange","skipLocationChange",xr],replaceUrl:[2,"replaceUrl","replaceUrl",xr],routerLink:"routerLink"},standalone:!0,features:[zg,yn]})}}return n})();var B2=new B("");function xb(n,...e){return qt([{provide:Ym,multi:!0,useValue:n},[],{provide:Fi,useFactory:$2,deps:[Oi]},{provide:Gl,multi:!0,useFactory:H2},e.map(t=>t.\u0275providers)])}function $2(n){return n.routerState.root}function H2(){let n=P(bt);return e=>{let t=n.get(Nr);if(e!==t.components[0])return;let r=n.get(Oi),i=n.get(q2);n.get(z2)===1&&r.initialNavigation(),n.get(G2,null,ae.Optional)?.setUpPreloading(),n.get(B2,null,ae.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var q2=new B("",{factory:()=>new Ke}),z2=new B("",{providedIn:"root",factory:()=>1});var G2=new B("");var Ob=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},W2=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},kb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,u=i+2<n.length,l=u?n[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,m=(a&15)<<2|l>>6,v=l&63;u||(v=64,s||(m=64)),r.push(t[h],t[p],t[m],t[v])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Ob(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):W2(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let p=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new Xm;let m=o<<2|a>>4;if(r.push(m),l!==64){let v=a<<4&240|l>>2;if(r.push(v),p!==64){let A=l<<6&192|p;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Xm=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},K2=function(n){let e=Ob(n);return kb.encodeByteArray(e,!0)},ec=function(n){return K2(n).replace(/\./g,"")},ty=function(n){try{return kb.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Q2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var Y2=()=>Q2().__FIREBASE_DEFAULTS__,J2=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Z2=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&ty(n[1]);return e&&JSON.parse(e)},wd=()=>{try{return Y2()||J2()||Z2()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},ny=n=>{var e,t;return(t=(e=wd())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},Ub=n=>{let e=ny(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},ry=()=>{var n;return(n=wd())===null||n===void 0?void 0:n.config},iy=n=>{var e;return(e=wd())===null||e===void 0?void 0:e[`_${n}`]};var _d=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function Lb(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[ec(JSON.stringify(t)),ec(JSON.stringify(s)),""].join(".")}function Qe(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Vb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qe())}function X2(){var n;let e=(n=wd())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function jb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Bb(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function $b(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Hb(){let n=Qe();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function qb(){return!X2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function oy(){try{return typeof indexedDB=="object"}catch{return!1}}function zb(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var eU="FirebaseError",Lt=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=eU,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Jn.prototype.create)}},Jn=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?tU(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Lt(i,a,r)}};function tU(n,e){return n.replace(nU,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var nU=/\{\$([^}]+)}/g;function Gb(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function ki(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(Fb(o)&&Fb(s)){if(!ki(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function Fb(n){return n!==null&&typeof n=="object"}function tc(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function rs(n){let e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function is(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function Wb(n,e){let t=new ey(n,e);return t.subscribe.bind(t)}var ey=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");rU(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Zm),i.error===void 0&&(i.error=Zm),i.complete===void 0&&(i.complete=Zm);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function rU(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Zm(){}var j8=4*60*60*1e3;function Ye(n){return n&&n._delegate?n._delegate:n}var Wt=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Ui="[DEFAULT]";var sy=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new _d;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(oU(e))try{this.getOrInitializeService({instanceIdentifier:Ui})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Ui){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return _(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Ui){return this.instances.has(e)}getOptions(e=Ui){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:iU(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ui){return this.component?this.component.multipleInstances?e:Ui:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function iU(n){return n===Ui?void 0:n}function oU(n){return n.instantiationMode==="EAGER"}var Id=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new sy(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var sU=[],fe=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(fe||{}),aU={debug:fe.DEBUG,verbose:fe.VERBOSE,info:fe.INFO,warn:fe.WARN,error:fe.ERROR,silent:fe.SILENT},cU=fe.INFO,uU={[fe.DEBUG]:"log",[fe.VERBOSE]:"log",[fe.INFO]:"info",[fe.WARN]:"warn",[fe.ERROR]:"error"},lU=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=uU[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Lr=class{constructor(e){this.name=e,this._logLevel=cU,this._logHandler=lU,this._userLogHandler=null,sU.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?aU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,fe.DEBUG,...e),this._logHandler(this,fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,fe.VERBOSE,...e),this._logHandler(this,fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,fe.INFO,...e),this._logHandler(this,fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,fe.WARN,...e),this._logHandler(this,fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,fe.ERROR,...e),this._logHandler(this,fe.ERROR,...e)}};var dU=(n,e)=>e.some(t=>n instanceof t),Kb,Qb;function hU(){return Kb||(Kb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function fU(){return Qb||(Qb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var Yb=new WeakMap,cy=new WeakMap,Jb=new WeakMap,ay=new WeakMap,ly=new WeakMap;function pU(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(In(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&Yb.set(t,n)}).catch(()=>{}),ly.set(e,n),e}function gU(n){if(cy.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});cy.set(n,e)}var uy={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return cy.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Jb.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return In(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Zb(n){uy=n(uy)}function mU(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(Ed(this),e,...t);return Jb.set(r,e.sort?e.sort():[e]),In(r)}:fU().includes(n)?function(...e){return n.apply(Ed(this),e),In(Yb.get(this))}:function(...e){return In(n.apply(Ed(this),e))}}function yU(n){return typeof n=="function"?mU(n):(n instanceof IDBTransaction&&gU(n),dU(n,hU())?new Proxy(n,uy):n)}function In(n){if(n instanceof IDBRequest)return pU(n);if(ay.has(n))return ay.get(n);let e=yU(n);return e!==n&&(ay.set(n,e),ly.set(e,n)),e}var Ed=n=>ly.get(n);function eT(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=In(s);return r&&s.addEventListener("upgradeneeded",u=>{r(In(s.result),u.oldVersion,u.newVersion,In(s.transaction),u)}),t&&s.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var vU=["get","getKey","getAll","getAllKeys","count"],_U=["put","add","delete","clear"],dy=new Map;function Xb(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(dy.get(e))return dy.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=_U.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||vU.includes(t)))return;let o=function(s,...a){return _(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[t](...a),i&&u.done]))[0]})};return dy.set(e,o),o}Zb(n=>ue(k({},n),{get:(e,t,r)=>Xb(e,t)||n.get(e,t,r),has:(e,t)=>!!Xb(e,t)||n.has(e,t)}));var fy=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(wU(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function wU(n){let e=n.getComponent();return e?.type==="VERSION"}var py="@firebase/app",tT="0.10.13";var Zn=new Lr("@firebase/app"),IU="@firebase/app-compat",EU="@firebase/analytics-compat",DU="@firebase/analytics",CU="@firebase/app-check-compat",bU="@firebase/app-check",TU="@firebase/auth",AU="@firebase/auth-compat",SU="@firebase/database",RU="@firebase/data-connect",MU="@firebase/database-compat",NU="@firebase/functions",xU="@firebase/functions-compat",PU="@firebase/installations",FU="@firebase/installations-compat",OU="@firebase/messaging",kU="@firebase/messaging-compat",UU="@firebase/performance",LU="@firebase/performance-compat",VU="@firebase/remote-config",jU="@firebase/remote-config-compat",BU="@firebase/storage",$U="@firebase/storage-compat",HU="@firebase/firestore",qU="@firebase/vertexai-preview",zU="@firebase/firestore-compat",GU="firebase",WU="10.14.1";var gy="[DEFAULT]",KU={[py]:"fire-core",[IU]:"fire-core-compat",[DU]:"fire-analytics",[EU]:"fire-analytics-compat",[bU]:"fire-app-check",[CU]:"fire-app-check-compat",[TU]:"fire-auth",[AU]:"fire-auth-compat",[SU]:"fire-rtdb",[RU]:"fire-data-connect",[MU]:"fire-rtdb-compat",[NU]:"fire-fn",[xU]:"fire-fn-compat",[PU]:"fire-iid",[FU]:"fire-iid-compat",[OU]:"fire-fcm",[kU]:"fire-fcm-compat",[UU]:"fire-perf",[LU]:"fire-perf-compat",[VU]:"fire-rc",[jU]:"fire-rc-compat",[BU]:"fire-gcs",[$U]:"fire-gcs-compat",[HU]:"fire-fst",[zU]:"fire-fst-compat",[qU]:"fire-vertex","fire-js":"fire-js",[GU]:"fire-js-all"};var nc=new Map,QU=new Map,my=new Map;function nT(n,e){try{n.container.addComponent(e)}catch(t){Zn.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function jr(n){let e=n.name;if(my.has(e))return Zn.debug(`There were multiple attempts to register component ${e}.`),!1;my.set(e,n);for(let t of nc.values())nT(t,n);for(let t of QU.values())nT(t,n);return!0}function ic(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function En(n){return n.settings!==void 0}var YU={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Vr=new Jn("app","Firebase",YU);var yy=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Wt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Vr.create("app-deleted",{appName:this._name})}};var Br=WU;function wy(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:gy,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Vr.create("bad-app-name",{appName:String(i)});if(t||(t=ry()),!t)throw Vr.create("no-options");let o=nc.get(i);if(o){if(ki(t,o.options)&&ki(r,o.config))return o;throw Vr.create("duplicate-app",{appName:i})}let s=new Id(i);for(let u of my.values())s.addComponent(u);let a=new yy(t,r,s);return nc.set(i,a),a}function os(n=gy){let e=nc.get(n);if(!e&&n===gy&&ry())return wy();if(!e)throw Vr.create("no-app",{appName:n});return e}function Dd(){return Array.from(nc.values())}function We(n,e,t){var r;let i=(r=KU[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Zn.warn(a.join(" "));return}jr(new Wt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var JU="firebase-heartbeat-database",ZU=1,rc="firebase-heartbeat-store",hy=null;function sT(){return hy||(hy=eT(JU,ZU,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(rc)}catch(t){console.warn(t)}}}}).catch(n=>{throw Vr.create("idb-open",{originalErrorMessage:n.message})})),hy}function XU(n){return _(this,null,function*(){try{let t=(yield sT()).transaction(rc),r=yield t.objectStore(rc).get(aT(n));return yield t.done,r}catch(e){if(e instanceof Lt)Zn.warn(e.message);else{let t=Vr.create("idb-get",{originalErrorMessage:e?.message});Zn.warn(t.message)}}})}function rT(n,e){return _(this,null,function*(){try{let r=(yield sT()).transaction(rc,"readwrite");yield r.objectStore(rc).put(e,aT(n)),yield r.done}catch(t){if(t instanceof Lt)Zn.warn(t.message);else{let r=Vr.create("idb-set",{originalErrorMessage:t?.message});Zn.warn(r.message)}}})}function aT(n){return`${n.name}!${n.options.appId}`}var eL=1024,tL=30*24*60*60*1e3,vy=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new _y(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return _(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=iT();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=tL}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Zn.warn(r)}})}getHeartbeatsHeader(){return _(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=iT(),{heartbeatsToSend:r,unsentEntries:i}=nL(this._heartbeatsCache.heartbeats),o=ec(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Zn.warn(t),""}})}};function iT(){return new Date().toISOString().substring(0,10)}function nL(n,e=eL){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),oT(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),oT(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var _y=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return _(this,null,function*(){return oy()?zb().then(()=>!0).catch(()=>!1):!1})}read(){return _(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield XU(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return _(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return rT(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return _(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return rT(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function oT(n){return ec(JSON.stringify({version:2,heartbeats:n})).length}function rL(n){jr(new Wt("platform-logger",e=>new fy(e),"PRIVATE")),jr(new Wt("heartbeat",e=>new vy(e),"PRIVATE")),We(py,tT,n),We(py,tT,"esm2017"),We("fire-js","")}rL("");var iL="firebase",oL="10.14.1";We(iL,oL,"app");var Vi=new jn("ANGULARFIRE2_VERSION");function bd(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var oc=(n,e)=>{let t=e?[e]:Dd(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},as=class{constructor(){return oc(sL)}},sL="app-check";function ss(){}var Cd=class{zone;delegate;constructor(e,t=ep){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,t,r)}},Iy=class{zone;task=null;constructor(e){this.zone=e}call(e,t){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ss,{},ss,ss)),t.pipe(Le({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},cs=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new Cd(Zone.current)),this.insideAngular=t.run(()=>new Cd(Zone.current,Xf)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||n)(Q(Ee))};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Td(){let n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return n}function aL(n){return Td().ngZone.runOutsideAngular(()=>n())}function Li(n){return Td().ngZone.run(()=>n())}function cL(n){return uL(Td())(n)}function uL(n){return function(t){return t=t.lift(new Iy(n.ngZone)),t.pipe(gr(n.outsideAngular),pr(n.insideAngular))}}var lL=(n,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Li(()=>n.apply(void 0,r))},lt=(n,e)=>function(){let t,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(t||=Li(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ss,{},ss,ss))),r[o]=lL(r[o],t));let i=aL(()=>n.apply(this,r));if(!e)if(i instanceof le){let o=Td();return i.pipe(gr(o.outsideAngular),pr(o.insideAngular))}else return Li(()=>i);return i instanceof le?i.pipe(cL):i instanceof Promise?Li(()=>new Promise((o,s)=>i.then(a=>Li(()=>o(a)),a=>Li(()=>s(a))))):typeof i=="function"&&t?function(){return setTimeout(()=>{t&&t.state==="scheduled"&&t.invoke()},10),i.apply(this,arguments)}:Li(()=>i)};var Xn=class{constructor(e){return e}},ji=class{constructor(){return Dd()}};function dL(n){return n&&n.length===1?n[0]:new Xn(os())}var Ey=new B("angularfire2._apps"),hL={provide:Xn,useFactory:dL,deps:[[new _t,Ey]]},fL={provide:ji,deps:[[new _t,Ey]]};function pL(n){return(e,t)=>{let r=t.get(vn);We("angularfire",Vi.full,"core"),We("angularfire",Vi.full,"app"),We("angular",lC.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new Xn(i)}}function cT(n,...e){return qt([hL,fL,{provide:Ey,useFactory:pL(n),multi:!0,deps:[Ee,bt,cs,...e]}])}var uT=lt(wy,!0);function AT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var ST=AT,RT=new Jn("auth","Firebase",AT());var xd=new Lr("@firebase/auth");function gL(n,...e){xd.logLevel<=fe.WARN&&xd.warn(`Auth (${Br}): ${n}`,...e)}function Sd(n,...e){xd.logLevel<=fe.ERROR&&xd.error(`Auth (${Br}): ${n}`,...e)}function Cn(n,...e){throw qy(n,...e)}function Bi(n,...e){return qy(n,...e)}function MT(n,e,t){let r=Object.assign(Object.assign({},ST()),{[e]:t});return new Jn("auth","Firebase",r).create(e,{appName:n.name})}function Hr(n){return MT(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function qy(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return RT.create(n,...e)}function Y(n,e,...t){if(!n)throw qy(e,...t)}function er(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Sd(e),new Error(e)}function qr(n,e){n||er(e)}function Ty(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function mL(){return lT()==="http:"||lT()==="https:"}function lT(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function yL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(mL()||Bb()||"connection"in navigator)?navigator.onLine:!0}function vL(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var $i=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,qr(t>e,"Short delay should be less than long delay!"),this.isMobile=Vb()||$b()}get(){return yL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function zy(n,e){qr(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Pd=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;er("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;er("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;er("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var _L={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var wL=new $i(3e4,6e4);function qi(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function zr(o,s,a,u){return _(this,arguments,function*(n,e,t,r,i={}){return NT(n,i,()=>_(this,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=tc(Object.assign({key:n.config.apiKey},h)).slice(1),m=yield n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);let v=Object.assign({method:e,headers:m},l);return jb()||(v.referrerPolicy="no-referrer"),Pd.fetch()(xT(n,n.config.apiHost,t,p),v)}))})}function NT(n,e,t){return _(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},_L),e);try{let i=new Ay(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Ad(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ad(n,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw Ad(n,"email-already-in-use",s);if(u==="USER_DISABLED")throw Ad(n,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw MT(n,h,l);Cn(n,h)}}catch(i){if(i instanceof Lt)throw i;Cn(n,"network-request-failed",{message:String(i)})}})}function Hd(o,s,a,u){return _(this,arguments,function*(n,e,t,r,i={}){let l=yield zr(n,e,t,r,i);return"mfaPendingCredential"in l&&Cn(n,"multi-factor-auth-required",{_serverResponse:l}),l})}function xT(n,e,t,r){let i=`${e}${t}?${r}`;return n.config.emulator?zy(n.config,i):`${n.config.apiScheme}://${i}`}function IL(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Ay=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Bi(this.auth,"network-request-failed")),wL.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Ad(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=Bi(n,e,r);return i.customData._tokenResponse=t,i}function dT(n){return n!==void 0&&n.enterprise!==void 0}var Sy=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return IL(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function EL(n,e){return _(this,null,function*(){return zr(n,"GET","/v2/recaptchaConfig",qi(n,e))})}function DL(n,e){return _(this,null,function*(){return zr(n,"POST","/v1/accounts:delete",e)})}function PT(n,e){return _(this,null,function*(){return zr(n,"POST","/v1/accounts:lookup",e)})}function sc(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Gy(n,e=!1){return _(this,null,function*(){let t=Ye(n),r=yield t.getIdToken(e),i=Wy(r);Y(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:sc(Dy(i.auth_time)),issuedAtTime:sc(Dy(i.iat)),expirationTime:sc(Dy(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function Dy(n){return Number(n)*1e3}function Wy(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Sd("JWT malformed, contained fewer than 3 sections"),null;try{let i=ty(t);return i?JSON.parse(i):(Sd("Failed to decode base64 JWT payload"),null)}catch(i){return Sd("Caught error parsing JWT payload as JSON",i?.toString()),null}}function hT(n){let e=Wy(n);return Y(e,"internal-error"),Y(typeof e.exp<"u","internal-error"),Y(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function cc(n,e,t=!1){return _(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof Lt&&CL(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function CL({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var Ry=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>_(this,null,function*(){yield this.iteration()}),t)}iteration(){return _(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var uc=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=sc(this.lastLoginAt),this.creationTime=sc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Fd(n){return _(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield cc(n,PT(t,{idToken:r}));Y(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?FT(o.providerUserInfo):[],a=bL(n.providerData,s),u=n.isAnonymous,l=!(n.email&&o.passwordHash)&&!a?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new uc(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(n,p)})}function Ky(n){return _(this,null,function*(){let e=Ye(n);yield Fd(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function bL(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function FT(n){return n.map(e=>{var{providerId:t}=e,r=tp(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function TL(n,e){return _(this,null,function*(){let t=yield NT(n,{},()=>_(this,null,function*(){let r=tc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=xT(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Pd.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function AL(n,e){return _(this,null,function*(){return zr(n,"POST","/v2/accounts:revokeToken",qi(n,e))})}var ac=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Y(e.idToken,"internal-error"),Y(typeof e.idToken<"u","internal-error"),Y(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):hT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Y(e.length!==0,"internal-error");let t=hT(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return _(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Y(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return _(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield TL(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(Y(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Y(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(Y(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return er("not implemented")}};function $r(n,e){Y(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var us=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=tp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ry(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new uc(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return _(this,null,function*(){let t=yield cc(this,this.stsTokenManager.getToken(this.auth,e));return Y(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return Gy(this,e)}reload(){return Ky(this)}_assign(e){this!==e&&(Y(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Y(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return _(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield Fd(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return _(this,null,function*(){if(En(this.auth.app))return Promise.reject(Hr(this.auth));let e=yield this.getIdToken();return yield cc(this,DL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,u,l,h;let p=(r=t.displayName)!==null&&r!==void 0?r:void 0,m=(i=t.email)!==null&&i!==void 0?i:void 0,v=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,A=(s=t.photoURL)!==null&&s!==void 0?s:void 0,M=(a=t.tenantId)!==null&&a!==void 0?a:void 0,R=(u=t._redirectEventId)!==null&&u!==void 0?u:void 0,O=(l=t.createdAt)!==null&&l!==void 0?l:void 0,q=(h=t.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:U,emailVerified:ne,isAnonymous:Ie,providerData:K,stsTokenManager:E}=t;Y(U&&E,e,"internal-error");let y=ac.fromJSON(this.name,E);Y(typeof U=="string",e,"internal-error"),$r(p,e.name),$r(m,e.name),Y(typeof ne=="boolean",e,"internal-error"),Y(typeof Ie=="boolean",e,"internal-error"),$r(v,e.name),$r(A,e.name),$r(M,e.name),$r(R,e.name),$r(O,e.name),$r(q,e.name);let w=new n({uid:U,auth:e,email:m,emailVerified:ne,displayName:p,isAnonymous:Ie,photoURL:A,phoneNumber:v,tenantId:M,stsTokenManager:y,createdAt:O,lastLoginAt:q});return K&&Array.isArray(K)&&(w.providerData=K.map(D=>Object.assign({},D))),R&&(w._redirectEventId=R),w}static _fromIdTokenResponse(e,t,r=!1){return _(this,null,function*(){let i=new ac;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Fd(o),o})}static _fromGetAccountInfoResponse(e,t,r){return _(this,null,function*(){let i=t.users[0];Y(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?FT(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new ac;a.updateFromIdToken(r);let u=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new uc(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var fT=new Map;function tr(n){qr(n instanceof Function,"Expected a class definition");let e=fT.get(n);return e?(qr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,fT.set(n,e),e)}var SL=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return _(this,null,function*(){return!0})}_set(t,r){return _(this,null,function*(){this.storage[t]=r})}_get(t){return _(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return _(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),My=SL;function Rd(n,e,t){return`firebase:${n}:${e}:${t}`}var Od=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Rd(this.userKey,i.apiKey,o),this.fullPersistenceKey=Rd("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return _(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?us._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return _(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return _(this,null,function*(){if(!t.length)return new n(tr(My),e,r);let i=(yield Promise.all(t.map(l=>_(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||tr(My),s=Rd(r,e.config.apiKey,e.name),a=null;for(let l of t)try{let h=yield l._get(s);if(h){let p=us._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new n(o,e,r):(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(l=>_(this,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new n(o,e,r))})}};function pT(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(LT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(OT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(jT(e))return"Blackberry";if(BT(e))return"Webos";if(kT(e))return"Safari";if((e.includes("chrome/")||UT(e))&&!e.includes("edge/"))return"Chrome";if(VT(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function OT(n=Qe()){return/firefox\//i.test(n)}function kT(n=Qe()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function UT(n=Qe()){return/crios\//i.test(n)}function LT(n=Qe()){return/iemobile/i.test(n)}function VT(n=Qe()){return/android/i.test(n)}function jT(n=Qe()){return/blackberry/i.test(n)}function BT(n=Qe()){return/webos/i.test(n)}function Qy(n=Qe()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function RL(n=Qe()){var e;return Qy(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function ML(){return Hb()&&document.documentMode===10}function $T(n=Qe()){return Qy(n)||VT(n)||BT(n)||jT(n)||/windows phone/i.test(n)||LT(n)}function HT(n,e=[]){let t;switch(n){case"Browser":t=pT(Qe());break;case"Worker":t=`${pT(Qe())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Br}/${r}`}var Ny=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return _(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function NL(t){return _(this,arguments,function*(n,e={}){return zr(n,"GET","/v2/passwordPolicy",qi(n,e))})}var xL=6,xy=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:xL,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(t=u.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var Py=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new kd(this),this.idTokenSubscription=new kd(this),this.beforeStateQueue=new Ny(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=RT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=tr(t)),this._initializationPromise=this.queue(()=>_(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Od.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return _(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return _(this,null,function*(){try{let t=yield PT(this,{idToken:e}),r=yield us._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return _(this,null,function*(){var t;if(En(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Y(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return _(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return _(this,null,function*(){try{yield Fd(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=vL()}_delete(){return _(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return _(this,null,function*(){if(En(this.app))return Promise.reject(Hr(this));let t=e?Ye(e):null;return t&&Y(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return _(this,null,function*(){if(!this._deleted)return e&&Y(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>_(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return _(this,null,function*(){return En(this.app)?Promise.reject(Hr(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return En(this.app)?Promise.reject(Hr(this)):this.queue(()=>_(this,null,function*(){yield this.assertedPersistence.setPersistence(tr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return _(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return _(this,null,function*(){let e=yield NL(this),t=new xy(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Jn("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return _(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield AL(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return _(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return _(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&tr(e)||this._popupRedirectResolver;Y(t,this,"argument-error"),this.redirectPersistenceManager=yield Od.create(this,[tr(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return _(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>_(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return _(this,null,function*(){if(e===this.currentUser)return this.queue(()=>_(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Y(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let u=e.addObserver(t,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(t);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return _(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Y(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=HT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return _(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return _(this,null,function*(){var e;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&gL(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function ls(n){return Ye(n)}var kd=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=Wb(t=>this.observer=t)}get next(){return Y(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var qd={loadJS(){return _(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function PL(n){qd=n}function qT(n){return qd.loadJS(n)}function FL(){return qd.recaptchaEnterpriseScript}function OL(){return qd.gapiScript}function zT(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var kL="recaptcha-enterprise",UL="NO_RECAPTCHA",Fy=class{constructor(e){this.type=kL,this.auth=ls(e)}verify(e="verify",t=!1){return _(this,null,function*(){function r(o){return _(this,null,function*(){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>_(this,null,function*(){EL(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new Sy(u);return o.tenantId==null?o._agentRecaptchaConfig=l:o._tenantRecaptchaConfigs[o.tenantId]=l,s(l.siteKey)}}).catch(u=>{a(u)})}))})}function i(o,s,a){let u=window.grecaptcha;dT(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:e}).then(l=>{s(l)}).catch(()=>{s(UL)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!t&&dT(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let u=FL();u.length!==0&&(u+=a),qT(u).then(()=>{i(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})})}};function gT(n,e,t,r=!1){return _(this,null,function*(){let i=new Fy(n),o;try{o=yield i.verify(t)}catch{o=yield i.verify(t,!0)}let s=Object.assign({},e);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s})}function mT(n,e,t,r){return _(this,null,function*(){var i;if(!((i=n._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let o=yield gT(n,e,t,t==="getOobCode");return r(n,o)}else return r(n,e).catch(o=>_(this,null,function*(){if(o.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let s=yield gT(n,e,t,t==="getOobCode");return r(n,s)}else return Promise.reject(o)}))})}function Yy(n,e){let t=ic(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),o=t.getOptions();if(ki(o,e??{}))return i;Cn(i,"already-initialized")}return t.initialize({options:e})}function LL(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(tr);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function Jy(n,e,t){let r=ls(n);Y(r._canInitEmulator,r,"emulator-config-failed"),Y(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,o=GT(e),{host:s,port:a}=VL(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||jL()}function GT(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function VL(n){let e=GT(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:yT(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:yT(s)}}}function yT(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function jL(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var lc=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return er("not implemented")}_getIdTokenResponse(e){return er("not implemented")}_linkToIdToken(e,t){return er("not implemented")}_getReauthenticationResolver(e){return er("not implemented")}};function BL(n,e){return _(this,null,function*(){return zr(n,"POST","/v1/accounts:signUp",e)})}function $L(n,e){return _(this,null,function*(){return Hd(n,"POST","/v1/accounts:signInWithPassword",qi(n,e))})}function HL(n,e){return _(this,null,function*(){return Hd(n,"POST","/v1/accounts:signInWithEmailLink",qi(n,e))})}function qL(n,e){return _(this,null,function*(){return Hd(n,"POST","/v1/accounts:signInWithEmailLink",qi(n,e))})}var dc=class n extends lc{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new n(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return _(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return mT(e,t,"signInWithPassword",$L);case"emailLink":return HL(e,{email:this._email,oobCode:this._password});default:Cn(e,"internal-error")}})}_linkToIdToken(e,t){return _(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return mT(e,r,"signUpPassword",BL);case"emailLink":return qL(e,{idToken:t,email:this._email,oobCode:this._password});default:Cn(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function Cy(n,e){return _(this,null,function*(){return Hd(n,"POST","/v1/accounts:signInWithIdp",qi(n,e))})}function zL(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function GL(n){let e=rs(is(n)).link,t=e?rs(is(e)).deep_link_id:null,r=rs(is(n)).deep_link_id;return(r?rs(is(r)).link:null)||r||t||e||n}var Ud=class n{constructor(e){var t,r,i,o,s,a;let u=rs(is(e)),l=(t=u.apiKey)!==null&&t!==void 0?t:null,h=(r=u.oobCode)!==null&&r!==void 0?r:null,p=zL((i=u.mode)!==null&&i!==void 0?i:null);Y(l&&h&&p,"argument-error"),this.apiKey=l,this.operation=p,this.code=h,this.continueUrl=(o=u.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=u.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let t=GL(e);try{return new n(t)}catch{return null}}};var WT=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return dc._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){let i=Ud.parseLink(r);return Y(i,"argument-error"),dc._fromEmailAndCode(t,i.code,i.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),Ld=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Oy=class extends Ld{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var hc=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return _(this,null,function*(){let o=yield us._fromIdTokenResponse(e,r,i),s=vT(r);return new n({user:o,providerId:s,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return _(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=vT(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function vT(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var ky=class n extends Lt{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function KT(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?ky._fromErrorAndOperation(n,o,e,r):o})}function WL(n,e,t=!1){return _(this,null,function*(){let r=yield cc(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return hc._forOperation(n,"link",r)})}function KL(n,e,t=!1){return _(this,null,function*(){let{auth:r}=n;if(En(r.app))return Promise.reject(Hr(r));let i="reauthenticate";try{let o=yield cc(n,KT(r,i,e,n),t);Y(o.idToken,r,"internal-error");let s=Wy(o.idToken);Y(s,r,"internal-error");let{sub:a}=s;return Y(n.uid===a,r,"user-mismatch"),hc._forOperation(n,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&Cn(r,"user-mismatch"),o}})}function QT(n,e,t=!1){return _(this,null,function*(){if(En(n.app))return Promise.reject(Hr(n));let r="signIn",i=yield KT(n,r,e),o=yield hc._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(o.user)),o})}function Zy(n,e){return _(this,null,function*(){return QT(ls(n),e)})}function QL(n){return _(this,null,function*(){let e=ls(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function Xy(n,e,t){return En(n.app)?Promise.reject(Hr(n)):Zy(Ye(n),WT.credential(e,t)).catch(r=>_(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&QL(n),r}))}function ev(n,e,t,r){return Ye(n).onIdTokenChanged(e,t,r)}function tv(n,e,t){return Ye(n).beforeAuthStateChanged(e,t)}function nv(n,e,t,r){return Ye(n).onAuthStateChanged(e,t,r)}function rv(n){return Ye(n).signOut()}var Vd="__sak";var jd=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Vd,"1"),this.storage.removeItem(Vd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var YL=1e3,JL=10,ZL=(()=>{class n extends jd{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=$T(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=t.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);ML()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,JL):o()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},YL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return _(this,null,function*(){yield hr(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return _(this,null,function*(){let r=yield hr(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return _(this,null,function*(){yield hr(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),YT=ZL;var XL=(()=>{class n extends jd{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),iv=XL;function eV(n){return Promise.all(n.map(e=>_(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var tV=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return _(this,null,function*(){let r=t,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(a).map(h=>_(this,null,function*(){return h(r.origin,s)})),l=yield eV(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function JT(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var Uy=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return _(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{let l=JT("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let m=p;if(m.data.eventId===l)switch(m.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(m.data.response);break;default:clearTimeout(h),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function Dn(){return window}function nV(n){Dn().location.href=n}function ZT(){return typeof Dn().WorkerGlobalScope<"u"&&typeof Dn().importScripts=="function"}function rV(){return _(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function iV(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function oV(){return ZT()?self:null}var XT="firebaseLocalStorageDb",sV=1,Bd="firebaseLocalStorage",eA="fbase_key",Hi=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function zd(n,e){return n.transaction([Bd],e?"readwrite":"readonly").objectStore(Bd)}function aV(){let n=indexedDB.deleteDatabase(XT);return new Hi(n).toPromise()}function Ly(){let n=indexedDB.open(XT,sV);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(Bd,{keyPath:eA})}catch(i){t(i)}}),n.addEventListener("success",()=>_(this,null,function*(){let r=n.result;r.objectStoreNames.contains(Bd)?e(r):(r.close(),yield aV(),e(yield Ly()))}))})}function _T(n,e,t){return _(this,null,function*(){let r=zd(n,!0).put({[eA]:e,value:t});return new Hi(r).toPromise()})}function cV(n,e){return _(this,null,function*(){let t=zd(n,!1).get(e),r=yield new Hi(t).toPromise();return r===void 0?null:r.value})}function wT(n,e){let t=zd(n,!0).delete(e);return new Hi(t).toPromise()}var uV=800,lV=3,dV=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return _(this,null,function*(){return this.db?this.db:(this.db=yield Ly(),this.db)})}_withRetries(t){return _(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>lV)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return _(this,null,function*(){return ZT()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return _(this,null,function*(){this.receiver=tV._getInstance(oV()),this.receiver._subscribe("keyChanged",(t,r)=>_(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>_(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return _(this,null,function*(){var t,r;if(this.activeServiceWorker=yield rV(),!this.activeServiceWorker)return;this.sender=new Uy(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return _(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||iV()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return _(this,null,function*(){try{if(!indexedDB)return!1;let t=yield Ly();return yield _T(t,Vd,"1"),yield wT(t,Vd),!0}catch{}return!1})}_withPendingWrite(t){return _(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(i=>_T(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return _(this,null,function*(){let r=yield this._withRetries(i=>cV(i,t));return this.localCache[t]=r,r})}_remove(t){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(r=>wT(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return _(this,null,function*(){let t=yield this._withRetries(o=>{let s=zd(o,!1).getAll();return new Hi(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>_(this,null,function*(){return this._poll()}),uV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),tA=dV;var P5=zT("rcb"),F5=new $i(3e4,6e4);function hV(n,e){return e?tr(e):(Y(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var fc=class extends lc{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Cy(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Cy(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Cy(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function fV(n){return QT(n.auth,new fc(n),n.bypassAuthState)}function pV(n){let{auth:e,user:t}=n;return Y(t,e,"internal-error"),KL(t,new fc(n),n.bypassAuthState)}function gV(n){return _(this,null,function*(){let{auth:e,user:t}=n;return Y(t,e,"internal-error"),WL(t,new fc(n),n.bypassAuthState)})}var Vy=class{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>_(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return _(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return fV;case"linkViaPopup":case"linkViaRedirect":return gV;case"reauthViaPopup":case"reauthViaRedirect":return pV;default:Cn(this.auth,"internal-error")}}resolve(e){qr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){qr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var O5=new $i(2e3,1e4);var mV="pendingRedirect",Md=new Map,jy=class n extends Vy{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return _(this,null,function*(){let e=Md.get(this.auth._key());if(!e){try{let r=(yield yV(this.resolver,this.auth))?yield hr(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Md.set(this.auth._key(),e)}return this.bypassAuthState||Md.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return _(this,null,function*(){if(e.type==="signInViaRedirect")return hr(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,hr(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return _(this,null,function*(){})}cleanUp(){}};function yV(n,e){return _(this,null,function*(){let t=wV(e),r=_V(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function vV(n,e){Md.set(n._key(),e)}function _V(n){return tr(n._redirectPersistence)}function wV(n){return Rd(mV,n.config.apiKey,n.name)}function IV(n,e,t=!1){return _(this,null,function*(){if(En(n.app))return Promise.reject(Hr(n));let r=ls(n),i=hV(r,e),s=yield new jy(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var EV=10*60*1e3,By=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!DV(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!nA(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Bi(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=EV&&this.cachedEventUids.clear(),this.cachedEventUids.has(IT(e))}saveEventToCache(e){this.cachedEventUids.add(IT(e)),this.lastProcessedEventTime=Date.now()}};function IT(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function nA({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function DV(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return nA(n);default:return!1}}function CV(t){return _(this,arguments,function*(n,e={}){return zr(n,"GET","/v1/projects",e)})}var bV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,TV=/^https?/;function AV(n){return _(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield CV(n);for(let t of e)try{if(SV(t))return}catch{}Cn(n,"unauthorized-domain")})}function SV(n){let e=Ty(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!TV.test(t))return!1;if(bV.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var RV=new $i(3e4,6e4);function ET(){let n=Dn().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function MV(n){return new Promise((e,t)=>{var r,i,o;function s(){ET(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ET(),t(Bi(n,"network-request-failed"))},timeout:RV.get()})}if(!((i=(r=Dn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Dn().gapi)===null||o===void 0)&&o.load)s();else{let a=zT("iframefcb");return Dn()[a]=()=>{gapi.load?s():t(Bi(n,"network-request-failed"))},qT(`${OL()}?onload=${a}`).catch(u=>t(u))}}).catch(e=>{throw Nd=null,e})}var Nd=null;function NV(n){return Nd=Nd||MV(n),Nd}var xV=new $i(5e3,15e3),PV="__/auth/iframe",FV="emulator/auth/iframe",OV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},kV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function UV(n){let e=n.config;Y(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?zy(e,FV):`https://${n.config.authDomain}/${PV}`,r={apiKey:e.apiKey,appName:n.name,v:Br},i=kV.get(n.config.apiHost);i&&(r.eid=i);let o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${tc(r).slice(1)}`}function LV(n){return _(this,null,function*(){let e=yield NV(n),t=Dn().gapi;return Y(t,n,"internal-error"),e.open({where:document.body,url:UV(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:OV,dontclear:!0},r=>new Promise((i,o)=>_(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=Bi(n,"network-request-failed"),a=Dn().setTimeout(()=>{o(s)},xV.get());function u(){Dn().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})})))})}var VV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},jV=500,BV=600,$V="_blank",HV="http://localhost",$d=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function qV(n,e,t,r=jV,i=BV){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},VV),{width:r.toString(),height:i.toString(),top:o,left:s}),l=Qe().toLowerCase();t&&(a=UT(l)?$V:t),OT(l)&&(e=e||HV,u.scrollbars="yes");let h=Object.entries(u).reduce((m,[v,A])=>`${m}${v}=${A},`,"");if(RL(l)&&a!=="_self")return zV(e||"",a),new $d(null);let p=window.open(e||"",a,h);Y(p,n,"popup-blocked");try{p.focus()}catch{}return new $d(p)}function zV(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var GV="__/auth/handler",WV="emulator/auth/handler",KV=encodeURIComponent("fac");function DT(n,e,t,r,i,o){return _(this,null,function*(){Y(n.config.authDomain,n,"auth-domain-config-required"),Y(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Br,eventId:i};if(e instanceof Ld){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",Gb(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof Oy){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}n.tenantId&&(s.tid=n.tenantId);let a=s;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=yield n._getAppCheckToken(),l=u?`#${KV}=${encodeURIComponent(u)}`:"";return`${QV(n)}?${tc(a).slice(1)}${l}`})}function QV({config:n}){return n.emulator?zy(n,WV):`https://${n.authDomain}/${GV}`}var by="webStorageSupport",$y=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=iv,this._completeRedirectFn=IV,this._overrideRedirectResult=vV}_openPopup(e,t,r,i){return _(this,null,function*(){var o;qr((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield DT(e,t,r,Ty(),i);return qV(e,s,JT())})}_openRedirect(e,t,r,i){return _(this,null,function*(){yield this._originValidation(e);let o=yield DT(e,t,r,Ty(),i);return nV(o),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(qr(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return _(this,null,function*(){let t=yield LV(e),r=new By(e);return t.register("authEvent",i=>(Y(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(by,{type:by},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[by];s!==void 0&&t(!!s),Cn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=AV(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return $T()||kT()||Qy()}},rA=$y;var CT="@firebase/auth",bT="1.7.9";var Hy=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return _(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Y(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function YV(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function JV(n){jr(new Wt("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Y(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:HT(n)},l=new Py(r,i,o,u);return LL(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),jr(new Wt("auth-internal",e=>{let t=ls(e.getProvider("auth").getImmediate());return(r=>new Hy(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),We(CT,bT,YV(n)),We(CT,bT,"esm2017")}var ZV=5*60,XV=iy("authIdTokenMaxAge")||ZV,TT=null,ej=n=>e=>_(void 0,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>XV)return;let i=t?.token;TT!==i&&(TT=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function ov(n=os()){let e=ic(n,"auth");if(e.isInitialized())return e.getImmediate();let t=Yy(n,{popupRedirectResolver:rA,persistence:[tA,YT,iv]}),r=iy("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=ej(o.toString());tv(t,s,()=>s(t.currentUser)),ev(t,a=>s(a))}}let i=ny("auth");return i&&Jy(t,`http://${i}`),t}function tj(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}PL({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=Bi("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",tj().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});JV("Browser");var iA="auth",zi=class{constructor(e){return e}},pc=class{constructor(){return oc(iA)}};var sv=new B("angularfire2.auth-instances");function zj(n,e){let t=bd(iA,n,e);return t&&new zi(t)}function Gj(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new zi(r)}}var Wj={provide:pc,deps:[[new _t,sv]]},Kj={provide:zi,useFactory:zj,deps:[[new _t,sv],Xn]};function oA(n,...e){return We("angularfire",Vi.full,"auth"),qt([Kj,Wj,{provide:sv,useFactory:Gj(n),multi:!0,deps:[Ee,bt,cs,ji,[new _t,as],...e]}])}var Kt=lt(ov,!0);var ds=lt(nv,!0);var sA=lt(Xy,!0);var aA=lt(rv,!0);var cA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},uA={};var Gr,av;(function(){var n;function e(E,y){function w(){}w.prototype=y.prototype,E.D=y.prototype,E.prototype=new w,E.prototype.constructor=E,E.C=function(D,C,T){for(var I=Array(arguments.length-2),xn=2;xn<arguments.length;xn++)I[xn-2]=arguments[xn];return y.prototype[C].apply(D,I)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,y,w){w||(w=0);var D=Array(16);if(typeof y=="string")for(var C=0;16>C;++C)D[C]=y.charCodeAt(w++)|y.charCodeAt(w++)<<8|y.charCodeAt(w++)<<16|y.charCodeAt(w++)<<24;else for(C=0;16>C;++C)D[C]=y[w++]|y[w++]<<8|y[w++]<<16|y[w++]<<24;y=E.g[0],w=E.g[1],C=E.g[2];var T=E.g[3],I=y+(T^w&(C^T))+D[0]+3614090360&4294967295;y=w+(I<<7&4294967295|I>>>25),I=T+(C^y&(w^C))+D[1]+3905402710&4294967295,T=y+(I<<12&4294967295|I>>>20),I=C+(w^T&(y^w))+D[2]+606105819&4294967295,C=T+(I<<17&4294967295|I>>>15),I=w+(y^C&(T^y))+D[3]+3250441966&4294967295,w=C+(I<<22&4294967295|I>>>10),I=y+(T^w&(C^T))+D[4]+4118548399&4294967295,y=w+(I<<7&4294967295|I>>>25),I=T+(C^y&(w^C))+D[5]+1200080426&4294967295,T=y+(I<<12&4294967295|I>>>20),I=C+(w^T&(y^w))+D[6]+2821735955&4294967295,C=T+(I<<17&4294967295|I>>>15),I=w+(y^C&(T^y))+D[7]+4249261313&4294967295,w=C+(I<<22&4294967295|I>>>10),I=y+(T^w&(C^T))+D[8]+1770035416&4294967295,y=w+(I<<7&4294967295|I>>>25),I=T+(C^y&(w^C))+D[9]+2336552879&4294967295,T=y+(I<<12&4294967295|I>>>20),I=C+(w^T&(y^w))+D[10]+4294925233&4294967295,C=T+(I<<17&4294967295|I>>>15),I=w+(y^C&(T^y))+D[11]+2304563134&4294967295,w=C+(I<<22&4294967295|I>>>10),I=y+(T^w&(C^T))+D[12]+1804603682&4294967295,y=w+(I<<7&4294967295|I>>>25),I=T+(C^y&(w^C))+D[13]+4254626195&4294967295,T=y+(I<<12&4294967295|I>>>20),I=C+(w^T&(y^w))+D[14]+2792965006&4294967295,C=T+(I<<17&4294967295|I>>>15),I=w+(y^C&(T^y))+D[15]+1236535329&4294967295,w=C+(I<<22&4294967295|I>>>10),I=y+(C^T&(w^C))+D[1]+4129170786&4294967295,y=w+(I<<5&4294967295|I>>>27),I=T+(w^C&(y^w))+D[6]+3225465664&4294967295,T=y+(I<<9&4294967295|I>>>23),I=C+(y^w&(T^y))+D[11]+643717713&4294967295,C=T+(I<<14&4294967295|I>>>18),I=w+(T^y&(C^T))+D[0]+3921069994&4294967295,w=C+(I<<20&4294967295|I>>>12),I=y+(C^T&(w^C))+D[5]+3593408605&4294967295,y=w+(I<<5&4294967295|I>>>27),I=T+(w^C&(y^w))+D[10]+38016083&4294967295,T=y+(I<<9&4294967295|I>>>23),I=C+(y^w&(T^y))+D[15]+3634488961&4294967295,C=T+(I<<14&4294967295|I>>>18),I=w+(T^y&(C^T))+D[4]+3889429448&4294967295,w=C+(I<<20&4294967295|I>>>12),I=y+(C^T&(w^C))+D[9]+568446438&4294967295,y=w+(I<<5&4294967295|I>>>27),I=T+(w^C&(y^w))+D[14]+3275163606&4294967295,T=y+(I<<9&4294967295|I>>>23),I=C+(y^w&(T^y))+D[3]+4107603335&4294967295,C=T+(I<<14&4294967295|I>>>18),I=w+(T^y&(C^T))+D[8]+1163531501&4294967295,w=C+(I<<20&4294967295|I>>>12),I=y+(C^T&(w^C))+D[13]+2850285829&4294967295,y=w+(I<<5&4294967295|I>>>27),I=T+(w^C&(y^w))+D[2]+4243563512&4294967295,T=y+(I<<9&4294967295|I>>>23),I=C+(y^w&(T^y))+D[7]+1735328473&4294967295,C=T+(I<<14&4294967295|I>>>18),I=w+(T^y&(C^T))+D[12]+2368359562&4294967295,w=C+(I<<20&4294967295|I>>>12),I=y+(w^C^T)+D[5]+4294588738&4294967295,y=w+(I<<4&4294967295|I>>>28),I=T+(y^w^C)+D[8]+2272392833&4294967295,T=y+(I<<11&4294967295|I>>>21),I=C+(T^y^w)+D[11]+1839030562&4294967295,C=T+(I<<16&4294967295|I>>>16),I=w+(C^T^y)+D[14]+4259657740&4294967295,w=C+(I<<23&4294967295|I>>>9),I=y+(w^C^T)+D[1]+2763975236&4294967295,y=w+(I<<4&4294967295|I>>>28),I=T+(y^w^C)+D[4]+1272893353&4294967295,T=y+(I<<11&4294967295|I>>>21),I=C+(T^y^w)+D[7]+4139469664&4294967295,C=T+(I<<16&4294967295|I>>>16),I=w+(C^T^y)+D[10]+3200236656&4294967295,w=C+(I<<23&4294967295|I>>>9),I=y+(w^C^T)+D[13]+681279174&4294967295,y=w+(I<<4&4294967295|I>>>28),I=T+(y^w^C)+D[0]+3936430074&4294967295,T=y+(I<<11&4294967295|I>>>21),I=C+(T^y^w)+D[3]+3572445317&4294967295,C=T+(I<<16&4294967295|I>>>16),I=w+(C^T^y)+D[6]+76029189&4294967295,w=C+(I<<23&4294967295|I>>>9),I=y+(w^C^T)+D[9]+3654602809&4294967295,y=w+(I<<4&4294967295|I>>>28),I=T+(y^w^C)+D[12]+3873151461&4294967295,T=y+(I<<11&4294967295|I>>>21),I=C+(T^y^w)+D[15]+530742520&4294967295,C=T+(I<<16&4294967295|I>>>16),I=w+(C^T^y)+D[2]+3299628645&4294967295,w=C+(I<<23&4294967295|I>>>9),I=y+(C^(w|~T))+D[0]+4096336452&4294967295,y=w+(I<<6&4294967295|I>>>26),I=T+(w^(y|~C))+D[7]+1126891415&4294967295,T=y+(I<<10&4294967295|I>>>22),I=C+(y^(T|~w))+D[14]+2878612391&4294967295,C=T+(I<<15&4294967295|I>>>17),I=w+(T^(C|~y))+D[5]+4237533241&4294967295,w=C+(I<<21&4294967295|I>>>11),I=y+(C^(w|~T))+D[12]+1700485571&4294967295,y=w+(I<<6&4294967295|I>>>26),I=T+(w^(y|~C))+D[3]+2399980690&4294967295,T=y+(I<<10&4294967295|I>>>22),I=C+(y^(T|~w))+D[10]+4293915773&4294967295,C=T+(I<<15&4294967295|I>>>17),I=w+(T^(C|~y))+D[1]+2240044497&4294967295,w=C+(I<<21&4294967295|I>>>11),I=y+(C^(w|~T))+D[8]+1873313359&4294967295,y=w+(I<<6&4294967295|I>>>26),I=T+(w^(y|~C))+D[15]+4264355552&4294967295,T=y+(I<<10&4294967295|I>>>22),I=C+(y^(T|~w))+D[6]+2734768916&4294967295,C=T+(I<<15&4294967295|I>>>17),I=w+(T^(C|~y))+D[13]+1309151649&4294967295,w=C+(I<<21&4294967295|I>>>11),I=y+(C^(w|~T))+D[4]+4149444226&4294967295,y=w+(I<<6&4294967295|I>>>26),I=T+(w^(y|~C))+D[11]+3174756917&4294967295,T=y+(I<<10&4294967295|I>>>22),I=C+(y^(T|~w))+D[2]+718787259&4294967295,C=T+(I<<15&4294967295|I>>>17),I=w+(T^(C|~y))+D[9]+3951481745&4294967295,E.g[0]=E.g[0]+y&4294967295,E.g[1]=E.g[1]+(C+(I<<21&4294967295|I>>>11))&4294967295,E.g[2]=E.g[2]+C&4294967295,E.g[3]=E.g[3]+T&4294967295}r.prototype.u=function(E,y){y===void 0&&(y=E.length);for(var w=y-this.blockSize,D=this.B,C=this.h,T=0;T<y;){if(C==0)for(;T<=w;)i(this,E,T),T+=this.blockSize;if(typeof E=="string"){for(;T<y;)if(D[C++]=E.charCodeAt(T++),C==this.blockSize){i(this,D),C=0;break}}else for(;T<y;)if(D[C++]=E[T++],C==this.blockSize){i(this,D),C=0;break}}this.h=C,this.o+=y},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var y=1;y<E.length-8;++y)E[y]=0;var w=8*this.o;for(y=E.length-8;y<E.length;++y)E[y]=w&255,w/=256;for(this.u(E),E=Array(16),y=w=0;4>y;++y)for(var D=0;32>D;D+=8)E[w++]=this.g[y]>>>D&255;return E};function o(E,y){var w=a;return Object.prototype.hasOwnProperty.call(w,E)?w[E]:w[E]=y(E)}function s(E,y){this.h=y;for(var w=[],D=!0,C=E.length-1;0<=C;C--){var T=E[C]|0;D&&T==y||(w[C]=T,D=!1)}this.g=w}var a={};function u(E){return-128<=E&&128>E?o(E,function(y){return new s([y|0],0>y?-1:0)}):new s([E|0],0>E?-1:0)}function l(E){if(isNaN(E)||!isFinite(E))return p;if(0>E)return R(l(-E));for(var y=[],w=1,D=0;E>=w;D++)y[D]=E/w|0,w*=4294967296;return new s(y,0)}function h(E,y){if(E.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(E.charAt(0)=="-")return R(h(E.substring(1),y));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=l(Math.pow(y,8)),D=p,C=0;C<E.length;C+=8){var T=Math.min(8,E.length-C),I=parseInt(E.substring(C,C+T),y);8>T?(T=l(Math.pow(y,T)),D=D.j(T).add(l(I))):(D=D.j(w),D=D.add(l(I)))}return D}var p=u(0),m=u(1),v=u(16777216);n=s.prototype,n.m=function(){if(M(this))return-R(this).m();for(var E=0,y=1,w=0;w<this.g.length;w++){var D=this.i(w);E+=(0<=D?D:4294967296+D)*y,y*=4294967296}return E},n.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(A(this))return"0";if(M(this))return"-"+R(this).toString(E);for(var y=l(Math.pow(E,6)),w=this,D="";;){var C=ne(w,y).g;w=O(w,C.j(y));var T=((0<w.g.length?w.g[0]:w.h)>>>0).toString(E);if(w=C,A(w))return T+D;for(;6>T.length;)T="0"+T;D=T+D}},n.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function A(E){if(E.h!=0)return!1;for(var y=0;y<E.g.length;y++)if(E.g[y]!=0)return!1;return!0}function M(E){return E.h==-1}n.l=function(E){return E=O(this,E),M(E)?-1:A(E)?0:1};function R(E){for(var y=E.g.length,w=[],D=0;D<y;D++)w[D]=~E.g[D];return new s(w,~E.h).add(m)}n.abs=function(){return M(this)?R(this):this},n.add=function(E){for(var y=Math.max(this.g.length,E.g.length),w=[],D=0,C=0;C<=y;C++){var T=D+(this.i(C)&65535)+(E.i(C)&65535),I=(T>>>16)+(this.i(C)>>>16)+(E.i(C)>>>16);D=I>>>16,T&=65535,I&=65535,w[C]=I<<16|T}return new s(w,w[w.length-1]&-2147483648?-1:0)};function O(E,y){return E.add(R(y))}n.j=function(E){if(A(this)||A(E))return p;if(M(this))return M(E)?R(this).j(R(E)):R(R(this).j(E));if(M(E))return R(this.j(R(E)));if(0>this.l(v)&&0>E.l(v))return l(this.m()*E.m());for(var y=this.g.length+E.g.length,w=[],D=0;D<2*y;D++)w[D]=0;for(D=0;D<this.g.length;D++)for(var C=0;C<E.g.length;C++){var T=this.i(D)>>>16,I=this.i(D)&65535,xn=E.i(C)>>>16,js=E.i(C)&65535;w[2*D+2*C]+=I*js,q(w,2*D+2*C),w[2*D+2*C+1]+=T*js,q(w,2*D+2*C+1),w[2*D+2*C+1]+=I*xn,q(w,2*D+2*C+1),w[2*D+2*C+2]+=T*xn,q(w,2*D+2*C+2)}for(D=0;D<y;D++)w[D]=w[2*D+1]<<16|w[2*D];for(D=y;D<2*y;D++)w[D]=0;return new s(w,0)};function q(E,y){for(;(E[y]&65535)!=E[y];)E[y+1]+=E[y]>>>16,E[y]&=65535,y++}function U(E,y){this.g=E,this.h=y}function ne(E,y){if(A(y))throw Error("division by zero");if(A(E))return new U(p,p);if(M(E))return y=ne(R(E),y),new U(R(y.g),R(y.h));if(M(y))return y=ne(E,R(y)),new U(R(y.g),y.h);if(30<E.g.length){if(M(E)||M(y))throw Error("slowDivide_ only works with positive integers.");for(var w=m,D=y;0>=D.l(E);)w=Ie(w),D=Ie(D);var C=K(w,1),T=K(D,1);for(D=K(D,2),w=K(w,2);!A(D);){var I=T.add(D);0>=I.l(E)&&(C=C.add(w),T=I),D=K(D,1),w=K(w,1)}return y=O(E,C.j(y)),new U(C,y)}for(C=p;0<=E.l(y);){for(w=Math.max(1,Math.floor(E.m()/y.m())),D=Math.ceil(Math.log(w)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),T=l(w),I=T.j(y);M(I)||0<I.l(E);)w-=D,T=l(w),I=T.j(y);A(T)&&(T=m),C=C.add(T),E=O(E,I)}return new U(C,E)}n.A=function(E){return ne(this,E).h},n.and=function(E){for(var y=Math.max(this.g.length,E.g.length),w=[],D=0;D<y;D++)w[D]=this.i(D)&E.i(D);return new s(w,this.h&E.h)},n.or=function(E){for(var y=Math.max(this.g.length,E.g.length),w=[],D=0;D<y;D++)w[D]=this.i(D)|E.i(D);return new s(w,this.h|E.h)},n.xor=function(E){for(var y=Math.max(this.g.length,E.g.length),w=[],D=0;D<y;D++)w[D]=this.i(D)^E.i(D);return new s(w,this.h^E.h)};function Ie(E){for(var y=E.g.length+1,w=[],D=0;D<y;D++)w[D]=E.i(D)<<1|E.i(D-1)>>>31;return new s(w,E.h)}function K(E,y){var w=y>>5;y%=32;for(var D=E.g.length-w,C=[],T=0;T<D;T++)C[T]=0<y?E.i(T+w)>>>y|E.i(T+w+1)<<32-y:E.i(T+w);return new s(C,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,av=uA.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,Gr=uA.Integer=s}).apply(typeof cA<"u"?cA:typeof self<"u"?self:typeof window<"u"?window:{});var Gd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},nr={};var cv,Qj,hs,uv,gc,Wd,lv,dv,hv;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Gd=="object"&&Gd];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=t(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var g=0;g<c.length-1;g++){var b=c[g];if(!(b in f))break e;f=f[b]}c=c[c.length-1],g=f[c],d=d(g),d!=g&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,g=!1,b={next:function(){if(!g&&f<c.length){var S=f++;return{value:d(S,c[S]),done:!1}}return g=!0,{done:!0,value:void 0}}};return b[Symbol.iterator]=function(){return b},b}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(b,g),c.apply(d,b)}}return function(){return c.apply(d,arguments)}}function m(c,d,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function v(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function A(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(g,b,S){for(var F=Array(arguments.length-2),be=2;be<arguments.length;be++)F[be-2]=arguments[be];return d.prototype[b].apply(g,F)}}function M(c){let d=c.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=c[g];return f}return[]}function R(c,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let b=c.length||0,S=g.length||0;c.length=b+S;for(let F=0;F<S;F++)c[b+F]=g[F]}else c.push(g)}}class O{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function q(c){return/^[\s\xa0]*$/.test(c)}function U(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function ne(c){return ne[" "](c),c}ne[" "]=function(){};var Ie=U().indexOf("Gecko")!=-1&&!(U().toLowerCase().indexOf("webkit")!=-1&&U().indexOf("Edge")==-1)&&!(U().indexOf("Trident")!=-1||U().indexOf("MSIE")!=-1)&&U().indexOf("Edge")==-1;function K(c,d,f){for(let g in c)d.call(f,c[g],g,c)}function E(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function y(c){let d={};for(let f in c)d[f]=c[f];return d}let w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(c,d){let f,g;for(let b=1;b<arguments.length;b++){g=arguments[b];for(f in g)c[f]=g[f];for(let S=0;S<w.length;S++)f=w[S],Object.prototype.hasOwnProperty.call(g,f)&&(c[f]=g[f])}}function C(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function T(c){a.setTimeout(()=>{throw c},0)}function I(){var c=df;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class xn{constructor(){this.h=this.g=null}add(d,f){let g=js.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var js=new O(()=>new Q1,c=>c.reset());class Q1{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let Bs,$s=!1,df=new xn,M_=()=>{let c=a.Promise.resolve(void 0);Bs=()=>{c.then(Y1)}};var Y1=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(f){T(f)}var d=js;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}$s=!1};function cr(){this.s=this.s,this.C=this.C}cr.prototype.s=!1,cr.prototype.ma=function(){this.s||(this.s=!0,this.N())},cr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function rt(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}rt.prototype.h=function(){this.defaultPrevented=!0};var J1=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function Hs(c,d){if(rt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(Ie){e:{try{ne(d.nodeName);var b=!0;break e}catch{}b=!1}b||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Z1[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Hs.aa.h.call(this)}}A(Hs,rt);var Z1={2:"touch",3:"pen",4:"mouse"};Hs.prototype.h=function(){Hs.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var qs="closure_listenable_"+(1e6*Math.random()|0),X1=0;function eR(c,d,f,g,b){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=b,this.key=++X1,this.da=this.fa=!1}function Kc(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Qc(c){this.src=c,this.g={},this.h=0}Qc.prototype.add=function(c,d,f,g,b){var S=c.toString();c=this.g[S],c||(c=this.g[S]=[],this.h++);var F=ff(c,d,g,b);return-1<F?(d=c[F],f||(d.fa=!1)):(d=new eR(d,this.src,S,!!g,b),d.fa=f,c.push(d)),d};function hf(c,d){var f=d.type;if(f in c.g){var g=c.g[f],b=Array.prototype.indexOf.call(g,d,void 0),S;(S=0<=b)&&Array.prototype.splice.call(g,b,1),S&&(Kc(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function ff(c,d,f,g){for(var b=0;b<c.length;++b){var S=c[b];if(!S.da&&S.listener==d&&S.capture==!!f&&S.ha==g)return b}return-1}var pf="closure_lm_"+(1e6*Math.random()|0),gf={};function N_(c,d,f,g,b){if(g&&g.once)return P_(c,d,f,g,b);if(Array.isArray(d)){for(var S=0;S<d.length;S++)N_(c,d[S],f,g,b);return null}return f=_f(f),c&&c[qs]?c.K(d,f,l(g)?!!g.capture:!!g,b):x_(c,d,f,!1,g,b)}function x_(c,d,f,g,b,S){if(!d)throw Error("Invalid event type");var F=l(b)?!!b.capture:!!b,be=yf(c);if(be||(c[pf]=be=new Qc(c)),f=be.add(d,f,g,F,S),f.proxy)return f;if(g=tR(),f.proxy=g,g.src=c,g.listener=f,c.addEventListener)J1||(b=F),b===void 0&&(b=!1),c.addEventListener(d.toString(),g,b);else if(c.attachEvent)c.attachEvent(O_(d.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function tR(){function c(f){return d.call(c.src,c.listener,f)}let d=nR;return c}function P_(c,d,f,g,b){if(Array.isArray(d)){for(var S=0;S<d.length;S++)P_(c,d[S],f,g,b);return null}return f=_f(f),c&&c[qs]?c.L(d,f,l(g)?!!g.capture:!!g,b):x_(c,d,f,!0,g,b)}function F_(c,d,f,g,b){if(Array.isArray(d))for(var S=0;S<d.length;S++)F_(c,d[S],f,g,b);else g=l(g)?!!g.capture:!!g,f=_f(f),c&&c[qs]?(c=c.i,d=String(d).toString(),d in c.g&&(S=c.g[d],f=ff(S,f,g,b),-1<f&&(Kc(S[f]),Array.prototype.splice.call(S,f,1),S.length==0&&(delete c.g[d],c.h--)))):c&&(c=yf(c))&&(d=c.g[d.toString()],c=-1,d&&(c=ff(d,f,g,b)),(f=-1<c?d[c]:null)&&mf(f))}function mf(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[qs])hf(d.i,c);else{var f=c.type,g=c.proxy;d.removeEventListener?d.removeEventListener(f,g,c.capture):d.detachEvent?d.detachEvent(O_(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=yf(d))?(hf(f,c),f.h==0&&(f.src=null,d[pf]=null)):Kc(c)}}}function O_(c){return c in gf?gf[c]:gf[c]="on"+c}function nR(c,d){if(c.da)c=!0;else{d=new Hs(d,this);var f=c.listener,g=c.ha||c.src;c.fa&&mf(c),c=f.call(g,d)}return c}function yf(c){return c=c[pf],c instanceof Qc?c:null}var vf="__closure_events_fn_"+(1e9*Math.random()>>>0);function _f(c){return typeof c=="function"?c:(c[vf]||(c[vf]=function(d){return c.handleEvent(d)}),c[vf])}function it(){cr.call(this),this.i=new Qc(this),this.M=this,this.F=null}A(it,cr),it.prototype[qs]=!0,it.prototype.removeEventListener=function(c,d,f,g){F_(this,c,d,f,g)};function pt(c,d){var f,g=c.F;if(g)for(f=[];g;g=g.F)f.push(g);if(c=c.M,g=d.type||d,typeof d=="string")d=new rt(d,c);else if(d instanceof rt)d.target=d.target||c;else{var b=d;d=new rt(g,c),D(d,b)}if(b=!0,f)for(var S=f.length-1;0<=S;S--){var F=d.g=f[S];b=Yc(F,g,!0,d)&&b}if(F=d.g=c,b=Yc(F,g,!0,d)&&b,b=Yc(F,g,!1,d)&&b,f)for(S=0;S<f.length;S++)F=d.g=f[S],b=Yc(F,g,!1,d)&&b}it.prototype.N=function(){if(it.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],g=0;g<f.length;g++)Kc(f[g]);delete c.g[d],c.h--}}this.F=null},it.prototype.K=function(c,d,f,g){return this.i.add(String(c),d,!1,f,g)},it.prototype.L=function(c,d,f,g){return this.i.add(String(c),d,!0,f,g)};function Yc(c,d,f,g){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var b=!0,S=0;S<d.length;++S){var F=d[S];if(F&&!F.da&&F.capture==f){var be=F.listener,Ze=F.ha||F.src;F.fa&&hf(c.i,F),b=be.call(Ze,g)!==!1&&b}}return b&&!g.defaultPrevented}function k_(c,d,f){if(typeof c=="function")f&&(c=m(c,f));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function U_(c){c.g=k_(()=>{c.g=null,c.i&&(c.i=!1,U_(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class rR extends cr{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:U_(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function zs(c){cr.call(this),this.h=c,this.g={}}A(zs,cr);var L_=[];function V_(c){K(c.g,function(d,f){this.g.hasOwnProperty(f)&&mf(d)},c),c.g={}}zs.prototype.N=function(){zs.aa.N.call(this),V_(this)},zs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var wf=a.JSON.stringify,iR=a.JSON.parse,oR=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function If(){}If.prototype.h=null;function j_(c){return c.h||(c.h=c.i())}function B_(){}var Gs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ef(){rt.call(this,"d")}A(Ef,rt);function Df(){rt.call(this,"c")}A(Df,rt);var ni={},$_=null;function Jc(){return $_=$_||new it}ni.La="serverreachability";function H_(c){rt.call(this,ni.La,c)}A(H_,rt);function Ws(c){let d=Jc();pt(d,new H_(d))}ni.STAT_EVENT="statevent";function q_(c,d){rt.call(this,ni.STAT_EVENT,c),this.stat=d}A(q_,rt);function gt(c){let d=Jc();pt(d,new q_(d,c))}ni.Ma="timingevent";function z_(c,d){rt.call(this,ni.Ma,c),this.size=d}A(z_,rt);function Ks(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function Qs(){this.g=!0}Qs.prototype.xa=function(){this.g=!1};function sR(c,d,f,g,b,S){c.info(function(){if(c.g)if(S)for(var F="",be=S.split("&"),Ze=0;Ze<be.length;Ze++){var _e=be[Ze].split("=");if(1<_e.length){var ot=_e[0];_e=_e[1];var st=ot.split("_");F=2<=st.length&&st[1]=="type"?F+(ot+"="+_e+"&"):F+(ot+"=redacted&")}}else F=null;else F=S;return"XMLHTTP REQ ("+g+") [attempt "+b+"]: "+d+`
`+f+`
`+F})}function aR(c,d,f,g,b,S,F){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+b+"]: "+d+`
`+f+`
`+S+" "+F})}function ao(c,d,f,g){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+uR(c,f)+(g?" "+g:"")})}function cR(c,d){c.info(function(){return"TIMEOUT: "+d})}Qs.prototype.info=function(){};function uR(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var g=f[c];if(!(2>g.length)){var b=g[1];if(Array.isArray(b)&&!(1>b.length)){var S=b[0];if(S!="noop"&&S!="stop"&&S!="close")for(var F=1;F<b.length;F++)b[F]=""}}}}return wf(f)}catch{return d}}var Zc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},G_={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Cf;function Xc(){}A(Xc,If),Xc.prototype.g=function(){return new XMLHttpRequest},Xc.prototype.i=function(){return{}},Cf=new Xc;function ur(c,d,f,g){this.j=c,this.i=d,this.l=f,this.R=g||1,this.U=new zs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new W_}function W_(){this.i=null,this.g="",this.h=!1}var K_={},bf={};function Tf(c,d,f){c.L=1,c.v=ru(Pn(d)),c.m=f,c.P=!0,Q_(c,null)}function Q_(c,d){c.F=Date.now(),eu(c),c.A=Pn(c.v);var f=c.A,g=c.R;Array.isArray(g)||(g=[String(g)]),uw(f.i,"t",g),c.C=0,f=c.j.J,c.h=new W_,c.g=Aw(c.j,f?d:null,!c.m),0<c.O&&(c.M=new rR(m(c.Y,c,c.g),c.O)),d=c.U,f=c.g,g=c.ca;var b="readystatechange";Array.isArray(b)||(b&&(L_[0]=b.toString()),b=L_);for(var S=0;S<b.length;S++){var F=N_(f,b[S],g||d.handleEvent,!1,d.h||d);if(!F)break;d.g[F.key]=F}d=c.H?y(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),Ws(),sR(c.i,c.u,c.A,c.l,c.R,c.m)}ur.prototype.ca=function(c){c=c.target;let d=this.M;d&&Fn(c)==3?d.j():this.Y(c)},ur.prototype.Y=function(c){try{if(c==this.g)e:{let st=Fn(this.g);var d=this.g.Ba();let lo=this.g.Z();if(!(3>st)&&(st!=3||this.g&&(this.h.h||this.g.oa()||mw(this.g)))){this.J||st!=4||d==7||(d==8||0>=lo?Ws(3):Ws(2)),Af(this);var f=this.g.Z();this.X=f;t:if(Y_(this)){var g=mw(this.g);c="";var b=g.length,S=Fn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ri(this),Ys(this);var F="";break t}this.h.i=new a.TextDecoder}for(d=0;d<b;d++)this.h.h=!0,c+=this.h.i.decode(g[d],{stream:!(S&&d==b-1)});g.length=0,this.h.g+=c,this.C=0,F=this.h.g}else F=this.g.oa();if(this.o=f==200,aR(this.i,this.u,this.A,this.l,this.R,st,f),this.o){if(this.T&&!this.K){t:{if(this.g){var be,Ze=this.g;if((be=Ze.g?Ze.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!q(be)){var _e=be;break t}}_e=null}if(f=_e)ao(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Sf(this,f);else{this.o=!1,this.s=3,gt(12),ri(this),Ys(this);break e}}if(this.P){f=!0;let Qt;for(;!this.J&&this.C<F.length;)if(Qt=lR(this,F),Qt==bf){st==4&&(this.s=4,gt(14),f=!1),ao(this.i,this.l,null,"[Incomplete Response]");break}else if(Qt==K_){this.s=4,gt(15),ao(this.i,this.l,F,"[Invalid Chunk]"),f=!1;break}else ao(this.i,this.l,Qt,null),Sf(this,Qt);if(Y_(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),st!=4||F.length!=0||this.h.h||(this.s=1,gt(16),f=!1),this.o=this.o&&f,!f)ao(this.i,this.l,F,"[Invalid Chunked Response]"),ri(this),Ys(this);else if(0<F.length&&!this.W){this.W=!0;var ot=this.j;ot.g==this&&ot.ba&&!ot.M&&(ot.j.info("Great, no buffering proxy detected. Bytes received: "+F.length),Ff(ot),ot.M=!0,gt(11))}}else ao(this.i,this.l,F,null),Sf(this,F);st==4&&ri(this),this.o&&!this.J&&(st==4?Dw(this.j,this):(this.o=!1,eu(this)))}else AR(this.g),f==400&&0<F.indexOf("Unknown SID")?(this.s=3,gt(12)):(this.s=0,gt(13)),ri(this),Ys(this)}}}catch{}finally{}};function Y_(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function lR(c,d){var f=c.C,g=d.indexOf(`
`,f);return g==-1?bf:(f=Number(d.substring(f,g)),isNaN(f)?K_:(g+=1,g+f>d.length?bf:(d=d.slice(g,g+f),c.C=g+f,d)))}ur.prototype.cancel=function(){this.J=!0,ri(this)};function eu(c){c.S=Date.now()+c.I,J_(c,c.I)}function J_(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Ks(m(c.ba,c),d)}function Af(c){c.B&&(a.clearTimeout(c.B),c.B=null)}ur.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(cR(this.i,this.A),this.L!=2&&(Ws(),gt(17)),ri(this),this.s=2,Ys(this)):J_(this,this.S-c)};function Ys(c){c.j.G==0||c.J||Dw(c.j,c)}function ri(c){Af(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,V_(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function Sf(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||Rf(f.h,c))){if(!c.K&&Rf(f.h,c)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var b=g;if(b[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)cu(f),su(f);else break e;Pf(f),gt(18)}}else f.za=b[1],0<f.za-f.T&&37500>b[2]&&f.F&&f.v==0&&!f.C&&(f.C=Ks(m(f.Za,f),6e3));if(1>=ew(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else oi(f,11)}else if((c.K||f.g==c)&&cu(f),!q(d))for(b=f.Da.g.parse(d),d=0;d<b.length;d++){let _e=b[d];if(f.T=_e[0],_e=_e[1],f.G==2)if(_e[0]=="c"){f.K=_e[1],f.ia=_e[2];let ot=_e[3];ot!=null&&(f.la=ot,f.j.info("VER="+f.la));let st=_e[4];st!=null&&(f.Aa=st,f.j.info("SVER="+f.Aa));let lo=_e[5];lo!=null&&typeof lo=="number"&&0<lo&&(g=1.5*lo,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let Qt=c.g;if(Qt){let lu=Qt.g?Qt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(lu){var S=g.h;S.g||lu.indexOf("spdy")==-1&&lu.indexOf("quic")==-1&&lu.indexOf("h2")==-1||(S.j=S.l,S.g=new Set,S.h&&(Mf(S,S.h),S.h=null))}if(g.D){let Of=Qt.g?Qt.g.getResponseHeader("X-HTTP-Session-Id"):null;Of&&(g.ya=Of,Se(g.I,g.D,Of))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var F=c;if(g.qa=Tw(g,g.J?g.ia:null,g.W),F.K){tw(g.h,F);var be=F,Ze=g.L;Ze&&(be.I=Ze),be.B&&(Af(be),eu(be)),g.g=F}else Iw(g);0<f.i.length&&au(f)}else _e[0]!="stop"&&_e[0]!="close"||oi(f,7);else f.G==3&&(_e[0]=="stop"||_e[0]=="close"?_e[0]=="stop"?oi(f,7):xf(f):_e[0]!="noop"&&f.l&&f.l.ta(_e),f.v=0)}}Ws(4)}catch{}}var dR=class{constructor(c,d){this.g=c,this.map=d}};function Z_(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function X_(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ew(c){return c.h?1:c.g?c.g.size:0}function Rf(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function Mf(c,d){c.g?c.g.add(d):c.h=d}function tw(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}Z_.prototype.cancel=function(){if(this.i=nw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function nw(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return M(c.i)}function hR(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,g=0;g<f;g++)d.push(c[g]);return d}d=[],f=0;for(g in c)d[f++]=c[g];return d}function fR(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let g in c)d[f++]=g;return d}}}function rw(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=fR(c),g=hR(c),b=g.length,S=0;S<b;S++)d.call(void 0,g[S],f&&f[S],c)}var iw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pR(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var g=c[f].indexOf("="),b=null;if(0<=g){var S=c[f].substring(0,g);b=c[f].substring(g+1)}else S=c[f];d(S,b?decodeURIComponent(b.replace(/\+/g," ")):"")}}}function ii(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof ii){this.h=c.h,tu(this,c.j),this.o=c.o,this.g=c.g,nu(this,c.s),this.l=c.l;var d=c.i,f=new Xs;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),ow(this,f),this.m=c.m}else c&&(d=String(c).match(iw))?(this.h=!1,tu(this,d[1]||"",!0),this.o=Js(d[2]||""),this.g=Js(d[3]||"",!0),nu(this,d[4]),this.l=Js(d[5]||"",!0),ow(this,d[6]||"",!0),this.m=Js(d[7]||"")):(this.h=!1,this.i=new Xs(null,this.h))}ii.prototype.toString=function(){var c=[],d=this.j;d&&c.push(Zs(d,sw,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(Zs(d,sw,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(Zs(f,f.charAt(0)=="/"?yR:mR,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",Zs(f,_R)),c.join("")};function Pn(c){return new ii(c)}function tu(c,d,f){c.j=f?Js(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function nu(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function ow(c,d,f){d instanceof Xs?(c.i=d,wR(c.i,c.h)):(f||(d=Zs(d,vR)),c.i=new Xs(d,c.h))}function Se(c,d,f){c.i.set(d,f)}function ru(c){return Se(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Js(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Zs(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,gR),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function gR(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var sw=/[#\/\?@]/g,mR=/[#\?:]/g,yR=/[#\?]/g,vR=/[#\?@]/g,_R=/#/g;function Xs(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function lr(c){c.g||(c.g=new Map,c.h=0,c.i&&pR(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}n=Xs.prototype,n.add=function(c,d){lr(this),this.i=null,c=co(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function aw(c,d){lr(c),d=co(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function cw(c,d){return lr(c),d=co(c,d),c.g.has(d)}n.forEach=function(c,d){lr(this),this.g.forEach(function(f,g){f.forEach(function(b){c.call(d,b,g,this)},this)},this)},n.na=function(){lr(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let b=c[g];for(let S=0;S<b.length;S++)f.push(d[g])}return f},n.V=function(c){lr(this);let d=[];if(typeof c=="string")cw(this,c)&&(d=d.concat(this.g.get(co(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},n.set=function(c,d){return lr(this),this.i=null,c=co(this,c),cw(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},n.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function uw(c,d,f){aw(c,d),0<f.length&&(c.i=null,c.g.set(co(c,d),M(f)),c.h+=f.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let S=encodeURIComponent(String(g)),F=this.V(g);for(g=0;g<F.length;g++){var b=S;F[g]!==""&&(b+="="+encodeURIComponent(String(F[g]))),c.push(b)}}return this.i=c.join("&")};function co(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function wR(c,d){d&&!c.j&&(lr(c),c.i=null,c.g.forEach(function(f,g){var b=g.toLowerCase();g!=b&&(aw(this,g),uw(this,b,f))},c)),c.j=d}function IR(c,d){let f=new Qs;if(a.Image){let g=new Image;g.onload=v(dr,f,"TestLoadImage: loaded",!0,d,g),g.onerror=v(dr,f,"TestLoadImage: error",!1,d,g),g.onabort=v(dr,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=v(dr,f,"TestLoadImage: timeout",!1,d,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else d(!1)}function ER(c,d){let f=new Qs,g=new AbortController,b=setTimeout(()=>{g.abort(),dr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:g.signal}).then(S=>{clearTimeout(b),S.ok?dr(f,"TestPingServer: ok",!0,d):dr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(b),dr(f,"TestPingServer: error",!1,d)})}function dr(c,d,f,g,b){try{b&&(b.onload=null,b.onerror=null,b.onabort=null,b.ontimeout=null),g(f)}catch{}}function DR(){this.g=new oR}function CR(c,d,f){let g=f||"";try{rw(c,function(b,S){let F=b;l(b)&&(F=wf(b)),d.push(g+S+"="+encodeURIComponent(F))})}catch(b){throw d.push(g+"type="+encodeURIComponent("_badmap")),b}}function ea(c){this.l=c.Ub||null,this.j=c.eb||!1}A(ea,If),ea.prototype.g=function(){return new iu(this.l,this.j)},ea.prototype.i=function(c){return function(){return c}}({});function iu(c,d){it.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(iu,it),n=iu.prototype,n.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,na(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ta(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,na(this)),this.g&&(this.readyState=3,na(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;lw(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function lw(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?ta(this):na(this),this.readyState==3&&lw(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,ta(this))},n.Qa=function(c){this.g&&(this.response=c,ta(this))},n.ga=function(){this.g&&ta(this)};function ta(c){c.readyState=4,c.l=null,c.j=null,c.v=null,na(c)}n.setRequestHeader=function(c,d){this.u.append(c,d)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function na(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(iu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function dw(c){let d="";return K(c,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function Nf(c,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=dw(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):Se(c,d,f))}function Fe(c){it.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(Fe,it);var bR=/^https?$/i,TR=["POST","PUT"];n=Fe.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Cf.g(),this.v=this.o?j_(this.o):j_(Cf),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(S){hw(this,S);return}if(c=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var b in g)f.set(b,g[b]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let S of g.keys())f.set(S,g.get(S));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(S=>S.toLowerCase()=="content-type"),b=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(TR,d,void 0))||g||b||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[S,F]of f)this.g.setRequestHeader(S,F);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{gw(this),this.u=!0,this.g.send(c),this.u=!1}catch(S){hw(this,S)}};function hw(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,fw(c),ou(c)}function fw(c){c.A||(c.A=!0,pt(c,"complete"),pt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,pt(this,"complete"),pt(this,"abort"),ou(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ou(this,!0)),Fe.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?pw(this):this.bb())},n.bb=function(){pw(this)};function pw(c){if(c.h&&typeof s<"u"&&(!c.v[1]||Fn(c)!=4||c.Z()!=2)){if(c.u&&Fn(c)==4)k_(c.Ea,0,c);else if(pt(c,"readystatechange"),Fn(c)==4){c.h=!1;try{let F=c.Z();e:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=F===0){var b=String(c.D).match(iw)[1]||null;!b&&a.self&&a.self.location&&(b=a.self.location.protocol.slice(0,-1)),g=!bR.test(b?b.toLowerCase():"")}f=g}if(f)pt(c,"complete"),pt(c,"success");else{c.m=6;try{var S=2<Fn(c)?c.g.statusText:""}catch{S=""}c.l=S+" ["+c.Z()+"]",fw(c)}}finally{ou(c)}}}}function ou(c,d){if(c.g){gw(c);let f=c.g,g=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||pt(c,"ready");try{f.onreadystatechange=g}catch{}}}function gw(c){c.I&&(a.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function Fn(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<Fn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),iR(d)}};function mw(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function AR(c){let d={};c=(c.g&&2<=Fn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if(q(c[g]))continue;var f=C(c[g]);let b=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let S=d[b]||[];d[b]=S,S.push(f)}E(d,function(g){return g.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ra(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function yw(c){this.Aa=0,this.i=[],this.j=new Qs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ra("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ra("baseRetryDelayMs",5e3,c),this.cb=ra("retryDelaySeedMs",1e4,c),this.Wa=ra("forwardChannelMaxRetries",2,c),this.wa=ra("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Z_(c&&c.concurrentRequestLimit),this.Da=new DR,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=yw.prototype,n.la=8,n.G=1,n.connect=function(c,d,f,g){gt(0),this.W=c,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=Tw(this,null,this.W),au(this)};function xf(c){if(vw(c),c.G==3){var d=c.U++,f=Pn(c.I);if(Se(f,"SID",c.K),Se(f,"RID",d),Se(f,"TYPE","terminate"),ia(c,f),d=new ur(c,c.j,d),d.L=2,d.v=ru(Pn(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=Aw(d.j,null),d.g.ea(d.v)),d.F=Date.now(),eu(d)}bw(c)}function su(c){c.g&&(Ff(c),c.g.cancel(),c.g=null)}function vw(c){su(c),c.u&&(a.clearTimeout(c.u),c.u=null),cu(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function au(c){if(!X_(c.h)&&!c.s){c.s=!0;var d=c.Ga;Bs||M_(),$s||(Bs(),$s=!0),df.add(d,c),c.B=0}}function SR(c,d){return ew(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Ks(m(c.Ga,c,d),Cw(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let b=new ur(this,this.j,c),S=this.o;if(this.S&&(S?(S=y(S),D(S,this.S)):S=this.S),this.m!==null||this.O||(b.H=S,S=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=ww(this,b,d),f=Pn(this.I),Se(f,"RID",c),Se(f,"CVER",22),this.D&&Se(f,"X-HTTP-Session-Id",this.D),ia(this,f),S&&(this.O?d="headers="+encodeURIComponent(String(dw(S)))+"&"+d:this.m&&Nf(f,this.m,S)),Mf(this.h,b),this.Ua&&Se(f,"TYPE","init"),this.P?(Se(f,"$req",d),Se(f,"SID","null"),b.T=!0,Tf(b,f,null)):Tf(b,f,d),this.G=2}}else this.G==3&&(c?_w(this,c):this.i.length==0||X_(this.h)||_w(this))};function _w(c,d){var f;d?f=d.l:f=c.U++;let g=Pn(c.I);Se(g,"SID",c.K),Se(g,"RID",f),Se(g,"AID",c.T),ia(c,g),c.m&&c.o&&Nf(g,c.m,c.o),f=new ur(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=ww(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Mf(c.h,f),Tf(f,g,d)}function ia(c,d){c.H&&K(c.H,function(f,g){Se(d,g,f)}),c.l&&rw({},function(f,g){Se(d,g,f)})}function ww(c,d,f){f=Math.min(c.i.length,f);var g=c.l?m(c.l.Na,c.l,c):null;e:{var b=c.i;let S=-1;for(;;){let F=["count="+f];S==-1?0<f?(S=b[0].g,F.push("ofs="+S)):S=0:F.push("ofs="+S);let be=!0;for(let Ze=0;Ze<f;Ze++){let _e=b[Ze].g,ot=b[Ze].map;if(_e-=S,0>_e)S=Math.max(0,b[Ze].g-100),be=!1;else try{CR(ot,F,"req"+_e+"_")}catch{g&&g(ot)}}if(be){g=F.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,g}function Iw(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;Bs||M_(),$s||(Bs(),$s=!0),df.add(d,c),c.v=0}}function Pf(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Ks(m(c.Fa,c),Cw(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,Ew(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Ks(m(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,gt(10),su(this),Ew(this))};function Ff(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function Ew(c){c.g=new ur(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=Pn(c.qa);Se(d,"RID","rpc"),Se(d,"SID",c.K),Se(d,"AID",c.T),Se(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Se(d,"TO",c.ja),Se(d,"TYPE","xmlhttp"),ia(c,d),c.m&&c.o&&Nf(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=ru(Pn(d)),f.m=null,f.P=!0,Q_(f,c)}n.Za=function(){this.C!=null&&(this.C=null,su(this),Pf(this),gt(19))};function cu(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function Dw(c,d){var f=null;if(c.g==d){cu(c),Ff(c),c.g=null;var g=2}else if(Rf(c.h,d))f=d.D,tw(c.h,d),g=1;else return;if(c.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var b=c.B;g=Jc(),pt(g,new z_(g,f)),au(c)}else Iw(c);else if(b=d.s,b==3||b==0&&0<d.X||!(g==1&&SR(c,d)||g==2&&Pf(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),b){case 1:oi(c,5);break;case 4:oi(c,10);break;case 3:oi(c,6);break;default:oi(c,2)}}}function Cw(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function oi(c,d){if(c.j.info("Error code "+d),d==2){var f=m(c.fb,c),g=c.Xa;let b=!g;g=new ii(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||tu(g,"https"),ru(g),b?IR(g.toString(),f):ER(g.toString(),f)}else gt(2);c.G=0,c.l&&c.l.sa(d),bw(c),vw(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),gt(2)):(this.j.info("Failed to ping google.com"),gt(1))};function bw(c){if(c.G=0,c.ka=[],c.l){let d=nw(c.h);(d.length!=0||c.i.length!=0)&&(R(c.ka,d),R(c.ka,c.i),c.h.i.length=0,M(c.i),c.i.length=0),c.l.ra()}}function Tw(c,d,f){var g=f instanceof ii?Pn(f):new ii(f);if(g.g!="")d&&(g.g=d+"."+g.g),nu(g,g.s);else{var b=a.location;g=b.protocol,d=d?d+"."+b.hostname:b.hostname,b=+b.port;var S=new ii(null);g&&tu(S,g),d&&(S.g=d),b&&nu(S,b),f&&(S.l=f),g=S}return f=c.D,d=c.ya,f&&d&&Se(g,f,d),Se(g,"VER",c.la),ia(c,g),g}function Aw(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Fe(new ea({eb:f})):new Fe(c.pa),d.Ha(c.J),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Sw(){}n=Sw.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function uu(){}uu.prototype.g=function(c,d){return new Mt(c,d)};function Mt(c,d){it.call(this),this.g=new yw(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!q(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!q(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new uo(this)}A(Mt,it),Mt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Mt.prototype.close=function(){xf(this.g)},Mt.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=wf(c),c=f);d.i.push(new dR(d.Ya++,c)),d.G==3&&au(d)},Mt.prototype.N=function(){this.g.l=null,delete this.j,xf(this.g),delete this.g,Mt.aa.N.call(this)};function Rw(c){Ef.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}A(Rw,Ef);function Mw(){Df.call(this),this.status=1}A(Mw,Df);function uo(c){this.g=c}A(uo,Sw),uo.prototype.ua=function(){pt(this.g,"a")},uo.prototype.ta=function(c){pt(this.g,new Rw(c))},uo.prototype.sa=function(c){pt(this.g,new Mw)},uo.prototype.ra=function(){pt(this.g,"b")},uu.prototype.createWebChannel=uu.prototype.g,Mt.prototype.send=Mt.prototype.o,Mt.prototype.open=Mt.prototype.m,Mt.prototype.close=Mt.prototype.close,hv=nr.createWebChannelTransport=function(){return new uu},dv=nr.getStatEventTarget=function(){return Jc()},lv=nr.Event=ni,Wd=nr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Zc.NO_ERROR=0,Zc.TIMEOUT=8,Zc.HTTP_ERROR=6,gc=nr.ErrorCode=Zc,G_.COMPLETE="complete",uv=nr.EventType=G_,B_.EventType=Gs,Gs.OPEN="a",Gs.CLOSE="b",Gs.ERROR="c",Gs.MESSAGE="d",it.prototype.listen=it.prototype.K,hs=nr.WebChannel=B_,Qj=nr.FetchXmlHttpFactory=ea,Fe.prototype.listenOnce=Fe.prototype.L,Fe.prototype.getLastError=Fe.prototype.Ka,Fe.prototype.getLastErrorCode=Fe.prototype.Ba,Fe.prototype.getStatus=Fe.prototype.Z,Fe.prototype.getResponseJson=Fe.prototype.Oa,Fe.prototype.getResponseText=Fe.prototype.oa,Fe.prototype.send=Fe.prototype.ea,Fe.prototype.setWithCredentials=Fe.prototype.Ha,cv=nr.XhrIo=Fe}).apply(typeof Gd<"u"?Gd:typeof self<"u"?self:typeof window<"u"?window:{});var lA="@firebase/firestore";var Je=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Je.UNAUTHENTICATED=new Je(null),Je.GOOGLE_CREDENTIALS=new Je("google-credentials-uid"),Je.FIRST_PARTY=new Je("first-party-uid"),Je.MOCK_USER=new Je("mock-user");var Ns="10.14.0";var Yi=new Lr("@firebase/firestore");function mc(){return Yi.logLevel}function V(n,...e){if(Yi.logLevel<=fe.DEBUG){let t=e.map(K0);Yi.debug(`Firestore (${Ns}): ${n}`,...t)}}function rr(n,...e){if(Yi.logLevel<=fe.ERROR){let t=e.map(K0);Yi.error(`Firestore (${Ns}): ${n}`,...t)}}function _s(n,...e){if(Yi.logLevel<=fe.WARN){let t=e.map(K0);Yi.warn(`Firestore (${Ns}): ${n}`,...t)}}function K0(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function J(n="Unexpected state"){let e=`FIRESTORE (${Ns}) INTERNAL ASSERTION FAILED: `+n;throw rr(e),new Error(e)}function Ce(n,e){n||J()}function te(n,e){return n}var N={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},L=class extends Lt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var on=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var Zd=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},yv=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Je.UNAUTHENTICATED))}shutdown(){}},vv=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},_v=class{constructor(e){this.t=e,this.currentUser=Je.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ce(this.o===void 0);let r=this.i,i=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve(),o=new on;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new on,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>_(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{V("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(V("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new on)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(V("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ce(typeof r.accessToken=="string"),new Zd(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Ce(e===null||typeof e=="string"),new Je(e)}},wv=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Je.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Iv=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new wv(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Je.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Ev=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Dv=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Ce(this.o===void 0);let r=o=>{o.error!=null&&V("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,V("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{V("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):V("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ce(typeof t.token=="string"),this.R=t.token,new Ev(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function Yj(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}var Xd=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=Yj(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%e.length))}return r}};function we(n,e){return n<e?-1:n>e?1:0}function ws(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var nt=class n{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new L(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new L(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new L(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new L(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new n(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?we(this.nanoseconds,e.nanoseconds):we(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var oe=class n{constructor(e){this.timestamp=e}static fromTimestamp(e){return new n(e)}static min(){return new n(new nt(0,0))}static max(){return new n(new nt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var eh=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&J(),r===void 0?r=e.length-t:r>e.length-t&&J(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=e.get(i),s=t.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}},Pe=class n extends eh{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new L(N.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},Jj=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Vt=class n extends eh{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return Jj.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new n(["__name__"])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new L(N.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new L(N.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new L(N.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new L(N.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var G=class n{constructor(e){this.path=e}static fromPath(e){return new n(Pe.fromString(e))}static fromName(e){return new n(Pe.fromString(e).popFirst(5))}static empty(){return new n(Pe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Pe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Pe.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Pe(e.slice()))}};var Cv=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};Cv.UNKNOWN_ID=-1;function Zj(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=oe.fromTimestamp(r===1e9?new nt(t+1,0):new nt(t,r));return new Ji(i,G.empty(),e)}function Xj(n){return new Ji(n.readTime,n.key,-1)}var Ji=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(oe.min(),G.empty(),-1)}static max(){return new n(oe.max(),G.empty(),-1)}};function eB(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=G.comparator(n.documentKey,e.documentKey),t!==0?t:we(n.largestBatchId,e.largestBatchId))}var tB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",bv=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Uc(n){return _(this,null,function*(){if(n.code!==N.FAILED_PRECONDITION||n.message!==tB)throw n;V("LocalStore","Unexpectedly lost primary lease")})}var x=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&J(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},u=>r(u))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;t(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function nB(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Lc(n){return n.name==="IndexedDbTransactionError"}var zA=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function Rh(n){return n==null}function Ec(n){return n===0&&1/n==-1/0}function rB(n){return typeof n=="number"&&Number.isInteger(n)&&!Ec(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var iB=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],NW=[...iB,"documentOverlays"],oB=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],sB=oB,aB=[...sB,"indexConfiguration","indexState","indexEntries"];var xW=[...aB,"globals"];function dA(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function xs(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function GA(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var ke=class n{constructor(e,t){this.comparator=e,this.root=t||An.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,An.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,An.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ms(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ms(this.root,e,this.comparator,!1)}getReverseIterator(){return new ms(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ms(this.root,e,this.comparator,!0)}},ms=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},An=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw J();let e=this.left.check();if(e!==this.right.check())throw J();return e+(this.isRed()?0:1)}};An.EMPTY=null,An.RED=!0,An.BLACK=!1;An.EMPTY=new class{constructor(){this.size=0}get key(){throw J()}get value(){throw J()}get color(){throw J()}get left(){throw J()}get right(){throw J()}copy(e,t,r,i,o){return this}insert(e,t,r){return new An(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var ht=class n{constructor(e){this.comparator=e,this.data=new ke(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new th(this.data.getIterator())}getIteratorFrom(e){return new th(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},th=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Tn=class n{constructor(e){this.fields=e,e.sort(Vt.comparator)}static empty(){return new n([])}unionWith(e){let t=new ht(Vt.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ws(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var nh=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var ft=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new nh("Invalid base64 string: "+o):o}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return we(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};ft.EMPTY_BYTE_STRING=new ft("");var cB=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ir(n){if(Ce(!!n),typeof n=="string"){let e=0,t=cB.exec(n);if(Ce(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Me(n.seconds),nanos:Me(n.nanos)}}function Me(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Kr(n){return typeof n=="string"?ft.fromBase64String(n):ft.fromUint8Array(n)}function Q0(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function Y0(n){let e=n.mapValue.fields.__previous_value__;return Q0(e)?Y0(e):e}function Dc(n){let e=ir(n.mapValue.fields.__local_write_time__.timestampValue);return new nt(e.seconds,e.nanos)}var Tv=class{constructor(e,t,r,i,o,s,a,u,l){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}},rh=class n{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new n("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var Kd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Zi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Q0(n)?4:KA(n)?9007199254740991:WA(n)?10:11:J()}function Nn(n,e){if(n===e)return!0;let t=Zi(n);if(t!==Zi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Dc(n).isEqual(Dc(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=ir(i.timestampValue),a=ir(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return Kr(i.bytesValue).isEqual(Kr(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return Me(i.geoPointValue.latitude)===Me(o.geoPointValue.latitude)&&Me(i.geoPointValue.longitude)===Me(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Me(i.integerValue)===Me(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Me(i.doubleValue),a=Me(o.doubleValue);return s===a?Ec(s)===Ec(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return ws(n.arrayValue.values||[],e.arrayValue.values||[],Nn);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(dA(s)!==dA(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!Nn(s[u],a[u])))return!1;return!0}(n,e);default:return J()}}function Cc(n,e){return(n.values||[]).find(t=>Nn(t,e))!==void 0}function Is(n,e){if(n===e)return 0;let t=Zi(n),r=Zi(e);if(t!==r)return we(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return we(n.booleanValue,e.booleanValue);case 2:return function(o,s){let a=Me(o.integerValue||o.doubleValue),u=Me(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(n,e);case 3:return hA(n.timestampValue,e.timestampValue);case 4:return hA(Dc(n),Dc(e));case 5:return we(n.stringValue,e.stringValue);case 6:return function(o,s){let a=Kr(o),u=Kr(s);return a.compareTo(u)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=we(a[l],u[l]);if(h!==0)return h}return we(a.length,u.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){let a=we(Me(o.latitude),Me(s.latitude));return a!==0?a:we(Me(o.longitude),Me(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return fA(n.arrayValue,e.arrayValue);case 10:return function(o,s){var a,u,l,h;let p=o.fields||{},m=s.fields||{},v=(a=p.value)===null||a===void 0?void 0:a.arrayValue,A=(u=m.value)===null||u===void 0?void 0:u.arrayValue,M=we(((l=v?.values)===null||l===void 0?void 0:l.length)||0,((h=A?.values)===null||h===void 0?void 0:h.length)||0);return M!==0?M:fA(v,A)}(n.mapValue,e.mapValue);case 11:return function(o,s){if(o===Kd.mapValue&&s===Kd.mapValue)return 0;if(o===Kd.mapValue)return 1;if(s===Kd.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let m=we(u[p],h[p]);if(m!==0)return m;let v=Is(a[u[p]],l[h[p]]);if(v!==0)return v}return we(u.length,h.length)}(n.mapValue,e.mapValue);default:throw J()}}function hA(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return we(n,e);let t=ir(n),r=ir(e),i=we(t.seconds,r.seconds);return i!==0?i:we(t.nanos,r.nanos)}function fA(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=Is(t[i],r[i]);if(o)return o}return we(t.length,r.length)}function Es(n){return Av(n)}function Av(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=ir(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Kr(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return G.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=Av(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${Av(t.fields[s])}`;return i+"}"}(n.mapValue):J()}function pA(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Sv(n){return!!n&&"integerValue"in n}function J0(n){return!!n&&"arrayValue"in n}function gA(n){return!!n&&"nullValue"in n}function mA(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Yd(n){return!!n&&"mapValue"in n}function WA(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function vc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return xs(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=vc(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=vc(n.arrayValue.values[t]);return e}return Object.assign({},n)}function KA(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var rn=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Yd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=vc(t)}setAll(e){let t=Vt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=vc(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());Yd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Nn(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Yd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){xs(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(vc(this.value))}};function QA(n){let e=[];return xs(n.fields,(t,r)=>{let i=new Vt([t]);if(Yd(r)){let o=QA(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new Tn(e)}var sn=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,oe.min(),oe.min(),oe.min(),rn.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,oe.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,oe.min(),oe.min(),rn.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,oe.min(),oe.min(),rn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Ds=class{constructor(e,t){this.position=e,this.inclusive=t}};function yA(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=G.comparator(G.fromName(s.referenceValue),t.key):r=Is(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function vA(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Nn(n.position[t],e.position[t]))return!1;return!0}var Cs=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function uB(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var ih=class{},$e=class n extends ih{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new Mv(e,t,r):t==="array-contains"?new Pv(e,r):t==="in"?new Fv(e,r):t==="not-in"?new Ov(e,r):t==="array-contains-any"?new kv(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new Nv(e,r):new xv(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Is(t,this.value)):t!==null&&Zi(this.value)===Zi(t)&&this.matchesComparison(Is(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return J()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},an=class n extends ih{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new n(e,t)}matches(e){return YA(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function YA(n){return n.op==="and"}function JA(n){return lB(n)&&YA(n)}function lB(n){for(let e of n.filters)if(e instanceof an)return!1;return!0}function Rv(n){if(n instanceof $e)return n.field.canonicalString()+n.op.toString()+Es(n.value);if(JA(n))return n.filters.map(e=>Rv(e)).join(",");{let e=n.filters.map(t=>Rv(t)).join(",");return`${n.op}(${e})`}}function ZA(n,e){return n instanceof $e?function(r,i){return i instanceof $e&&r.op===i.op&&r.field.isEqual(i.field)&&Nn(r.value,i.value)}(n,e):n instanceof an?function(r,i){return i instanceof an&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&ZA(s,i.filters[a]),!0):!1}(n,e):void J()}function XA(n){return n instanceof $e?function(t){return`${t.field.canonicalString()} ${t.op} ${Es(t.value)}`}(n):n instanceof an?function(t){return t.op.toString()+" {"+t.getFilters().map(XA).join(" ,")+"}"}(n):"Filter"}var Mv=class extends $e{constructor(e,t,r){super(e,t,r),this.key=G.fromName(r.referenceValue)}matches(e){let t=G.comparator(e.key,this.key);return this.matchesComparison(t)}},Nv=class extends $e{constructor(e,t){super(e,"in",t),this.keys=eS("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},xv=class extends $e{constructor(e,t){super(e,"not-in",t),this.keys=eS("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function eS(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>G.fromName(r.referenceValue))}var Pv=class extends $e{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return J0(t)&&Cc(t.arrayValue,this.value)}},Fv=class extends $e{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&Cc(this.value.arrayValue,t)}},Ov=class extends $e{constructor(e,t){super(e,"not-in",t)}matches(e){if(Cc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&!Cc(this.value.arrayValue,t)}},kv=class extends $e{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!J0(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Cc(this.value.arrayValue,r))}};var Uv=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}};function _A(n,e=null,t=[],r=[],i=null,o=null,s=null){return new Uv(n,e,t,r,i,o,s)}function Z0(n){let e=te(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Rv(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Rh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Es(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Es(r)).join(",")),e.ue=t}return e.ue}function X0(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!uB(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!ZA(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!vA(n.startAt,e.startAt)&&vA(n.endAt,e.endAt)}function Lv(n){return G.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Xi=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function dB(n,e,t,r,i,o,s,a){return new Xi(n,e,t,r,i,o,s,a)}function Mh(n){return new Xi(n)}function wA(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function tS(n){return n.collectionGroup!==null}function _c(n){let e=te(n);if(e.ce===null){e.ce=[];let t=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new ht(Vt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Cs(o,r))}),t.has(Vt.keyField().canonicalString())||e.ce.push(new Cs(Vt.keyField(),r))}return e.ce}function Sn(n){let e=te(n);return e.le||(e.le=hB(e,_c(n))),e.le}function hB(n,e){if(n.limitType==="F")return _A(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Cs(i.field,o)});let t=n.endAt?new Ds(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Ds(n.startAt.position,n.startAt.inclusive):null;return _A(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Vv(n,e){let t=n.filters.concat([e]);return new Xi(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function jv(n,e,t){return new Xi(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Nh(n,e){return X0(Sn(n),Sn(e))&&n.limitType===e.limitType}function nS(n){return`${Z0(Sn(n))}|lt:${n.limitType}`}function fs(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>XA(i)).join(", ")}]`),Rh(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Es(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Es(i)).join(",")),`Target(${r})`}(Sn(n))}; limitType=${n.limitType})`}function xh(n,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):G.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(let o of _c(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(s,a,u){let l=yA(s,a,u);return s.inclusive?l<=0:l<0}(r.startAt,_c(r),i)||r.endAt&&!function(s,a,u){let l=yA(s,a,u);return s.inclusive?l>=0:l>0}(r.endAt,_c(r),i))}(n,e)}function fB(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function rS(n){return(e,t)=>{let r=!1;for(let i of _c(n)){let o=pB(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function pB(n,e,t){let r=n.field.isKeyField()?G.comparator(e.key,t.key):function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?Is(u,l):J()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return J()}}var Qr=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){xs(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return GA(this.inner)}size(){return this.innerSize}};var gB=new ke(G.comparator);function or(){return gB}var iS=new ke(G.comparator);function yc(...n){let e=iS;for(let t of n)e=e.insert(t.key,t);return e}function oS(n){let e=iS;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Gi(){return wc()}function sS(){return wc()}function wc(){return new Qr(n=>n.toString(),(n,e)=>n.isEqual(e))}var mB=new ke(G.comparator),yB=new ht(G.comparator);function pe(...n){let e=yB;for(let t of n)e=e.add(t);return e}var vB=new ht(we);function _B(){return vB}function e_(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ec(e)?"-0":e}}function aS(n){return{integerValue:""+n}}function wB(n,e){return rB(e)?aS(e):e_(n,e)}var bs=class{constructor(){this._=void 0}};function IB(n,e,t){return n instanceof Ts?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Q0(o)&&(o=Y0(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(t,e):n instanceof eo?uS(n,e):n instanceof to?lS(n,e):function(i,o){let s=cS(i,o),a=IA(s)+IA(i.Pe);return Sv(s)&&Sv(i.Pe)?aS(a):e_(i.serializer,a)}(n,e)}function EB(n,e,t){return n instanceof eo?uS(n,e):n instanceof to?lS(n,e):t}function cS(n,e){return n instanceof As?function(r){return Sv(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var Ts=class extends bs{},eo=class extends bs{constructor(e){super(),this.elements=e}};function uS(n,e){let t=dS(e);for(let r of n.elements)t.some(i=>Nn(i,r))||t.push(r);return{arrayValue:{values:t}}}var to=class extends bs{constructor(e){super(),this.elements=e}};function lS(n,e){let t=dS(e);for(let r of n.elements)t=t.filter(i=>!Nn(i,r));return{arrayValue:{values:t}}}var As=class extends bs{constructor(e,t){super(),this.serializer=e,this.Pe=t}};function IA(n){return Me(n.integerValue||n.doubleValue)}function dS(n){return J0(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function DB(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof eo&&i instanceof eo||r instanceof to&&i instanceof to?ws(r.elements,i.elements,Nn):r instanceof As&&i instanceof As?Nn(r.Pe,i.Pe):r instanceof Ts&&i instanceof Ts}(n.transform,e.transform)}var Bv=class{constructor(e,t){this.version=e,this.transformResults=t}},Qi=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Jd(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var Ss=class{};function hS(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new oh(n.key,Qi.none()):new no(n.key,n.data,Qi.none());{let t=n.data,r=rn.empty(),i=new ht(Vt.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new sr(n.key,r,new Tn(i.toArray()),Qi.none())}}function CB(n,e,t){n instanceof no?function(i,o,s){let a=i.value.clone(),u=DA(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof sr?function(i,o,s){if(!Jd(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=DA(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(fS(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(n,e,t):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function Ic(n,e,t,r){return n instanceof no?function(o,s,a,u){if(!Jd(o.precondition,s))return a;let l=o.value.clone(),h=CA(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(n,e,t,r):n instanceof sr?function(o,s,a,u){if(!Jd(o.precondition,s))return a;let l=CA(o.fieldTransforms,u,s),h=s.data;return h.setAll(fS(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(n,e,t,r):function(o,s,a){return Jd(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(n,e,t)}function bB(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=cS(r.transform,i||null);o!=null&&(t===null&&(t=rn.empty()),t.set(r.field,o))}return t||null}function EA(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ws(r,i,(o,s)=>DB(o,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var no=class extends Ss{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},sr=class extends Ss{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function fS(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function DA(n,e,t){let r=new Map;Ce(n.length===t.length);for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,EB(s,a,t[i]))}return r}function CA(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,IB(o,s,e))}return r}var oh=class extends Ss{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},$v=class extends Ss{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Hv=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&CB(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=Ic(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=Ic(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=sS();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let u=hS(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(oe.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),pe())}isEqual(e){return this.batchId===e.batchId&&ws(this.mutations,e.mutations,(t,r)=>EA(t,r))&&ws(this.baseMutations,e.baseMutations,(t,r)=>EA(t,r))}},qv=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Ce(e.mutations.length===r.length);let i=function(){return mB}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var zv=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Gv=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var je,ve;function TB(n){switch(n){default:return J();case N.CANCELLED:case N.UNKNOWN:case N.DEADLINE_EXCEEDED:case N.RESOURCE_EXHAUSTED:case N.INTERNAL:case N.UNAVAILABLE:case N.UNAUTHENTICATED:return!1;case N.INVALID_ARGUMENT:case N.NOT_FOUND:case N.ALREADY_EXISTS:case N.PERMISSION_DENIED:case N.FAILED_PRECONDITION:case N.ABORTED:case N.OUT_OF_RANGE:case N.UNIMPLEMENTED:case N.DATA_LOSS:return!0}}function pS(n){if(n===void 0)return rr("GRPC error has no .code"),N.UNKNOWN;switch(n){case je.OK:return N.OK;case je.CANCELLED:return N.CANCELLED;case je.UNKNOWN:return N.UNKNOWN;case je.DEADLINE_EXCEEDED:return N.DEADLINE_EXCEEDED;case je.RESOURCE_EXHAUSTED:return N.RESOURCE_EXHAUSTED;case je.INTERNAL:return N.INTERNAL;case je.UNAVAILABLE:return N.UNAVAILABLE;case je.UNAUTHENTICATED:return N.UNAUTHENTICATED;case je.INVALID_ARGUMENT:return N.INVALID_ARGUMENT;case je.NOT_FOUND:return N.NOT_FOUND;case je.ALREADY_EXISTS:return N.ALREADY_EXISTS;case je.PERMISSION_DENIED:return N.PERMISSION_DENIED;case je.FAILED_PRECONDITION:return N.FAILED_PRECONDITION;case je.ABORTED:return N.ABORTED;case je.OUT_OF_RANGE:return N.OUT_OF_RANGE;case je.UNIMPLEMENTED:return N.UNIMPLEMENTED;case je.DATA_LOSS:return N.DATA_LOSS;default:return J()}}(ve=je||(je={}))[ve.OK=0]="OK",ve[ve.CANCELLED=1]="CANCELLED",ve[ve.UNKNOWN=2]="UNKNOWN",ve[ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ve[ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ve[ve.NOT_FOUND=5]="NOT_FOUND",ve[ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",ve[ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",ve[ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",ve[ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ve[ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ve[ve.ABORTED=10]="ABORTED",ve[ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",ve[ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",ve[ve.INTERNAL=13]="INTERNAL",ve[ve.UNAVAILABLE=14]="UNAVAILABLE",ve[ve.DATA_LOSS=15]="DATA_LOSS";var bA=null;function AB(){return new TextEncoder}var SB=new Gr([4294967295,4294967295],0);function TA(n){let e=AB().encode(n),t=new av;return t.update(e),new Uint8Array(t.digest())}function AA(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Gr([t,r],0),new Gr([i,o],0)]}var Wv=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Wi(`Invalid padding: ${t}`);if(r<0)throw new Wi(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Wi(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Wi(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=Gr.fromNumber(this.Ie)}Ee(e,t,r){let i=e.add(t.multiply(Gr.fromNumber(r)));return i.compare(SB)===1&&(i=new Gr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let t=TA(e),[r,i]=AA(t);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;let t=TA(e),[r,i]=AA(t);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},Wi=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var sh=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,bc.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(oe.min(),i,new ke(we),or(),pe())}},bc=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,pe(),pe(),pe())}};var ys=class{constructor(e,t,r,i){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=i}},ah=class{constructor(e,t){this.targetId=e,this.me=t}},ch=class{constructor(e,t,r=ft.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},uh=class{constructor(){this.fe=0,this.ge=RA(),this.pe=ft.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=pe(),t=pe(),r=pe();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:J()}}),new bc(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=RA()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ce(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},Kv=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=or(),this.qe=SA(),this.Qe=new ke(we)}Ke(e){for(let t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(let t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{let r=this.Ge(t);switch(e.state){case 0:this.ze(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),r.De(e.resumeToken));break;default:J()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,i)=>{this.ze(i)&&t(i)})}He(e){let t=e.targetId,r=e.me.count,i=this.Je(t);if(i){let o=i.target;if(Lv(o))if(r===0){let s=new G(o.path);this.Ue(t,s,sn.newNoDocument(s,oe.min()))}else Ce(r===1);else{let s=this.Ye(t);if(s!==r){let a=this.Ze(e),u=a?this.Xe(a,e,s):1;if(u!==0){this.je(t);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,l)}bA?.et(function(h,p,m,v,A){var M,R,O,q,U,ne;let Ie={localCacheCount:h,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},K=p.unchangedNames;return K&&(Ie.bloomFilter={applied:A===0,hashCount:(M=K?.hashCount)!==null&&M!==void 0?M:0,bitmapLength:(q=(O=(R=K?.bits)===null||R===void 0?void 0:R.bitmap)===null||O===void 0?void 0:O.length)!==null&&q!==void 0?q:0,padding:(ne=(U=K?.bits)===null||U===void 0?void 0:U.padding)!==null&&ne!==void 0?ne:0,mightContain:E=>{var y;return(y=v?.mightContain(E))!==null&&y!==void 0&&y}}),Ie}(s,e.me,this.Le.tt(),a,u))}}}}Ze(e){let t=e.me.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=Kr(r).toUint8Array()}catch(u){if(u instanceof nh)return _s("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new Wv(s,i,o)}catch(u){return _s(u instanceof Wi?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,t,r){return t.me.count===r-this.nt(e,t.targetId)?0:2}nt(e,t){let r=this.Le.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(t,o,null),i++)}),i}rt(e){let t=new Map;this.Be.forEach((o,s)=>{let a=this.Je(s);if(a){if(o.current&&Lv(a.target)){let u=new G(a.target.path);this.ke.get(u)!==null||this.it(s,u)||this.Ue(s,u,sn.newNoDocument(u,e))}o.be&&(t.set(s,o.ve()),o.Ce())}});let r=pe();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));let i=new sh(e,t,this.Qe,this.ke,r);return this.ke=or(),this.qe=SA(),this.Qe=new ke(we),i}$e(e,t){if(!this.ze(e))return;let r=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,t)?i.Fe(t,1):i.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new uh,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new ht(we),this.qe=this.qe.insert(e,t)),t}ze(e){let t=this.Je(e)!==null;return t||V("WatchChangeAggregator","Detected inactive target",e),t}Je(e){let t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new uh),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}};function SA(){return new ke(G.comparator)}function RA(){return new ke(G.comparator)}var RB={asc:"ASCENDING",desc:"DESCENDING"},MB={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},NB={and:"AND",or:"OR"},Qv=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function Yv(n,e){return n.useProto3Json||Rh(e)?e:{value:e}}function lh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function gS(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function xB(n,e){return lh(n,e.toTimestamp())}function Rn(n){return Ce(!!n),oe.fromTimestamp(function(t){let r=ir(t);return new nt(r.seconds,r.nanos)}(n))}function t_(n,e){return Jv(n,e).canonicalString()}function Jv(n,e){let t=function(i){return new Pe(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function mS(n){let e=Pe.fromString(n);return Ce(IS(e)),e}function Zv(n,e){return t_(n.databaseId,e.path)}function fv(n,e){let t=mS(e);if(t.get(1)!==n.databaseId.projectId)throw new L(N.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new L(N.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new G(vS(t))}function yS(n,e){return t_(n.databaseId,e)}function PB(n){let e=mS(n);return e.length===4?Pe.emptyPath():vS(e)}function Xv(n){return new Pe(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function vS(n){return Ce(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function MA(n,e,t){return{name:Zv(n,e),fields:t.value.mapValue.fields}}function FB(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:J()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(Ce(h===void 0||typeof h=="string"),ft.fromBase64String(h||"")):(Ce(h===void 0||h instanceof Buffer||h instanceof Uint8Array),ft.fromUint8Array(h||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let h=l.code===void 0?N.UNKNOWN:pS(l.code);return new L(h,l.message||"")}(s);t=new ch(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=fv(n,r.document.name),o=Rn(r.document.updateTime),s=r.document.createTime?Rn(r.document.createTime):oe.min(),a=new rn({mapValue:{fields:r.document.fields}}),u=sn.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];t=new ys(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=fv(n,r.document),o=r.readTime?Rn(r.readTime):oe.min(),s=sn.newNoDocument(i,o),a=r.removedTargetIds||[];t=new ys([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=fv(n,r.document),o=r.removedTargetIds||[];t=new ys([],o,i,null)}else{if(!("filter"in e))return J();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new Gv(i,o),a=r.targetId;t=new ah(a,s)}}return t}function OB(n,e){let t;if(e instanceof no)t={update:MA(n,e.key,e.value)};else if(e instanceof oh)t={delete:Zv(n,e.key)};else if(e instanceof sr)t={update:MA(n,e.key,e.data),updateMask:qB(e.fieldMask)};else{if(!(e instanceof $v))return J();t={verify:Zv(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof Ts)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof eo)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof to)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof As)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw J()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:xB(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:J()}(n,e.precondition)),t}function kB(n,e){return n&&n.length>0?(Ce(e!==void 0),n.map(t=>function(i,o){let s=i.updateTime?Rn(i.updateTime):Rn(o);return s.isEqual(oe.min())&&(s=Rn(o)),new Bv(s,i.transformResults||[])}(t,e))):[]}function UB(n,e){return{documents:[yS(n,e.path)]}}function LB(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=yS(n,i);let o=function(l){if(l.length!==0)return wS(an.create(l,"and"))}(e.filters);o&&(t.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(h=>function(m){return{field:ps(m.field),direction:BB(m.dir)}}(h))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=Yv(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:t,parent:i}}function VB(n){let e=PB(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){Ce(r===1);let h=t.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];t.where&&(o=function(p){let m=_S(p);return m instanceof an&&JA(m)?m.getFilters():[m]}(t.where));let s=[];t.orderBy&&(s=function(p){return p.map(m=>function(A){return new Cs(gs(A.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(m))}(t.orderBy));let a=null;t.limit&&(a=function(p){let m;return m=typeof p=="object"?p.value:p,Rh(m)?null:m}(t.limit));let u=null;t.startAt&&(u=function(p){let m=!!p.before,v=p.values||[];return new Ds(v,m)}(t.startAt));let l=null;return t.endAt&&(l=function(p){let m=!p.before,v=p.values||[];return new Ds(v,m)}(t.endAt)),dB(e,i,s,o,a,"F",u,l)}function jB(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return J()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function _S(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=gs(t.unaryFilter.field);return $e.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=gs(t.unaryFilter.field);return $e.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=gs(t.unaryFilter.field);return $e.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=gs(t.unaryFilter.field);return $e.create(s,"!=",{nullValue:"NULL_VALUE"});default:return J()}}(n):n.fieldFilter!==void 0?function(t){return $e.create(gs(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return J()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return an.create(t.compositeFilter.filters.map(r=>_S(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return J()}}(t.compositeFilter.op))}(n):J()}function BB(n){return RB[n]}function $B(n){return MB[n]}function HB(n){return NB[n]}function ps(n){return{fieldPath:n.canonicalString()}}function gs(n){return Vt.fromServerFormat(n.fieldPath)}function wS(n){return n instanceof $e?function(t){if(t.op==="=="){if(mA(t.value))return{unaryFilter:{field:ps(t.field),op:"IS_NAN"}};if(gA(t.value))return{unaryFilter:{field:ps(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(mA(t.value))return{unaryFilter:{field:ps(t.field),op:"IS_NOT_NAN"}};if(gA(t.value))return{unaryFilter:{field:ps(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ps(t.field),op:$B(t.op),value:t.value}}}(n):n instanceof an?function(t){let r=t.getFilters().map(i=>wS(i));return r.length===1?r[0]:{compositeFilter:{op:HB(t.op),filters:r}}}(n):J()}function qB(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function IS(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Tc=class n{constructor(e,t,r,i,o=oe.min(),s=oe.min(),a=ft.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var e0=class{constructor(e){this.ct=e}};function zB(n){let e=VB({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?jv(e,e.limit,"L"):e}var dh=class{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(Me(e.integerValue));else if("doubleValue"in e){let r=Me(e.doubleValue);isNaN(r)?this.dt(t,13):(this.dt(t,15),Ec(r)?t.At(0):t.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(t,20),typeof r=="string"&&(r=ir(r)),t.Rt(`${r.seconds||""}`),t.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(Kr(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(t,45),t.At(r.latitude||0),t.At(r.longitude||0)}else"mapValue"in e?KA(e)?this.dt(t,Number.MAX_SAFE_INTEGER):WA(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):J()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){let r=e.fields||{};this.dt(t,55);for(let i of Object.keys(r))this.Vt(i,t),this.Tt(r[i],t)}wt(e,t){var r,i;let o=e.fields||{};this.dt(t,53);let s="value",a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(t,15),t.At(Me(a)),this.Vt(s,t),this.Tt(o[s],t)}bt(e,t){let r=e.values||[];this.dt(t,50);for(let i of r)this.Tt(i,t)}yt(e,t){this.dt(t,37),G.fromName(e).path.forEach(r=>{this.dt(t,60),this.Dt(r,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}};dh.vt=new dh;var t0=class{constructor(){this.un=new n0}addToCollectionParentIndex(e,t){return this.un.add(t),x.resolve()}getCollectionParents(e,t){return x.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return x.resolve()}deleteFieldIndex(e,t){return x.resolve()}deleteAllFieldIndexes(e){return x.resolve()}createTargetIndexes(e,t){return x.resolve()}getDocumentsMatchingTarget(e,t){return x.resolve(null)}getIndexType(e,t){return x.resolve(0)}getFieldIndexes(e,t){return x.resolve([])}getNextCollectionGroupToUpdate(e){return x.resolve(null)}getMinOffset(e,t){return x.resolve(Ji.min())}getMinOffsetFromCollectionGroup(e,t){return x.resolve(Ji.min())}updateCollectionGroup(e,t,r){return x.resolve()}updateIndexEntries(e,t){return x.resolve()}},n0=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new ht(Pe.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ht(Pe.comparator)).toArray()}};var FW=new Uint8Array(0);var bn=class n{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};bn.DEFAULT_COLLECTION_PERCENTILE=10,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bn.DEFAULT=new bn(41943040,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bn.DISABLED=new bn(-1,0,0);var Ac=class n{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new n(0)}static kn(){return new n(-1)}};var r0=class{constructor(){this.changes=new Qr(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,sn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?x.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var i0=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var o0=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Ic(r.mutation,i,Tn.empty(),nt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,pe()).next(()=>r))}getLocalViewOfDocuments(e,t,r=pe()){let i=Gi();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=yc();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=Gi();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,pe()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=or(),s=wc(),a=function(){return wc()}();return t.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof sr)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),Ic(h.mutation,l,h.mutation.getFieldMask(),nt.now())):s.set(l.key,Tn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),t.forEach((l,h)=>{var p;return a.set(l,new i0(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,t){let r=wc(),i=new ke((s,a)=>s-a),o=pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=t.get(u);if(l===null)return;let h=r.get(u)||Tn.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||pe()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=sS();h.forEach(m=>{if(!o.has(m)){let v=hS(t.get(m),r.get(m));v!==null&&p.set(m,v),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return x.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(s){return G.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):tS(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):x.resolve(Gi()),a=-1,u=o;return s.next(l=>x.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?x.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,pe())).next(h=>({batchId:a,changes:oS(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new G(t)).next(r=>{let i=yc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=yc();return this.indexManager.getCollectionParents(e,o).next(a=>x.forEach(a,u=>{let l=function(p,m){return new Xi(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(t,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,sn.newInvalidDocument(h)))});let a=yc();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&Ic(h.mutation,l,Tn.empty(),nt.now()),xh(t,l)&&(a=a.insert(u,l))}),a})}};var s0=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return x.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Rn(i.createTime)}}(t)),x.resolve()}getNamedQuery(e,t){return x.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(i){return{name:i.name,query:zB(i.bundledQuery),readTime:Rn(i.readTime)}}(t)),x.resolve()}};var a0=class{constructor(){this.overlays=new ke(G.comparator),this.Ir=new Map}getOverlay(e,t){return x.resolve(this.overlays.get(t))}getOverlays(e,t){let r=Gi();return x.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.ht(e,t,o)}),x.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),x.resolve()}getOverlaysForCollection(e,t,r){let i=Gi(),o=t.length+1,s=new G(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return x.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new ke((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=Gi(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=Gi(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return x.resolve(a)}ht(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new zv(t,r));let o=this.Ir.get(t);o===void 0&&(o=pe(),this.Ir.set(t,o)),this.Ir.set(t,o.add(r.key))}};var c0=class{constructor(){this.sessionToken=ft.EMPTY_BYTE_STRING}getSessionToken(e){return x.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,x.resolve()}};var Sc=class{constructor(){this.Tr=new ht(Be.Er),this.dr=new ht(Be.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){let r=new Be(e,t);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Vr(new Be(e,t))}mr(e,t){e.forEach(r=>this.removeReference(r,t))}gr(e){let t=new G(new Pe([])),r=new Be(t,e),i=new Be(t,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let t=new G(new Pe([])),r=new Be(t,e),i=new Be(t,e+1),o=pe();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new Be(e,0),r=this.Tr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},Be=class{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return G.comparator(e.key,t.key)||we(e.wr,t.wr)}static Ar(e,t){return we(e.wr,t.wr)||G.comparator(e.key,t.key)}};var u0=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new ht(Be.Er)}checkEmpty(e){return x.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new Hv(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.br=this.br.add(new Be(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return x.resolve(s)}lookupMutationBatch(e,t){return x.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.vr(r),o=i<0?0:i;return x.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return x.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return x.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new Be(t,0),i=new Be(t,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{let a=this.Dr(s.wr);o.push(a)}),x.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new ht(we);return t.forEach(i=>{let o=new Be(i,0),s=new Be(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),x.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;G.isDocumentKey(o)||(o=o.child(""));let s=new Be(new G(o),0),a=new ht(we);return this.br.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.wr)),!0)},s),x.resolve(this.Cr(a))}Cr(e){let t=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Ce(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return x.forEach(t.mutations,i=>{let o=new Be(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,t){let r=new Be(t,0),i=this.br.firstAfterOrEqual(r);return x.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,x.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var l0=class{constructor(e){this.Mr=e,this.docs=function(){return new ke(G.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return x.resolve(r?r.document.mutableCopy():sn.newInvalidDocument(t))}getEntries(e,t){let r=or();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():sn.newInvalidDocument(i))}),x.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=or(),s=t.path,a=new G(s.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||eB(Xj(h),r)<=0||(i.has(h.key)||xh(t,h))&&(o=o.insert(h.key,h.mutableCopy()))}return x.resolve(o)}getAllFromCollectionGroup(e,t,r,i){J()}Or(e,t){return x.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new d0(this)}getSize(e){return x.resolve(this.size)}},d0=class extends r0{constructor(e){super(),this.cr=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),x.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}};var h0=class{constructor(e){this.persistence=e,this.Nr=new Qr(t=>Z0(t),X0),this.lastRemoteSnapshotVersion=oe.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Sc,this.targetCount=0,this.kr=Ac.Bn()}forEachTarget(e,t){return this.Nr.forEach((r,i)=>t(i)),x.resolve()}getLastRemoteSnapshotVersion(e){return x.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return x.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),x.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Lr&&(this.Lr=t),x.resolve()}Kn(e){this.Nr.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.kr=new Ac(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,x.resolve()}updateTargetData(e,t){return this.Kn(t),x.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,x.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),x.waitFor(o).next(()=>i)}getTargetCount(e){return x.resolve(this.targetCount)}getTargetData(e,t){let r=this.Nr.get(t)||null;return x.resolve(r)}addMatchingKeys(e,t,r){return this.Br.Rr(t,r),x.resolve()}removeMatchingKeys(e,t,r){this.Br.mr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),x.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),x.resolve()}getMatchingKeysForTargetId(e,t){let r=this.Br.yr(t);return x.resolve(r)}containsKey(e,t){return x.resolve(this.Br.containsKey(t))}};var f0=class{constructor(e,t){this.qr={},this.overlays={},this.Qr=new zA(0),this.Kr=!1,this.Kr=!0,this.$r=new c0,this.referenceDelegate=e(this),this.Ur=new h0(this),this.indexManager=new t0,this.remoteDocumentCache=function(i){return new l0(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new e0(t),this.Gr=new s0(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new a0,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.qr[e.toKey()];return r||(r=new u0(t,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,r){V("MemoryPersistence","Starting transaction:",e);let i=new p0(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,t){return x.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,t)))}},p0=class extends bv{constructor(e){super(),this.currentSequenceNumber=e}},g0=class n{constructor(e){this.persistence=e,this.Jr=new Sc,this.Yr=null}static Zr(e){return new n(e)}get Xr(){if(this.Yr)return this.Yr;throw J()}addReference(e,t,r){return this.Jr.addReference(r,t),this.Xr.delete(r.toString()),x.resolve()}removeReference(e,t,r){return this.Jr.removeReference(r,t),this.Xr.add(r.toString()),x.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),x.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return x.forEach(this.Xr,r=>{let i=G.fromPath(r);return this.ei(e,i).next(o=>{o||t.removeEntry(i,oe.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(r=>{r?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return x.or([()=>x.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}};var m0=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.$i=r,this.Ui=i}static Wi(e,t){let r=pe(),i=pe();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var y0=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var v0=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return qb()?8:nB(Qe())>0?6:4}()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.Yi(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new y0;return this.Xi(e,t,s).next(a=>{if(o.result=a,this.zi)return this.es(e,t,s,a.size)})}).next(()=>o.result)}es(e,t,r,i){return r.documentReadCount<this.ji?(mc()<=fe.DEBUG&&V("QueryEngine","SDK will not create cache indexes for query:",fs(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),x.resolve()):(mc()<=fe.DEBUG&&V("QueryEngine","Query:",fs(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(mc()<=fe.DEBUG&&V("QueryEngine","The SDK decides to create cache indexes for query:",fs(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Sn(t))):x.resolve())}Yi(e,t){if(wA(t))return x.resolve(null);let r=Sn(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=jv(t,null,"F"),r=Sn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=pe(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ts(t,a);return this.ns(t,l,s,u.readTime)?this.Yi(e,jv(t,null,"F")):this.rs(e,l,t,u)}))})))}Zi(e,t,r,i){return wA(t)||i.isEqual(oe.min())?x.resolve(null):this.Ji.getDocuments(e,r).next(o=>{let s=this.ts(t,o);return this.ns(t,s,r,i)?x.resolve(null):(mc()<=fe.DEBUG&&V("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),fs(t)),this.rs(e,s,t,Zj(i,-1)).next(a=>a))})}ts(e,t){let r=new ht(rS(e));return t.forEach((i,o)=>{xh(e,o)&&(r=r.add(o))}),r}ns(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,t,r){return mc()<=fe.DEBUG&&V("QueryEngine","Using full collection scan to execute query:",fs(t)),this.Ji.getDocumentsMatchingQuery(e,t,Ji.min(),r)}rs(e,t,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var _0=class{constructor(e,t,r,i){this.persistence=e,this.ss=t,this.serializer=i,this.os=new ke(we),this._s=new Qr(o=>Z0(o),X0),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new o0(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}};function GB(n,e,t,r){return new _0(n,e,t,r)}function ES(n,e){return _(this,null,function*(){let t=te(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.ls(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=pe();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return t.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:s,addedBatchIds:a}))})})})}function WB(n,e){let t=te(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,l,h){let p=l.batch,m=p.keys(),v=x.resolve();return m.forEach(A=>{v=v.next(()=>h.getEntry(u,A)).next(M=>{let R=l.docVersions.get(A);Ce(R!==null),M.version.compareTo(R)<0&&(p.applyToRemoteDocument(M,l),M.isValidDocument()&&(M.setReadTime(l.commitVersion),h.addEntry(M)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=pe();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function DS(n){let e=te(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function KB(n,e){let t=te(n),r=e.snapshotVersion,i=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.cs.newChangeBuffer({trackRemovals:!0});i=t.os;let a=[];e.targetChanges.forEach((h,p)=>{let m=i.get(p);if(!m)return;a.push(t.Ur.removeMatchingKeys(o,h.removedDocuments,p).next(()=>t.Ur.addMatchingKeys(o,h.addedDocuments,p)));let v=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?v=v.withResumeToken(ft.EMPTY_BYTE_STRING,oe.min()).withLastLimboFreeSnapshotVersion(oe.min()):h.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(h.resumeToken,r)),i=i.insert(p,v),function(M,R,O){return M.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=3e8?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0}(m,v,h)&&a.push(t.Ur.updateTargetData(o,v))});let u=or(),l=pe();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(QB(o,s,e.documentUpdates).next(h=>{u=h.Ps,l=h.Is})),!r.isEqual(oe.min())){let h=t.Ur.getLastRemoteSnapshotVersion(o).next(p=>t.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return x.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(t.os=i,o))}function QB(n,e,t){let r=pe(),i=pe();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=or();return t.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(oe.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):V("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ps:s,Is:i}})}function YB(n,e){let t=te(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function JB(n,e){let t=te(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ur.getTargetData(r,e).next(o=>o?(i=o,x.resolve(i)):t.Ur.allocateTargetId(r).next(s=>(i=new Tc(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.os=t.os.insert(r.targetId,r),t._s.set(e,r.targetId)),r})}function w0(n,e,t){return _(this,null,function*(){let r=te(n),i=r.os.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Lc(s))throw s;V("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function NA(n,e,t){let r=te(n),i=oe.min(),o=pe();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,h){let p=te(u),m=p._s.get(h);return m!==void 0?x.resolve(p.os.get(m)):p.Ur.getTargetData(l,h)}(r,s,Sn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,t?i:oe.min(),t?o:pe())).next(a=>(ZB(r,fB(e),a),{documents:a,Ts:o})))}function ZB(n,e,t){let r=n.us.get(e)||oe.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.us.set(e,r)}var hh=class{constructor(){this.activeTargetIds=_B()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var I0=class{constructor(){this.so=new hh,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,r){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new hh,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var E0=class{_o(e){}shutdown(){}};var fh=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){V("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){V("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Qd=null;function pv(){return Qd===null?Qd=function(){return 268435456+Math.round(2147483648*Math.random())}():Qd++,"0x"+Qd.toString(16)}var XB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var D0=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var dt="WebChannelConnection",C0=class extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;let r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+t.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(t,r,i,o,s){let a=pv(),u=this.xo(t,r.toUriEncodedString());V("RestConnection",`Sending RPC '${t}' ${a}:`,u,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,o,s),this.No(t,u,l,i).then(h=>(V("RestConnection",`Received RPC '${t}' ${a}: `,h),h),h=>{throw _s("RestConnection",`RPC '${t}' ${a} failed with error: `,h,"url: ",u,"request:",i),h})}Lo(t,r,i,o,s,a){return this.Mo(t,r,i,o,s)}Oo(t,r,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ns}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>t[s]=o),i&&i.headers.forEach((o,s)=>t[s]=o)}xo(t,r){let i=XB[t];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,r,i){let o=pv();return new Promise((s,a)=>{let u=new cv;u.setWithCredentials(!0),u.listenOnce(uv.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case gc.NO_ERROR:let h=u.getResponseJson();V(dt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case gc.TIMEOUT:V(dt,`RPC '${e}' ${o} timed out`),a(new L(N.DEADLINE_EXCEEDED,"Request time out"));break;case gc.HTTP_ERROR:let p=u.getStatus();if(V(dt,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);let v=m?.error;if(v&&v.status&&v.message){let A=function(R){let O=R.toLowerCase().replace(/_/g,"-");return Object.values(N).indexOf(O)>=0?O:N.UNKNOWN}(v.status);a(new L(A,v.message))}else a(new L(N.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new L(N.UNAVAILABLE,"Connection failed."));break;default:J()}}finally{V(dt,`RPC '${e}' ${o} completed.`)}});let l=JSON.stringify(i);V(dt,`RPC '${e}' ${o} sending request:`,i),u.send(t,"POST",l,r,15)})}Bo(e,t,r){let i=pv(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=hv(),a=dv(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;let h=o.join("");V(dt,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u),m=!1,v=!1,A=new D0({Io:R=>{v?V(dt,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(m||(V(dt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),V(dt,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},To:()=>p.close()}),M=(R,O,q)=>{R.listen(O,U=>{try{q(U)}catch(ne){setTimeout(()=>{throw ne},0)}})};return M(p,hs.EventType.OPEN,()=>{v||(V(dt,`RPC '${e}' stream ${i} transport opened.`),A.yo())}),M(p,hs.EventType.CLOSE,()=>{v||(v=!0,V(dt,`RPC '${e}' stream ${i} transport closed`),A.So())}),M(p,hs.EventType.ERROR,R=>{v||(v=!0,_s(dt,`RPC '${e}' stream ${i} transport errored:`,R),A.So(new L(N.UNAVAILABLE,"The operation could not be completed")))}),M(p,hs.EventType.MESSAGE,R=>{var O;if(!v){let q=R.data[0];Ce(!!q);let U=q,ne=U.error||((O=U[0])===null||O===void 0?void 0:O.error);if(ne){V(dt,`RPC '${e}' stream ${i} received error:`,ne);let Ie=ne.status,K=function(w){let D=je[w];if(D!==void 0)return pS(D)}(Ie),E=ne.message;K===void 0&&(K=N.INTERNAL,E="Unknown error status: "+Ie+" with message "+ne.message),v=!0,A.So(new L(K,E)),p.close()}else V(dt,`RPC '${e}' stream ${i} received:`,q),A.bo(q)}}),M(a,lv.STAT_EVENT,R=>{R.stat===Wd.PROXY?V(dt,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===Wd.NOPROXY&&V(dt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{A.wo()},0),A}};function gv(){return typeof document<"u"?document:null}function Ph(n){return new Qv(n,!0)}var ph=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=t,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let t=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,t-r);i>0&&V("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var gh=class{constructor(e,t,r,i,o,s,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new ph(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return _(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return _(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,t){return _(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===N.RESOURCE_EXHAUSTED?(rr(t.toString()),rr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===N.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(t)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===t&&this.P_(r,i)},r=>{e(()=>{let i=new L(N.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,t){let r=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>_(this,null,function*(){this.state=0,this.start()}))}I_(e){return V("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(V("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},b0=class extends gh{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let t=FB(this.serializer,e),r=function(o){if(!("targetChange"in o))return oe.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?oe.min():s.readTime?Rn(s.readTime):oe.min()}(e);return this.listener.d_(t,r)}A_(e){let t={};t.database=Xv(this.serializer),t.addTarget=function(o,s){let a,u=s.target;if(a=Lv(u)?{documents:UB(o,u)}:{query:LB(o,u)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=gS(o,s.resumeToken);let l=Yv(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(oe.min())>0){a.readTime=lh(o,s.snapshotVersion.toTimestamp());let l=Yv(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=jB(this.serializer,e);r&&(t.labels=r),this.a_(t)}R_(e){let t={};t.database=Xv(this.serializer),t.removeTarget=e,this.a_(t)}},T0=class extends gh{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return Ce(!!e.streamToken),this.lastStreamToken=e.streamToken,Ce(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ce(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let t=kB(e.writeResults,e.commitTime),r=Rn(e.commitTime);return this.listener.g_(r,t)}p_(){let e={};e.database=Xv(this.serializer),this.a_(e)}m_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>OB(this.serializer,r))};this.a_(t)}};var A0=class extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new L(N.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,Jv(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new L(N.UNKNOWN,o.toString())})}Lo(e,t,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,Jv(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new L(N.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},S0=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(rr(t),this.D_=!1):V("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var R0=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(()=>_(this,null,function*(){io(this)&&(V("RemoteStore","Restarting streams for network reachability change."),yield function(u){return _(this,null,function*(){let l=te(u);l.L_.add(4),yield Vc(l),l.q_.set("Unknown"),l.L_.delete(4),yield Fh(l)})}(this))}))}),this.q_=new S0(r,i)}};function Fh(n){return _(this,null,function*(){if(io(n))for(let e of n.B_)yield e(!0)})}function Vc(n){return _(this,null,function*(){for(let e of n.B_)yield e(!1)})}function CS(n,e){let t=te(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),o_(t)?i_(t):Ps(t).r_()&&r_(t,e))}function n_(n,e){let t=te(n),r=Ps(t);t.N_.delete(e),r.r_()&&bS(t,e),t.N_.size===0&&(r.r_()?r.o_():io(t)&&t.q_.set("Unknown"))}function r_(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(oe.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ps(n).A_(e)}function bS(n,e){n.Q_.xe(e),Ps(n).R_(e)}function i_(n){n.Q_=new Kv({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),Ps(n).start(),n.q_.v_()}function o_(n){return io(n)&&!Ps(n).n_()&&n.N_.size>0}function io(n){return te(n).L_.size===0}function TS(n){n.Q_=void 0}function e3(n){return _(this,null,function*(){n.q_.set("Online")})}function t3(n){return _(this,null,function*(){n.N_.forEach((e,t)=>{r_(n,e)})})}function n3(n,e){return _(this,null,function*(){TS(n),o_(n)?(n.q_.M_(e),i_(n)):n.q_.set("Unknown")})}function r3(n,e,t){return _(this,null,function*(){if(n.q_.set("Online"),e instanceof ch&&e.state===2&&e.cause)try{yield function(i,o){return _(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))})}(n,e)}catch(r){V("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield mh(n,r)}else if(e instanceof ys?n.Q_.Ke(e):e instanceof ah?n.Q_.He(e):n.Q_.We(e),!t.isEqual(oe.min()))try{let r=yield DS(n.localStore);t.compareTo(r)>=0&&(yield function(o,s){let a=o.Q_.rt(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.N_.get(l);h&&o.N_.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o.N_.get(u);if(!h)return;o.N_.set(u,h.withResumeToken(ft.EMPTY_BYTE_STRING,h.snapshotVersion)),bS(o,u);let p=new Tc(h.target,u,l,h.sequenceNumber);r_(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){V("RemoteStore","Failed to raise snapshot:",r),yield mh(n,r)}})}function mh(n,e,t){return _(this,null,function*(){if(!Lc(e))throw e;n.L_.add(1),yield Vc(n),n.q_.set("Offline"),t||(t=()=>DS(n.localStore)),n.asyncQueue.enqueueRetryable(()=>_(this,null,function*(){V("RemoteStore","Retrying IndexedDB access"),yield t(),n.L_.delete(1),yield Fh(n)}))})}function AS(n,e){return e().catch(t=>mh(n,t,e))}function Oh(n){return _(this,null,function*(){let e=te(n),t=Yr(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;i3(e);)try{let i=yield YB(e.localStore,r);if(i===null){e.O_.length===0&&t.o_();break}r=i.batchId,o3(e,i)}catch(i){yield mh(e,i)}SS(e)&&RS(e)})}function i3(n){return io(n)&&n.O_.length<10}function o3(n,e){n.O_.push(e);let t=Yr(n);t.r_()&&t.V_&&t.m_(e.mutations)}function SS(n){return io(n)&&!Yr(n).n_()&&n.O_.length>0}function RS(n){Yr(n).start()}function s3(n){return _(this,null,function*(){Yr(n).p_()})}function a3(n){return _(this,null,function*(){let e=Yr(n);for(let t of n.O_)e.m_(t.mutations)})}function c3(n,e,t){return _(this,null,function*(){let r=n.O_.shift(),i=qv.from(r,e,t);yield AS(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Oh(n)})}function u3(n,e){return _(this,null,function*(){e&&Yr(n).V_&&(yield function(r,i){return _(this,null,function*(){if(function(s){return TB(s)&&s!==N.ABORTED}(i.code)){let o=r.O_.shift();Yr(r).s_(),yield AS(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Oh(r)}})}(n,e)),SS(n)&&RS(n)})}function xA(n,e){return _(this,null,function*(){let t=te(n);t.asyncQueue.verifyOperationInProgress(),V("RemoteStore","RemoteStore received new credentials");let r=io(t);t.L_.add(3),yield Vc(t),r&&t.q_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),yield Fh(t)})}function l3(n,e){return _(this,null,function*(){let t=te(n);e?(t.L_.delete(2),yield Fh(t)):e||(t.L_.add(2),yield Vc(t),t.q_.set("Unknown"))})}function Ps(n){return n.K_||(n.K_=function(t,r,i){let o=te(t);return o.w_(),new b0(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Eo:e3.bind(null,n),Ro:t3.bind(null,n),mo:n3.bind(null,n),d_:r3.bind(null,n)}),n.B_.push(e=>_(this,null,function*(){e?(n.K_.s_(),o_(n)?i_(n):n.q_.set("Unknown")):(yield n.K_.stop(),TS(n))}))),n.K_}function Yr(n){return n.U_||(n.U_=function(t,r,i){let o=te(t);return o.w_(),new T0(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:s3.bind(null,n),mo:u3.bind(null,n),f_:a3.bind(null,n),g_:c3.bind(null,n)}),n.B_.push(e=>_(this,null,function*(){e?(n.U_.s_(),yield Oh(n)):(yield n.U_.stop(),n.O_.length>0&&(V("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))}))),n.U_}var M0=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new on,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new L(N.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function s_(n,e){if(rr("AsyncQueue",`${e}: ${n}`),Lc(n))return new L(N.UNAVAILABLE,`${e}: ${n}`);throw n}var yh=class n{constructor(e){this.comparator=e?(t,r)=>e(t,r)||G.comparator(t.key,r.key):(t,r)=>G.comparator(t.key,r.key),this.keyedMap=yc(),this.sortedSet=new ke(this.comparator)}static emptySet(e){return new n(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var vh=class{constructor(){this.W_=new ke(G.comparator)}track(e){let t=e.doc.key,r=this.W_.get(t);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(t,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(t):e.type===1&&r.type===2?this.W_=this.W_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):J():this.W_=this.W_.insert(t,e)}G_(){let e=[];return this.W_.inorderTraversal((t,r)=>{e.push(r)}),e}},Rs=class n{constructor(e,t,r,i,o,s,a,u,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,yh.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Nh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var N0=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},x0=class{constructor(){this.queries=PA(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,r){let i=te(t),o=i.queries;i.queries=PA(),o.forEach((s,a)=>{for(let u of a.j_)u.onError(r)})})(this,new L(N.ABORTED,"Firestore shutting down"))}};function PA(){return new Qr(n=>nS(n),Nh)}function a_(n,e){return _(this,null,function*(){let t=te(n),r=3,i=e.query,o=t.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new N0,r=e.J_()?0:1);try{switch(r){case 0:o.z_=yield t.onListen(i,!0);break;case 1:o.z_=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let a=s_(s,`Initialization of query '${fs(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.j_.push(e),e.Z_(t.onlineState),o.z_&&e.X_(o.z_)&&u_(t)})}function c_(n,e){return _(this,null,function*(){let t=te(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function d3(n,e){let t=te(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&u_(t)}function h3(n,e,t){let r=te(n),i=r.queries.get(e);if(i)for(let o of i.j_)o.onError(t);r.queries.delete(e)}function u_(n){n.Y_.forEach(e=>{e.next()})}var P0,FA;(FA=P0||(P0={})).ea="default",FA.Cache="cache";var Rc=class{constructor(e,t,r){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Rs(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;let r=t!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=Rs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==P0.Cache}};var _h=class{constructor(e){this.key=e}},wh=class{constructor(e){this.key=e}},F0=class{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=pe(),this.mutatedKeys=pe(),this.Aa=rS(e),this.Ra=new yh(this.Aa)}get Va(){return this.Ta}ma(e,t){let r=t?t.fa:new vh,i=t?t.Ra:this.Ra,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let m=i.get(h),v=xh(this.query,p)?p:null,A=!!m&&this.mutatedKeys.has(m.key),M=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations),R=!1;m&&v?m.data.isEqual(v.data)?A!==M&&(r.track({type:3,doc:v}),R=!0):this.ga(m,v)||(r.track({type:2,doc:v}),R=!0,(u&&this.Aa(v,u)>0||l&&this.Aa(v,l)<0)&&(a=!0)):!m&&v?(r.track({type:0,doc:v}),R=!0):m&&!v&&(r.track({type:1,doc:m}),R=!0,(u||l)&&(a=!0)),R&&(v?(s=s.add(v),o=M?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let s=e.fa.G_();s.sort((h,p)=>function(v,A){let M=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return J()}};return M(v)-M(A)}(h.type,p.type)||this.Aa(h.doc,p.doc)),this.pa(r),i=i!=null&&i;let a=t&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,l=u!==this.Ea;return this.Ea=u,s.length!==0||l?{snapshot:new Rs(this.query,e.Ra,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new vh,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=pe(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let t=[];return e.forEach(r=>{this.da.has(r)||t.push(new wh(r))}),this.da.forEach(r=>{e.has(r)||t.push(new _h(r))}),t}ba(e){this.Ta=e.Ts,this.da=pe();let t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return Rs.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},O0=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},k0=class{constructor(e){this.key=e,this.va=!1}},U0=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Qr(a=>nS(a),Nh),this.Ma=new Map,this.xa=new Set,this.Oa=new ke(G.comparator),this.Na=new Map,this.La=new Sc,this.Ba={},this.ka=new Map,this.qa=Ac.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function f3(n,e,t=!0){return _(this,null,function*(){let r=OS(n),i,o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=yield MS(r,e,t,!0),i})}function p3(n,e){return _(this,null,function*(){let t=OS(n);yield MS(t,e,!0,!1)})}function MS(n,e,t,r){return _(this,null,function*(){let i=yield JB(n.localStore,Sn(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=yield g3(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&CS(n.remoteStore,i),a})}function g3(n,e,t,r,i){return _(this,null,function*(){n.Ka=(p,m,v)=>function(M,R,O,q){return _(this,null,function*(){let U=R.view.ma(O);U.ns&&(U=yield NA(M.localStore,R.query,!1).then(({documents:E})=>R.view.ma(E,U)));let ne=q&&q.targetChanges.get(R.targetId),Ie=q&&q.targetMismatches.get(R.targetId)!=null,K=R.view.applyChanges(U,M.isPrimaryClient,ne,Ie);return kA(M,R.targetId,K.wa),K.snapshot})}(n,p,m,v);let o=yield NA(n.localStore,e,!0),s=new F0(e,o.Ts),a=s.ma(o.documents),u=bc.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),l=s.applyChanges(a,n.isPrimaryClient,u);kA(n,t,l.wa);let h=new O0(e,t,s);return n.Fa.set(e,h),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),l.snapshot})}function m3(n,e,t){return _(this,null,function*(){let r=te(n),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!Nh(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield w0(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&n_(r.remoteStore,i.targetId),L0(r,i.targetId)}).catch(Uc))):(L0(r,i.targetId),yield w0(r.localStore,i.targetId,!0))})}function y3(n,e){return _(this,null,function*(){let t=te(n),r=t.Fa.get(e),i=t.Ma.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),n_(t.remoteStore,r.targetId))})}function v3(n,e,t){return _(this,null,function*(){let r=b3(n);try{let i=yield function(s,a){let u=te(s),l=nt.now(),h=a.reduce((v,A)=>v.add(A.key),pe()),p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",v=>{let A=or(),M=pe();return u.cs.getEntries(v,h).next(R=>{A=R,A.forEach((O,q)=>{q.isValidDocument()||(M=M.add(O))})}).next(()=>u.localDocuments.getOverlayedDocuments(v,A)).next(R=>{p=R;let O=[];for(let q of a){let U=bB(q,p.get(q.key).overlayedDocument);U!=null&&O.push(new sr(q.key,U,QA(U.value.mapValue),Qi.exists(!0)))}return u.mutationQueue.addMutationBatch(v,l,O,a)}).next(R=>{m=R;let O=R.applyToLocalDocumentSet(p,M);return u.documentOverlayCache.saveOverlays(v,R.batchId,O)})}).then(()=>({batchId:m.batchId,changes:oS(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let l=s.Ba[s.currentUser.toKey()];l||(l=new ke(we)),l=l.insert(a,u),s.Ba[s.currentUser.toKey()]=l}(r,i.batchId,t),yield jc(r,i.changes),yield Oh(r.remoteStore)}catch(i){let o=s_(i,"Failed to persist write");t.reject(o)}})}function NS(n,e){return _(this,null,function*(){let t=te(n);try{let r=yield KB(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Na.get(o);s&&(Ce(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?Ce(s.va):i.removedDocuments.size>0&&(Ce(s.va),s.va=!1))}),yield jc(t,r,e)}catch(r){yield Uc(r)}})}function OA(n,e,t){let r=te(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Fa.forEach((o,s)=>{let a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let u=te(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let m of p.j_)m.Z_(a)&&(l=!0)}),l&&u_(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function _3(n,e,t){return _(this,null,function*(){let r=te(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Na.get(e),o=i&&i.key;if(o){let s=new ke(G.comparator);s=s.insert(o,sn.newNoDocument(o,oe.min()));let a=pe().add(o),u=new sh(oe.min(),new Map,new ke(we),s,a);yield NS(r,u),r.Oa=r.Oa.remove(o),r.Na.delete(e),l_(r)}else yield w0(r.localStore,e,!1).then(()=>L0(r,e,t)).catch(Uc)})}function w3(n,e){return _(this,null,function*(){let t=te(n),r=e.batch.batchId;try{let i=yield WB(t.localStore,e);PS(t,r,null),xS(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield jc(t,i)}catch(i){yield Uc(i)}})}function I3(n,e,t){return _(this,null,function*(){let r=te(n);try{let i=yield function(s,a){let u=te(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(Ce(p!==null),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);PS(r,e,t),xS(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield jc(r,i)}catch(i){yield Uc(i)}})}function xS(n,e){(n.ka.get(e)||[]).forEach(t=>{t.resolve()}),n.ka.delete(e)}function PS(n,e,t){let r=te(n),i=r.Ba[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function L0(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Ma.get(e))n.Fa.delete(r),t&&n.Ca.$a(r,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach(r=>{n.La.containsKey(r)||FS(n,r)})}function FS(n,e){n.xa.delete(e.path.canonicalString());let t=n.Oa.get(e);t!==null&&(n_(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),l_(n))}function kA(n,e,t){for(let r of t)r instanceof _h?(n.La.addReference(r.key,e),E3(n,r)):r instanceof wh?(V("SyncEngine","Document no longer in limbo: "+r.key),n.La.removeReference(r.key,e),n.La.containsKey(r.key)||FS(n,r.key)):J()}function E3(n,e){let t=e.key,r=t.path.canonicalString();n.Oa.get(t)||n.xa.has(r)||(V("SyncEngine","New document in limbo: "+t),n.xa.add(r),l_(n))}function l_(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){let e=n.xa.values().next().value;n.xa.delete(e);let t=new G(Pe.fromString(e)),r=n.qa.next();n.Na.set(r,new k0(t)),n.Oa=n.Oa.insert(t,r),CS(n.remoteStore,new Tc(Sn(Mh(t.path)),r,"TargetPurposeLimboResolution",zA.oe))}}function jc(n,e,t){return _(this,null,function*(){let r=te(n),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{s.push(r.Ka(u,e,t).then(l=>{var h;if((l||t)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=t?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=m0.Wi(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.Ca.d_(i),yield function(u,l){return _(this,null,function*(){let h=te(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>x.forEach(l,m=>x.forEach(m.$i,v=>h.persistence.referenceDelegate.addReference(p,m.targetId,v)).next(()=>x.forEach(m.Ui,v=>h.persistence.referenceDelegate.removeReference(p,m.targetId,v)))))}catch(p){if(!Lc(p))throw p;V("LocalStore","Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let v=h.os.get(m),A=v.snapshotVersion,M=v.withLastLimboFreeSnapshotVersion(A);h.os=h.os.insert(m,M)}}})}(r.localStore,o))})}function D3(n,e){return _(this,null,function*(){let t=te(n);if(!t.currentUser.isEqual(e)){V("SyncEngine","User change. New user:",e.toKey());let r=yield ES(t.localStore,e);t.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(u=>{u.reject(new L(N.CANCELLED,s))})}),o.ka.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield jc(t,r.hs)}})}function C3(n,e){let t=te(n),r=t.Na.get(e);if(r&&r.va)return pe().add(r.key);{let i=pe(),o=t.Ma.get(e);if(!o)return i;for(let s of o){let a=t.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function OS(n){let e=te(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=NS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=C3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_3.bind(null,e),e.Ca.d_=d3.bind(null,e.eventManager),e.Ca.$a=h3.bind(null,e.eventManager),e}function b3(n){let e=te(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=w3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=I3.bind(null,e),e}var UA=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return _(this,null,function*(){this.serializer=Ph(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),yield this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)})}ja(t,r){return null}Ha(t,r){return null}za(t){return GB(this.persistence,new v0,t.initialUser,this.serializer)}Ga(t){return new f0(g0.Zr,this.serializer)}Wa(t){return new I0}terminate(){return _(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})();var T3=(()=>{class n{initialize(t,r){return _(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>OA(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=D3.bind(null,this.syncEngine),yield l3(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new x0}()}createDatastore(t){let r=Ph(t.databaseInfo.databaseId),i=function(s){return new C0(s)}(t.databaseInfo);return function(s,a,u,l){return new A0(s,a,u,l)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,o,s,a,u){return new R0(i,o,s,a,u)}(this.localStore,this.datastore,t.asyncQueue,r=>OA(this.syncEngine,r,0),function(){return fh.D()?new fh:new E0}())}createSyncEngine(t,r){return function(o,s,a,u,l,h,p){let m=new U0(o,s,a,u,l,h);return p&&(m.Qa=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return _(this,null,function*(){var t,r;yield function(o){return _(this,null,function*(){let s=te(o);V("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield Vc(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var Mc=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):rr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var V0=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Je.UNAUTHENTICATED,this.clientId=Xd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>_(this,null,function*(){V("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(V("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new on;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>_(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=s_(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function mv(n,e){return _(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),V("FirestoreClient","Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>_(this,null,function*(){r.isEqual(i)||(yield ES(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function LA(n,e){return _(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield A3(n);V("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>xA(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>xA(e.remoteStore,i)),n._onlineComponents=e})}function A3(n){return _(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){V("FirestoreClient","Using user provided OfflineComponentProvider");try{yield mv(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===N.FAILED_PRECONDITION||i.code===N.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;_s("Error using user provided cache. Falling back to memory cache: "+t),yield mv(n,new UA)}}else V("FirestoreClient","Using default OfflineComponentProvider"),yield mv(n,new UA);return n._offlineComponents})}function kS(n){return _(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(V("FirestoreClient","Using user provided OnlineComponentProvider"),yield LA(n,n._uninitializedComponentsProvider._online)):(V("FirestoreClient","Using default OnlineComponentProvider"),yield LA(n,new T3))),n._onlineComponents})}function S3(n){return kS(n).then(e=>e.syncEngine)}function Ih(n){return _(this,null,function*(){let e=yield kS(n),t=e.eventManager;return t.onListen=f3.bind(null,e.syncEngine),t.onUnlisten=m3.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=p3.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=y3.bind(null,e.syncEngine),t})}function R3(n,e,t={}){let r=new on;return n.asyncQueue.enqueueAndForget(()=>_(this,null,function*(){return function(o,s,a,u,l){let h=new Mc({next:m=>{h.Za(),s.enqueueAndForget(()=>c_(o,p));let v=m.docs.has(a);!v&&m.fromCache?l.reject(new L(N.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&m.fromCache&&u&&u.source==="server"?l.reject(new L(N.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(m)},error:m=>l.reject(m)}),p=new Rc(Mh(a.path),h,{includeMetadataChanges:!0,_a:!0});return a_(o,p)}(yield Ih(n),n.asyncQueue,e,t,r)})),r.promise}function M3(n,e,t={}){let r=new on;return n.asyncQueue.enqueueAndForget(()=>_(this,null,function*(){return function(o,s,a,u,l){let h=new Mc({next:m=>{h.Za(),s.enqueueAndForget(()=>c_(o,p)),m.fromCache&&u.source==="server"?l.reject(new L(N.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(m)},error:m=>l.reject(m)}),p=new Rc(a,h,{includeMetadataChanges:!0,_a:!0});return a_(o,p)}(yield Ih(n),n.asyncQueue,e,t,r)})),r.promise}function US(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var VA=new Map;function LS(n,e,t){if(!t)throw new L(N.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function N3(n,e,t,r){if(e===!0&&r===!0)throw new L(N.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function jA(n){if(!G.isDocumentKey(n))throw new L(N.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function BA(n){if(G.isDocumentKey(n))throw new L(N.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function kh(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":J()}function Mn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new L(N.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=kh(n);throw new L(N.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var Eh=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new L(N.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new L(N.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}N3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=US((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new L(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new L(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new L(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Ms=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Eh({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new L(N.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new L(N.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Eh(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new yv;switch(r.type){case"firstParty":return new Iv(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new L(N.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return _(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=VA.get(t);r&&(V("ComponentProvider","Removing Datastore"),VA.delete(t),r.terminate())}(this),Promise.resolve()}};function VS(n,e,t,r={}){var i;let o=(n=Mn(n,Ms))._getSettings(),s=`${e}:${t}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&_s("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=Je.MOCK_USER;else{a=Lb(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new L(N.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Je(l)}n._authCredentials=new vv(new Zd(a,u))}}var ro=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},Et=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},Wr=class n extends ro{constructor(e,t,r){super(e,t,Mh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Et(this.firestore,null,new G(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function jS(n,e,...t){if(n=Ye(n),LS("collection","path",e),n instanceof Ms){let r=Pe.fromString(e,...t);return BA(r),new Wr(n,null,r)}{if(!(n instanceof Et||n instanceof Wr))throw new L(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Pe.fromString(e,...t));return BA(r),new Wr(n.firestore,null,r)}}function BS(n,e,...t){if(n=Ye(n),arguments.length===1&&(e=Xd.newId()),LS("doc","path",e),n instanceof Ms){let r=Pe.fromString(e,...t);return jA(r),new Et(n,null,new G(r))}{if(!(n instanceof Et||n instanceof Wr))throw new L(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Pe.fromString(e,...t));return jA(r),new Et(n.firestore,n instanceof Wr?n.converter:null,new G(r))}}var Dh=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new ph(this,"async_queue_retry"),this.Vu=()=>{let r=gv();r&&V("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let t=gv();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let t=gv();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let t=new on;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return _(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Lc(e))throw e;V("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let t=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw rr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=t,t}enqueueAfterDelay(e,t,r){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);let i=M0.createAndSchedule(this,e,t,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&J()}verifyOperationInProgress(){}wu(){return _(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let t=this.Tu.indexOf(e);this.Tu.splice(t,1)}};function $A(n){return function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(n,["next","error","complete"])}var Jr=class extends Ms{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Dh,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return _(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Dh(e),this._firestoreClient=void 0,yield e}})}};function $S(n,e){let t=typeof n=="object"?n:os(),r=typeof n=="string"?n:e||"(default)",i=ic(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=Ub("firestore");o&&VS(i,...o)}return i}function Uh(n){if(n._terminated)throw new L(N.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||x3(n),n._firestoreClient}function x3(n){var e,t,r;let i=n._freezeSettings(),o=function(a,u,l,h){return new Tv(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,US(h.experimentalLongPollingOptions),h.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new V0(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}}(n._componentsProvider))}var Nc=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(ft.fromBase64String(e))}catch(t){throw new L(N.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(ft.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var xc=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new L(N.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Ch=class{constructor(e){this._methodName=e}};var Pc=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new L(N.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new L(N.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return we(this._lat,e._lat)||we(this._long,e._long)}};var Fc=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var P3=/^__.*__$/,j0=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new sr(e,this.data,this.fieldMask,t,this.fieldTransforms):new no(e,this.data,t,this.fieldTransforms)}};function HS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw J()}}var B0=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return bh(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(HS(this.Cu)&&P3.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},$0=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Ph(e)}Qu(e,t,r,i=!1){return new B0({Cu:e,methodName:t,qu:r,path:Vt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function qS(n){let e=n._freezeSettings(),t=Ph(n._databaseId);return new $0(n._databaseId,!!e.ignoreUndefinedProperties,t)}function F3(n,e,t,r,i,o={}){let s=n.Qu(o.merge||o.mergeFields?2:0,e,t,i);WS("Data must be an object, but it was:",s,r);let a=zS(r,s),u,l;if(o.merge)u=new Tn(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let m=k3(e,p,t);if(!s.contains(m))throw new L(N.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);L3(h,m)||h.push(m)}u=new Tn(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new j0(new rn(a),u,l)}function O3(n,e,t,r=!1){return d_(t,n.Qu(r?4:3,e))}function d_(n,e){if(GS(n=Ye(n)))return WS("Unsupported field value:",e,n),zS(n,e);if(n instanceof Ch)return function(r,i){if(!HS(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let u=d_(a,i.Lu(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=Ye(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return wB(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=nt.fromDate(r);return{timestampValue:lh(i.serializer,o)}}if(r instanceof nt){let o=new nt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:lh(i.serializer,o)}}if(r instanceof Pc)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Nc)return{bytesValue:gS(i.serializer,r._byteString)};if(r instanceof Et){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:t_(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Fc)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw a.Bu("VectorValues must only contain numeric values.");return e_(a.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${kh(r)}`)}(n,e)}function zS(n,e){let t={};return GA(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):xs(n,(r,i)=>{let o=d_(i,e.Mu(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function GS(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof nt||n instanceof Pc||n instanceof Nc||n instanceof Et||n instanceof Ch||n instanceof Fc)}function WS(n,e,t){if(!GS(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){let r=kh(t);throw r==="an object"?e.Bu(n+" a custom object"):e.Bu(n+" "+r)}}function k3(n,e,t){if((e=Ye(e))instanceof xc)return e._internalPath;if(typeof e=="string")return KS(n,e);throw bh("Field path arguments must be of type string or ",n,!1,void 0,t)}var U3=new RegExp("[~\\*/\\[\\]]");function KS(n,e,t){if(e.search(U3)>=0)throw bh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new xc(...e.split("."))._internalPath}catch{throw bh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function bh(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new L(N.INVALID_ARGUMENT,a+n+u)}function L3(n,e){return n.some(t=>t.isEqual(e))}var Th=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Et(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new H0(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(QS("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},H0=class extends Th{data(){return super.data()}};function QS(n,e){return typeof e=="string"?KS(n,e):e instanceof xc?e._internalPath:e._delegate._internalPath}function YS(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new L(N.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Oc=class{},q0=class extends Oc{};function JS(n,e,...t){let r=[];e instanceof Oc&&r.push(e),r=r.concat(t),function(o){let s=o.filter(u=>u instanceof G0).length,a=o.filter(u=>u instanceof z0).length;if(s>1||s>0&&a>0)throw new L(N.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)n=i._apply(n);return n}var z0=class n extends q0{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=this._parse(e);return ZS(e._query,t),new ro(e.firestore,e.converter,Vv(e._query,t))}_parse(e){let t=qS(e.firestore);return function(o,s,a,u,l,h,p){let m;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new L(N.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){qA(p,h);let v=[];for(let A of p)v.push(HA(u,o,A));m={arrayValue:{values:v}}}else m=HA(u,o,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||qA(p,h),m=O3(a,s,p,h==="in"||h==="not-in");return $e.create(l,h,m)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};var G0=class n extends Oc{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:an.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(i,o){let s=i,a=o.getFlattenedFilters();for(let u of a)ZS(s,u),s=Vv(s,u)}(e._query,t),new ro(e.firestore,e.converter,Vv(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function HA(n,e,t){if(typeof(t=Ye(t))=="string"){if(t==="")throw new L(N.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!tS(e)&&t.indexOf("/")!==-1)throw new L(N.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let r=e.path.child(Pe.fromString(t));if(!G.isDocumentKey(r))throw new L(N.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return pA(n,new G(r))}if(t instanceof Et)return pA(n,t._key);throw new L(N.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${kh(t)}.`)}function qA(n,e){if(!Array.isArray(n)||n.length===0)throw new L(N.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ZS(n,e){let t=function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new L(N.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new L(N.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var W0=class{convertValue(e,t="none"){switch(Zi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Me(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Kr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw J()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return xs(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Me(s.doubleValue));return new Fc(o)}convertGeoPoint(e){return new Pc(Me(e.latitude),Me(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=Y0(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Dc(e));default:return null}}convertTimestamp(e){let t=ir(e);return new nt(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=Pe.fromString(e);Ce(IS(r));let i=new rh(r.get(1),r.get(3)),o=new G(r.popFirst(5));return i.isEqual(t)||rr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function V3(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var Ki=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Ah=class extends Th{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new vs(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(QS("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},vs=class extends Ah{data(e={}){return super.data(e)}},Sh=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Ki(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new vs(this._firestore,this._userDataWriter,r.key,r,new Ki(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new L(N.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new vs(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ki(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new vs(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ki(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:j3(a.type),doc:u,oldIndex:l,newIndex:h}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function j3(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return J()}}function XS(n){n=Mn(n,Et);let e=Mn(n.firestore,Jr);return R3(Uh(e),n._key).then(t=>r1(e,n,t))}var kc=class extends W0{constructor(e){super(),this.firestore=e}convertBytes(e){return new Nc(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Et(this.firestore,null,t)}};function e1(n){n=Mn(n,ro);let e=Mn(n.firestore,Jr),t=Uh(e),r=new kc(e);return YS(n._query),M3(t,n._query).then(i=>new Sh(e,r,n,i))}function t1(n,e,t){n=Mn(n,Et);let r=Mn(n.firestore,Jr),i=V3(n.converter,e,t);return B3(r,[F3(qS(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,Qi.none())])}function n1(n,...e){var t,r,i;n=Ye(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||$A(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if($A(e[s])){let p=e[s];e[s]=(t=p.next)===null||t===void 0?void 0:t.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(n instanceof Et)l=Mn(n.firestore,Jr),h=Mh(n._key.path),u={next:p=>{e[s]&&e[s](r1(l,n,p))},error:e[s+1],complete:e[s+2]};else{let p=Mn(n,ro);l=Mn(p.firestore,Jr),h=p._query;let m=new kc(l);u={next:v=>{e[s]&&e[s](new Sh(l,m,p,v))},error:e[s+1],complete:e[s+2]},YS(n._query)}return function(m,v,A,M){let R=new Mc(M),O=new Rc(v,R,A);return m.asyncQueue.enqueueAndForget(()=>_(this,null,function*(){return a_(yield Ih(m),O)})),()=>{R.Za(),m.asyncQueue.enqueueAndForget(()=>_(this,null,function*(){return c_(yield Ih(m),O)}))}}(Uh(l),h,a,u)}function B3(n,e){return function(r,i){let o=new on;return r.asyncQueue.enqueueAndForget(()=>_(this,null,function*(){return v3(yield S3(r),i,o)})),o.promise}(Uh(n),e)}function r1(n,e,t){let r=t.docs.get(e._key),i=new kc(n);return new Ah(n,i,e._key,r,new Ki(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){Ns=i})(Br),jr(new Wt("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new Jr(new _v(r.getProvider("auth-internal")),new Dv(r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new L(N.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new rh(l.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),We(lA,"4.7.3",e),We(lA,"4.7.3","esm2017")})();var ar=class{constructor(e){return e}},i1="firestore",h_=class{constructor(){return oc(i1)}};var f_=new B("angularfire2.firestore-instances");function $3(n,e){let t=bd(i1,n,e);return t&&new ar(t)}function H3(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new ar(r)}}var q3={provide:h_,deps:[[new _t,f_]]},z3={provide:ar,useFactory:$3,deps:[[new _t,f_],Xn]};function o1(n,...e){return We("angularfire",Vi.full,"fst"),qt([z3,q3,{provide:f_,useFactory:H3(n),multi:!0,deps:[Ee,bt,cs,ji,[new _t,pc],[new _t,as],...e]}])}var Lh=lt(jS,!0);var Vh=lt(BS,!0);var s1=lt(XS,!0);var a1=lt(e1,!0);var c1=lt($S,!0);var u1=lt(n1,!0);var l1=lt(JS,!0);var d1=lt(t1,!0);var Zr=class n{constructor(e){this.router=e;let t=Kt();ds(t,r=>_(this,null,function*(){r?(this.user$=this.getUserDatabase(),this.isAdmin=this.user$.isAdmin):this.user$=null}))}_auth=P(zi);_firestore=P(ar);docRef;docSnap;user$;user2;isAdmin=!1;userLogin(e,t){return _(this,null,function*(){let r=Kt();return yield sA(r,e,t).catch(i=>(console.log(i),null))})}getUserDatabase(){return _(this,null,function*(){let e=Kt(),t=Vh(this._firestore,"user",e.currentUser.uid);return(yield s1(t)).data()})}getUserLogged(){return Kt().currentUser}userLogout(){this.isAdmin=!1;let e=Kt();aA(e).then(()=>{console.log("Se cerro sesion correctamente")}).catch(t=>{console.log(t)})}static \u0275fac=function(t){return new(t||n)(Q(Oi))};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})};var Xr=class n{constructor(e){this.authService=e}ngOnInit(){}cerrarSesion(){this.authService.userLogout()}static \u0275fac=function(t){return new(t||n)(W(Zr))};static \u0275cmp=at({type:n,selectors:[["app-navbar"]],standalone:!0,features:[ct],decls:18,vars:0,consts:[[1,"navbar","navbar-expand-lg","navbar-dark","bg-dark"],[1,"container-fluid"],["routerLink","",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item"],["routerLink","",1,"nav-link"],["routerLink","/alta-producto",1,"nav-link"],["routerLink","login",1,"btn","btn-outline-warning"],[1,"btn","btn-outline-danger",2,"margin-left","10px",3,"click"]],template:function(t,r){t&1&&(H(0,"nav",0)(1,"div",1)(2,"a",2),Z(3,"LABORATORIO IV - PP"),j(),H(4,"button",3),Re(5,"span",4),j(),H(6,"div",5)(7,"ul",6)(8,"li",7)(9,"a",8),Z(10,"Home"),j()(),H(11,"li",7)(12,"a",9),Z(13,"Alta Producto"),j()()(),H(14,"a",10),Z(15,"LOGIN"),j(),H(16,"a",11),Ge("click",function(){return r.cerrarSesion()}),Z(17,"LOGOUT"),j()()()())},dependencies:[Nb]})};var jh=class n{constructor(e,t){this.http=e;this.authService=t}miPerfil=null;user;ngOnInit(){this.http.get("https://api.github.com/users/IgnacioEnriquez").subscribe(t=>{this.miPerfil=t,console.log(t)});let e=Kt();ds(e,t=>_(this,null,function*(){t?this.authService.getUserDatabase().then(r=>{this.user=r}).catch(r=>{console.log(r)}):this.user=null}))}static \u0275fac=function(t){return new(t||n)(W(om),W(Zr))};static \u0275cmp=at({type:n,selectors:[["app-bienvenida"]],standalone:!0,features:[ct],decls:24,vars:8,consts:[[1,"container-quien-soy"],[1,"container-img"],[1,"card",2,"width","18rem"],["alt","Card image",1,"card-img",3,"src"],[1,"container-game"],[1,"card","text-center",2,"height","22rem","width","28rem"],[1,"card-header"],[1,"card-body"],[1,"card-footer","text-muted"]],template:function(t,r){t&1&&(Re(0,"app-navbar"),H(1,"div",0)(2,"div",1)(3,"div",2),Re(4,"img",3),j()(),H(5,"div",4)(6,"div",5)(7,"div",6),Z(8),j(),H(9,"div",7)(10,"p"),Z(11),j(),H(12,"p"),Z(13),j(),H(14,"p"),Z(15),j(),H(16,"p"),Z(17),j(),H(18,"p"),Z(19),j(),H(20,"p"),Z(21),j()(),H(22,"div",8),Z(23," 2024 "),j()()()()),t&2&&(ye(4),Ci("src",r.miPerfil.avatar_url,Ii),ye(4),St(" ",r.miPerfil.name," "),ye(3),St("Seguidores: ",r.miPerfil.followers,""),ye(2),St("Siguiendo: ",r.miPerfil.following,""),ye(2),St("Fecha de Creacion: ",r.miPerfil.created_at,""),ye(2),St("Repositorios: ",r.miPerfil.public_repos,""),ye(2),St("ID del Usuario: ",r.miPerfil.id,""),ye(2),St("Url del Usuario: ",r.miPerfil.html_url,""))},dependencies:[Xr],styles:['@font-face{font-family:Abel;font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/abel/v18/MwQ5bhbm2POE2V9BPQ.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Aguafina Script;font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/aguafinascript/v22/If2QXTv_ZzSxGIO30LemWEOmt1b3o8Qosic.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Aguafina Script;font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/aguafinascript/v22/If2QXTv_ZzSxGIO30LemWEOmt1b3rcQo.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Artifika;font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/artifika/v21/VEMyRoxzronptCuxu5Wq7DE.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Athiti;font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/athiti/v12/pe0vMISdLIZIv1wIHxJXOtY.woff2) format("woff2");unicode-range:U+02D7,U+0303,U+0331,U+0E01-0E5B,U+200C-200D,U+25CC}@font-face{font-family:Athiti;font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/athiti/v12/pe0vMISdLIZIv1wIBBJXOtY.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Athiti;font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/athiti/v12/pe0vMISdLIZIv1wIBRJXOtY.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Athiti;font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/athiti/v12/pe0vMISdLIZIv1wICxJX.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Condiment;font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/condiment/v24/pONk1hggFNmwvXALyH6iooP5k1s.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Condiment;font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/condiment/v24/pONk1hggFNmwvXALyH6irIP5.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Dosis;font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/dosis/v32/HhyJU5sn9vOmLxNkIwRSjTVNWLEJN7Ml1BMEfq4.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Dosis;font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/dosis/v32/HhyJU5sn9vOmLxNkIwRSjTVNWLEJN7Ml1RMEfq4.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Dosis;font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/dosis/v32/HhyJU5sn9vOmLxNkIwRSjTVNWLEJN7Ml2xME.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:"Droid Serif";font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/droidserif/v19/tDbI2oqRg1oM3QBjjcaDkOr9rAU.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Farsan;font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/farsan/v22/VEMwRoJ0vY_zsyzKxqWo9DU.woff2) format("woff2");unicode-range:U+0951-0952,U+0964-0965,U+0A80-0AFF,U+200C-200D,U+20B9,U+25CC,U+A830-A839}@font-face{font-family:Farsan;font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/farsan/v22/VEMwRoJ0vY_zsyzK0qWo9DU.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Farsan;font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/farsan/v22/VEMwRoJ0vY_zsyzK06Wo9DU.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Farsan;font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/farsan/v22/VEMwRoJ0vY_zsyzK3aWo.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Gurajada;font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/gurajada/v19/FwZY7-Qx308m-l-0Ke6b6MmTpA.woff2) format("woff2");unicode-range:U+0951-0952,U+0964-0965,U+0C00-0C7F,U+1CDA,U+1CF2,U+200C-200D,U+25CC}@font-face{font-family:Gurajada;font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/gurajada/v19/FwZY7-Qx308m-l-0Ke6H6Mk.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Josefin Sans;font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/josefinsans/v32/Qw3PZQNVED7rKGKxtqIqX5E-AVSJrOCfjY46_DjQbMlhLzTs.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Josefin Sans;font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/josefinsans/v32/Qw3PZQNVED7rKGKxtqIqX5E-AVSJrOCfjY46_DjQbMhhLzTs.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Josefin Sans;font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/josefinsans/v32/Qw3PZQNVED7rKGKxtqIqX5E-AVSJrOCfjY46_DjQbMZhLw.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Lato;font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/lato/v24/S6uyw4BMUTPHjxAwXjeu.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Lato;font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/lato/v24/S6uyw4BMUTPHjx4wXg.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Lora;font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/lora/v35/0QI6MX1D_JOuGQbT0gvTJPa787weuxJMkq1umA.woff2) format("woff2");unicode-range:U+0460-052F,U+1C80-1C8A,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:Lora;font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/lora/v35/0QI6MX1D_JOuGQbT0gvTJPa787weuxJFkq1umA.woff2) format("woff2");unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:Lora;font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/lora/v35/0QI6MX1D_JOuGQbT0gvTJPa787weuxI9kq1umA.woff2) format("woff2");unicode-range:U+0302-0303,U+0305,U+0307-0308,U+0310,U+0312,U+0315,U+031A,U+0326-0327,U+032C,U+032F-0330,U+0332-0333,U+0338,U+033A,U+0346,U+034D,U+0391-03A1,U+03A3-03A9,U+03B1-03C9,U+03D1,U+03D5-03D6,U+03F0-03F1,U+03F4-03F5,U+2016-2017,U+2034-2038,U+203C,U+2040,U+2043,U+2047,U+2050,U+2057,U+205F,U+2070-2071,U+2074-208E,U+2090-209C,U+20D0-20DC,U+20E1,U+20E5-20EF,U+2100-2112,U+2114-2115,U+2117-2121,U+2123-214F,U+2190,U+2192,U+2194-21AE,U+21B0-21E5,U+21F1-21F2,U+21F4-2211,U+2213-2214,U+2216-22FF,U+2308-230B,U+2310,U+2319,U+231C-2321,U+2336-237A,U+237C,U+2395,U+239B-23B7,U+23D0,U+23DC-23E1,U+2474-2475,U+25AF,U+25B3,U+25B7,U+25BD,U+25C1,U+25CA,U+25CC,U+25FB,U+266D-266F,U+27C0-27FF,U+2900-2AFF,U+2B0E-2B11,U+2B30-2B4C,U+2BFE,U+3030,U+FF5B,U+FF5D,U+1D400-1D7FF,U+1EE00-1EEFF}@font-face{font-family:Lora;font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/lora/v35/0QI6MX1D_JOuGQbT0gvTJPa787weuxIvkq1umA.woff2) format("woff2");unicode-range:U+0001-000C,U+000E-001F,U+007F-009F,U+20DD-20E0,U+20E2-20E4,U+2150-218F,U+2190,U+2192,U+2194-2199,U+21AF,U+21E6-21F0,U+21F3,U+2218-2219,U+2299,U+22C4-22C6,U+2300-243F,U+2440-244A,U+2460-24FF,U+25A0-27BF,U+2800-28FF,U+2921-2922,U+2981,U+29BF,U+29EB,U+2B00-2BFF,U+4DC0-4DFF,U+FFF9-FFFB,U+10140-1018E,U+10190-1019C,U+101A0,U+101D0-101FD,U+102E0-102FB,U+10E60-10E7E,U+1D2C0-1D2D3,U+1D2E0-1D37F,U+1F000-1F0FF,U+1F100-1F1AD,U+1F1E6-1F1FF,U+1F30D-1F30F,U+1F315,U+1F31C,U+1F31E,U+1F320-1F32C,U+1F336,U+1F378,U+1F37D,U+1F382,U+1F393-1F39F,U+1F3A7-1F3A8,U+1F3AC-1F3AF,U+1F3C2,U+1F3C4-1F3C6,U+1F3CA-1F3CE,U+1F3D4-1F3E0,U+1F3ED,U+1F3F1-1F3F3,U+1F3F5-1F3F7,U+1F408,U+1F415,U+1F41F,U+1F426,U+1F43F,U+1F441-1F442,U+1F444,U+1F446-1F449,U+1F44C-1F44E,U+1F453,U+1F46A,U+1F47D,U+1F4A3,U+1F4B0,U+1F4B3,U+1F4B9,U+1F4BB,U+1F4BF,U+1F4C8-1F4CB,U+1F4D6,U+1F4DA,U+1F4DF,U+1F4E3-1F4E6,U+1F4EA-1F4ED,U+1F4F7,U+1F4F9-1F4FB,U+1F4FD-1F4FE,U+1F503,U+1F507-1F50B,U+1F50D,U+1F512-1F513,U+1F53E-1F54A,U+1F54F-1F5FA,U+1F610,U+1F650-1F67F,U+1F687,U+1F68D,U+1F691,U+1F694,U+1F698,U+1F6AD,U+1F6B2,U+1F6B9-1F6BA,U+1F6BC,U+1F6C6-1F6CF,U+1F6D3-1F6D7,U+1F6E0-1F6EA,U+1F6F0-1F6F3,U+1F6F7-1F6FC,U+1F700-1F7FF,U+1F800-1F80B,U+1F810-1F847,U+1F850-1F859,U+1F860-1F887,U+1F890-1F8AD,U+1F8B0-1F8BB,U+1F8C0-1F8C1,U+1F900-1F90B,U+1F93B,U+1F946,U+1F984,U+1F996,U+1F9E9,U+1FA00-1FA6F,U+1FA70-1FA7C,U+1FA80-1FA89,U+1FA8F-1FAC6,U+1FACE-1FADC,U+1FADF-1FAE9,U+1FAF0-1FAF8,U+1FB00-1FBFF}@font-face{font-family:Lora;font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/lora/v35/0QI6MX1D_JOuGQbT0gvTJPa787weuxJOkq1umA.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Lora;font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/lora/v35/0QI6MX1D_JOuGQbT0gvTJPa787weuxJPkq1umA.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Lora;font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/lora/v35/0QI6MX1D_JOuGQbT0gvTJPa787weuxJBkq0.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Merriweather;font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/merriweather/v30/u-440qyriQwlOrhSvowK_l5-cSZMZ-Y.woff2) format("woff2");unicode-range:U+0460-052F,U+1C80-1C8A,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:Merriweather;font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/merriweather/v30/u-440qyriQwlOrhSvowK_l5-eCZMZ-Y.woff2) format("woff2");unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:Merriweather;font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/merriweather/v30/u-440qyriQwlOrhSvowK_l5-cyZMZ-Y.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Merriweather;font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/merriweather/v30/u-440qyriQwlOrhSvowK_l5-ciZMZ-Y.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Merriweather;font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/merriweather/v30/u-440qyriQwlOrhSvowK_l5-fCZM.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:"Noto Serif";font-style:normal;font-weight:400;font-stretch:100%;src:url(https://fonts.gstatic.com/s/notoserif/v23/ga6iaw1J5X9T9RW6j9bNVls-hfgvz8JcMofYTa32J4wsL2JAlAhZqFCTyscKtq8.woff2) format("woff2");unicode-range:U+0460-052F,U+1C80-1C8A,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:"Noto Serif";font-style:normal;font-weight:400;font-stretch:100%;src:url(https://fonts.gstatic.com/s/notoserif/v23/ga6iaw1J5X9T9RW6j9bNVls-hfgvz8JcMofYTa32J4wsL2JAlAhZqFCTw8cKtq8.woff2) format("woff2");unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:"Noto Serif";font-style:normal;font-weight:400;font-stretch:100%;src:url(https://fonts.gstatic.com/s/notoserif/v23/ga6iaw1J5X9T9RW6j9bNVls-hfgvz8JcMofYTa32J4wsL2JAlAhZqFCTy8cKtq8.woff2) format("woff2");unicode-range:U+1F00-1FFF}@font-face{font-family:"Noto Serif";font-style:normal;font-weight:400;font-stretch:100%;src:url(https://fonts.gstatic.com/s/notoserif/v23/ga6iaw1J5X9T9RW6j9bNVls-hfgvz8JcMofYTa32J4wsL2JAlAhZqFCTxMcKtq8.woff2) format("woff2");unicode-range:U+0370-0377,U+037A-037F,U+0384-038A,U+038C,U+038E-03A1,U+03A3-03FF}@font-face{font-family:"Noto Serif";font-style:normal;font-weight:400;font-stretch:100%;src:url(https://fonts.gstatic.com/s/notoserif/v23/ga6iaw1J5X9T9RW6j9bNVls-hfgvz8JcMofYTa32J4wsL2JAlAhZqFCTyMcKtq8.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:"Noto Serif";font-style:normal;font-weight:400;font-stretch:100%;src:url(https://fonts.gstatic.com/s/notoserif/v23/ga6iaw1J5X9T9RW6j9bNVls-hfgvz8JcMofYTa32J4wsL2JAlAhZqFCTyccKtq8.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:"Noto Serif";font-style:normal;font-weight:400;font-stretch:100%;src:url(https://fonts.gstatic.com/s/notoserif/v23/ga6iaw1J5X9T9RW6j9bNVls-hfgvz8JcMofYTa32J4wsL2JAlAhZqFCTx8cK.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Open Sans Condensed;font-style:normal;font-weight:300;src:url(https://fonts.gstatic.com/s/opensanscondensed/v23/z7NFdQDnbTkabZAIOl9il_O6KJj73e7Ff1GhDujMR6WR.woff2) format("woff2");unicode-range:U+0460-052F,U+1C80-1C8A,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:Open Sans Condensed;font-style:normal;font-weight:300;src:url(https://fonts.gstatic.com/s/opensanscondensed/v23/z7NFdQDnbTkabZAIOl9il_O6KJj73e7Ff1GhDuHMR6WR.woff2) format("woff2");unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:Open Sans Condensed;font-style:normal;font-weight:300;src:url(https://fonts.gstatic.com/s/opensanscondensed/v23/z7NFdQDnbTkabZAIOl9il_O6KJj73e7Ff1GhDunMR6WR.woff2) format("woff2");unicode-range:U+1F00-1FFF}@font-face{font-family:Open Sans Condensed;font-style:normal;font-weight:300;src:url(https://fonts.gstatic.com/s/opensanscondensed/v23/z7NFdQDnbTkabZAIOl9il_O6KJj73e7Ff1GhDubMR6WR.woff2) format("woff2");unicode-range:U+0370-0377,U+037A-037F,U+0384-038A,U+038C,U+038E-03A1,U+03A3-03FF}@font-face{font-family:Open Sans Condensed;font-style:normal;font-weight:300;src:url(https://fonts.gstatic.com/s/opensanscondensed/v23/z7NFdQDnbTkabZAIOl9il_O6KJj73e7Ff1GhDurMR6WR.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Open Sans Condensed;font-style:normal;font-weight:300;src:url(https://fonts.gstatic.com/s/opensanscondensed/v23/z7NFdQDnbTkabZAIOl9il_O6KJj73e7Ff1GhDuvMR6WR.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Open Sans Condensed;font-style:normal;font-weight:300;src:url(https://fonts.gstatic.com/s/opensanscondensed/v23/z7NFdQDnbTkabZAIOl9il_O6KJj73e7Ff1GhDuXMRw.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Playfair Display;font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/playfairdisplay/v37/nuFvD-vYSZviVYUb_rj3ij__anPXJzDwcbmjWBN2PKdFvXDTbtPY_Q.woff2) format("woff2");unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:Playfair Display;font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/playfairdisplay/v37/nuFvD-vYSZviVYUb_rj3ij__anPXJzDwcbmjWBN2PKdFvXDYbtPY_Q.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Playfair Display;font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/playfairdisplay/v37/nuFvD-vYSZviVYUb_rj3ij__anPXJzDwcbmjWBN2PKdFvXDZbtPY_Q.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Playfair Display;font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/playfairdisplay/v37/nuFvD-vYSZviVYUb_rj3ij__anPXJzDwcbmjWBN2PKdFvXDXbtM.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Rasa;font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/rasa/v22/xn76YHIn1mWmVKl8ZtAM9NrJfN5GJV4pd8r92A.woff2) format("woff2");unicode-range:U+0951-0952,U+0964-0965,U+0A80-0AFF,U+200C-200D,U+20B9,U+25CC,U+A830-A839}@font-face{font-family:Rasa;font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/rasa/v22/xn76YHIn1mWmVKl8ZtAM9NrJfN5GJV49d8r92A.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Rasa;font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/rasa/v22/xn76YHIn1mWmVKl8ZtAM9NrJfN5GJV48d8r92A.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Rasa;font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/rasa/v22/xn76YHIn1mWmVKl8ZtAM9NrJfN5GJV4yd8o.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Sahitya;font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/sahitya/v17/6qLAKZkOuhnuqlJAWSEPPhwE.woff2) format("woff2");unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+20F0,U+25CC,U+A830-A839,U+A8E0-A8FF,U+11B00-11B09}@font-face{font-family:Sahitya;font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/sahitya/v17/6qLAKZkOuhnuqlJAWSAPPg.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Share Tech;font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/sharetech/v21/7cHtv4Uyi5K0OeZ7bohU8H0JmA.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Text Me One;font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/textmeone/v24/i7dOIFdlayuLUvgoFvHQFVZVYFeCGg.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Text Me One;font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/textmeone/v24/i7dOIFdlayuLUvgoFvHQFVZbYFc.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Titillium Web;font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/titilliumweb/v17/NaPecZTIAOhVxoMyOr9n_E7fdM3mDbRS.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Titillium Web;font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/titilliumweb/v17/NaPecZTIAOhVxoMyOr9n_E7fdMPmDQ.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Fira Sans;font-style:italic;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/firasans/v17/va9f4kDNxMZdWfMOD5VvkrAWRSf1VFn2lg.woff2) format("woff2");unicode-range:U+0460-052F,U+1C80-1C8A,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:Fira Sans;font-style:italic;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/firasans/v17/va9f4kDNxMZdWfMOD5VvkrAWRSf8VFn2lg.woff2) format("woff2");unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:Fira Sans;font-style:italic;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/firasans/v17/va9f4kDNxMZdWfMOD5VvkrAWRSf0VFn2lg.woff2) format("woff2");unicode-range:U+1F00-1FFF}@font-face{font-family:Fira Sans;font-style:italic;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/firasans/v17/va9f4kDNxMZdWfMOD5VvkrAWRSf7VFn2lg.woff2) format("woff2");unicode-range:U+0370-0377,U+037A-037F,U+0384-038A,U+038C,U+038E-03A1,U+03A3-03FF}@font-face{font-family:Fira Sans;font-style:italic;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/firasans/v17/va9f4kDNxMZdWfMOD5VvkrAWRSf3VFn2lg.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Fira Sans;font-style:italic;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/firasans/v17/va9f4kDNxMZdWfMOD5VvkrAWRSf2VFn2lg.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Fira Sans;font-style:italic;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/firasans/v17/va9f4kDNxMZdWfMOD5VvkrAWRSf4VFk.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Fira Sans;font-style:italic;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/firasans/v17/va9f4kDNxMZdWfMOD5VvkrByRCf1VFn2lg.woff2) format("woff2");unicode-range:U+0460-052F,U+1C80-1C8A,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:Fira Sans;font-style:italic;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/firasans/v17/va9f4kDNxMZdWfMOD5VvkrByRCf8VFn2lg.woff2) format("woff2");unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:Fira Sans;font-style:italic;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/firasans/v17/va9f4kDNxMZdWfMOD5VvkrByRCf0VFn2lg.woff2) format("woff2");unicode-range:U+1F00-1FFF}@font-face{font-family:Fira Sans;font-style:italic;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/firasans/v17/va9f4kDNxMZdWfMOD5VvkrByRCf7VFn2lg.woff2) format("woff2");unicode-range:U+0370-0377,U+037A-037F,U+0384-038A,U+038C,U+038E-03A1,U+03A3-03FF}@font-face{font-family:Fira Sans;font-style:italic;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/firasans/v17/va9f4kDNxMZdWfMOD5VvkrByRCf3VFn2lg.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Fira Sans;font-style:italic;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/firasans/v17/va9f4kDNxMZdWfMOD5VvkrByRCf2VFn2lg.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Fira Sans;font-style:italic;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/firasans/v17/va9f4kDNxMZdWfMOD5VvkrByRCf4VFk.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Ubuntu;font-style:italic;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/ubuntu/v20/4iCp6KVjbNBYlgoKejZftVyCN4Ffgg.woff2) format("woff2");unicode-range:U+0460-052F,U+1C80-1C8A,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:Ubuntu;font-style:italic;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/ubuntu/v20/4iCp6KVjbNBYlgoKejZftVyLN4Ffgg.woff2) format("woff2");unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:Ubuntu;font-style:italic;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/ubuntu/v20/4iCp6KVjbNBYlgoKejZftVyDN4Ffgg.woff2) format("woff2");unicode-range:U+1F00-1FFF}@font-face{font-family:Ubuntu;font-style:italic;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/ubuntu/v20/4iCp6KVjbNBYlgoKejZftVyMN4Ffgg.woff2) format("woff2");unicode-range:U+0370-0377,U+037A-037F,U+0384-038A,U+038C,U+038E-03A1,U+03A3-03FF}@font-face{font-family:Ubuntu;font-style:italic;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/ubuntu/v20/4iCp6KVjbNBYlgoKejZftVyBN4Ffgg.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Ubuntu;font-style:italic;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/ubuntu/v20/4iCp6KVjbNBYlgoKejZftVyPN4E.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Ubuntu;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/ubuntu/v20/4iCv6KVjbNBYlgoC1CzjvWyNL4U.woff2) format("woff2");unicode-range:U+0460-052F,U+1C80-1C8A,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:Ubuntu;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/ubuntu/v20/4iCv6KVjbNBYlgoC1CzjtGyNL4U.woff2) format("woff2");unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:Ubuntu;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/ubuntu/v20/4iCv6KVjbNBYlgoC1CzjvGyNL4U.woff2) format("woff2");unicode-range:U+1F00-1FFF}@font-face{font-family:Ubuntu;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/ubuntu/v20/4iCv6KVjbNBYlgoC1Czjs2yNL4U.woff2) format("woff2");unicode-range:U+0370-0377,U+037A-037F,U+0384-038A,U+038C,U+038E-03A1,U+03A3-03FF}@font-face{font-family:Ubuntu;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/ubuntu/v20/4iCv6KVjbNBYlgoC1CzjvmyNL4U.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Ubuntu;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/ubuntu/v20/4iCv6KVjbNBYlgoC1CzjsGyN.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}.container-quien-soy[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-evenly;width:100%;height:82.4vh}.container-img[_ngcontent-%COMP%]{width:18rem}.buttons-perfil[_ngcontent-%COMP%]{margin-top:10px;display:flex;justify-content:space-between}.btn[_ngcontent-%COMP%]{display:grid;place-items:center;background:#000;padding:1.4em;border-radius:10px;box-shadow:6px 6px 10px -1px #00000026,-6px -6px 10px -1px #00000026;border:1px solid rgba(0,0,0,0);cursor:pointer;transition:transform .5s}.btn[_ngcontent-%COMP%]:hover{box-shadow:inset 4px 4px 6px -1px #0003,inset -4px -4px 6px -1px #ffffffb3,-.5px -.5px #fff,.5px .5px #00000026,0 12px 10px -10px #0000000d;border:1px solid rgba(0,0,0,.1);transform:translateY(.5em)}.btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{transition:transform .5s}.btn[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{transform:scale(.9)}p[_ngcontent-%COMP%]{margin-left:30px;margin-right:30px}']})};var Bc=class{name;email;password;createdAt;constructor(){this.name="",this.email="",this.password="",this.createdAt=0}};var w1=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(r){return new(r||n)(W(Ei),W(Rr))}}static{this.\u0275dir=ze({type:n})}}return n})(),I1=(()=>{class n extends w1{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=wi(n)))(i||n)}})()}static{this.\u0275dir=ze({type:n,features:[tn]})}}return n})(),Yh=new B("");var G3={provide:Yh,useExisting:Bn(()=>Ls),multi:!0};function W3(){let n=Wn()?Wn().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var K3=new B(""),Ls=(()=>{class n extends w1{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!W3())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(r){return new(r||n)(W(Ei),W(Rr),W(K3,8))}}static{this.\u0275dir=ze({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Ge("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[bi([G3]),tn]})}}return n})();function ei(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}function E1(n){return n!=null&&typeof n.length=="number"}var Jh=new B(""),I_=new B(""),Q3=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,cn=class{static min(e){return Y3(e)}static max(e){return J3(e)}static required(e){return D1(e)}static requiredTrue(e){return Z3(e)}static email(e){return X3(e)}static minLength(e){return e$(e)}static maxLength(e){return t$(e)}static pattern(e){return n$(e)}static nullValidator(e){return $h(e)}static compose(e){return R1(e)}static composeAsync(e){return N1(e)}};function Y3(n){return e=>{if(ei(e.value)||ei(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function J3(n){return e=>{if(ei(e.value)||ei(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function D1(n){return ei(n.value)?{required:!0}:null}function Z3(n){return n.value===!0?null:{required:!0}}function X3(n){return ei(n.value)||Q3.test(n.value)?null:{email:!0}}function e$(n){return e=>ei(e.value)||!E1(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}function t$(n){return e=>E1(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function n$(n){if(!n)return $h;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(ei(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function $h(n){return null}function C1(n){return n!=null}function b1(n){return Ti(n)?Ne(n):n}function T1(n){let e={};return n.forEach(t=>{e=t!=null?k(k({},e),t):e}),Object.keys(e).length===0?null:e}function A1(n,e){return e.map(t=>t(n))}function r$(n){return!n.validate}function S1(n){return n.map(e=>r$(e)?e:t=>e.validate(t))}function R1(n){if(!n)return null;let e=n.filter(C1);return e.length==0?null:function(t){return T1(A1(t,e))}}function M1(n){return n!=null?R1(S1(n)):null}function N1(n){if(!n)return null;let e=n.filter(C1);return e.length==0?null:function(t){let r=A1(t,e).map(b1);return ip(r).pipe(ie(T1))}}function x1(n){return n!=null?N1(S1(n)):null}function h1(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function P1(n){return n._rawValidators}function F1(n){return n._rawAsyncValidators}function g_(n){return n?Array.isArray(n)?n:[n]:[]}function Hh(n,e){return Array.isArray(n)?n.includes(e):n===e}function f1(n,e){let t=g_(e);return g_(n).forEach(i=>{Hh(t,i)||t.push(i)}),t}function p1(n,e){return g_(e).filter(t=>!Hh(n,t))}var qh=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=M1(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=x1(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},oo=class extends qh{get formDirective(){return null}get path(){return null}},so=class extends qh{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},zh=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},i$={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},SK=ue(k({},i$),{"[class.ng-submitted]":"isSubmitted"}),Zh=(()=>{class n extends zh{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(W(so,2))}}static{this.\u0275dir=ze({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Bl("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[tn]})}}return n})(),O1=(()=>{class n extends zh{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(W(oo,10))}}static{this.\u0275dir=ze({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Bl("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[tn]})}}return n})();var $c="VALID",Bh="INVALID",Os="PENDING",Hc="DISABLED",ti=class{},Gh=class extends ti{constructor(e,t){super(),this.value=e,this.source=t}},qc=class extends ti{constructor(e,t){super(),this.pristine=e,this.source=t}},zc=class extends ti{constructor(e,t){super(),this.touched=e,this.source=t}},ks=class extends ti{constructor(e,t){super(),this.status=e,this.source=t}},m_=class extends ti{constructor(e){super(),this.source=e}},y_=class extends ti{constructor(e){super(),this.source=e}};function E_(n){return(Xh(n)?n.validators:n)||null}function o$(n){return Array.isArray(n)?M1(n):n||null}function D_(n,e){return(Xh(e)?e.asyncValidators:n)||null}function s$(n){return Array.isArray(n)?x1(n):n||null}function Xh(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function k1(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new z(1e3,"");if(!r[t])throw new z(1001,"")}function U1(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new z(1002,"")})}var Us=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Ta(()=>this.statusReactive()),this.statusReactive=Ca(void 0),this._pristine=Ta(()=>this.pristineReactive()),this.pristineReactive=Ca(!0),this._touched=Ta(()=>this.touchedReactive()),this.touchedReactive=Ca(!1),this._events=new Ke,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Gn(this.statusReactive)}set status(e){Gn(()=>this.statusReactive.set(e))}get valid(){return this.status===$c}get invalid(){return this.status===Bh}get pending(){return this.status==Os}get disabled(){return this.status===Hc}get enabled(){return this.status!==Hc}get pristine(){return Gn(this.pristineReactive)}set pristine(e){Gn(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return Gn(this.touchedReactive)}set touched(e){Gn(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(f1(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(f1(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(p1(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(p1(e,this._rawAsyncValidators))}hasValidator(e){return Hh(this._rawValidators,e)}hasAsyncValidator(e){return Hh(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ue(k({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new zc(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new zc(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ue(k({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new qc(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new qc(!0,r))}markAsPending(e={}){this.status=Os;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ks(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ue(k({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Hc,this.errors=null,this._forEachChild(i=>{i.disable(ue(k({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Gh(this.value,r)),this._events.next(new ks(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ue(k({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=$c,this._forEachChild(r=>{r.enable(ue(k({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ue(k({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===$c||this.status===Os)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Gh(this.value,t)),this._events.next(new ks(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ue(k({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Hc:$c}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=Os,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=b1(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new ks(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new xe,this.statusChanges=new xe}_calculateStatus(){return this._allControlsDisabled()?Hc:this.errors?Bh:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Os)?Os:this._anyControlsHaveStatus(Bh)?Bh:$c}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new qc(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new zc(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Xh(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=o$(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=s$(this._rawAsyncValidators)}},Wh=class extends Us{constructor(e,t,r){super(E_(t),D_(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){U1(this,!0,e),Object.keys(e).forEach(r=>{k1(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var v_=class extends Wh{};var ef=new B("CallSetDisabledState",{providedIn:"root",factory:()=>tf}),tf="always";function L1(n,e){return[...e.path,n]}function __(n,e,t=tf){C_(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),c$(n,e),l$(n,e),u$(n,e),a$(n,e)}function g1(n,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Qh(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Kh(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function a$(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function C_(n,e){let t=P1(n);e.validator!==null?n.setValidators(h1(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=F1(n);e.asyncValidator!==null?n.setAsyncValidators(h1(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();Kh(e._rawValidators,i),Kh(e._rawAsyncValidators,i)}function Qh(n,e){let t=!1;if(n!==null){if(e.validator!==null){let i=P1(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(t=!0,n.setValidators(o))}}if(e.asyncValidator!==null){let i=F1(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(t=!0,n.setAsyncValidators(o))}}}let r=()=>{};return Kh(e._rawValidators,r),Kh(e._rawAsyncValidators,r),t}function c$(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&V1(n,e)})}function u$(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&V1(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function V1(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function l$(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function d$(n,e){n==null,C_(n,e)}function h$(n,e){return Qh(n,e)}function j1(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function f$(n){return Object.getPrototypeOf(n.constructor)===I1}function p$(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function B1(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===Ls?t=o:f$(o)?r=o:i=o}),i||r||t||null}function g$(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function m1(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function y1(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var Gc=class extends Us{constructor(e=null,t,r){super(E_(t),D_(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Xh(t)&&(t.nonNullable||t.initialValueIsDefault)&&(y1(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){m1(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){m1(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){y1(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var m$=n=>n instanceof Gc;var y$={provide:so,useExisting:Bn(()=>b_)},v1=Promise.resolve(),b_=(()=>{class n extends so{constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new Gc,this._registered=!1,this.name="",this.update=new xe,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=B1(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),j1(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){__(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){v1.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&xr(r);v1.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?L1(t,this._parent):[t]}static{this.\u0275fac=function(r){return new(r||n)(W(oo,9),W(Jh,10),W(I_,10),W(Yh,10),W(Ai,8),W(ef,8))}}static{this.\u0275dir=ze({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[bi([y$]),tn,yn]})}}return n})(),$1=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=ze({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})(),v$={provide:Yh,useExisting:Bn(()=>T_),multi:!0},T_=(()=>{class n extends I1{writeValue(t){let r=t??"";this.setProperty("value",r)}registerOnChange(t){this.onChange=r=>{t(r==""?null:parseFloat(r))}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=wi(n)))(i||n)}})()}static{this.\u0275dir=ze({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&Ge("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},features:[bi([v$]),tn]})}}return n})();var H1=new B("");var _$={provide:oo,useExisting:Bn(()=>A_)},A_=(()=>{class n extends oo{get submitted(){return Gn(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}constructor(t,r,i){super(),this.callSetDisabledState=i,this._submitted=Ta(()=>this._submittedReactive()),this._submittedReactive=Ca(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new xe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Qh(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return __(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){g1(t.control||null,t,!1),g$(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),p$(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new m_(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new y_(this.form))}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,i=this.form.get(t.path);r!==i&&(g1(r||null,t),m$(i)&&(__(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);d$(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&h$(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){C_(this.form,this),this._oldForm&&Qh(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(r){return new(r||n)(W(Jh,10),W(I_,10),W(ef,8))}}static{this.\u0275dir=ze({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&Ge("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[bi([_$]),tn,yn]})}}return n})();var w$={provide:so,useExisting:Bn(()=>S_)},S_=(()=>{class n extends so{set isDisabled(t){}static{this._ngModelWarningSentOnce=!1}constructor(t,r,i,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new xe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=B1(this,o)}ngOnChanges(t){this._added||this._setUpControl(),j1(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return L1(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||n)(W(oo,13),W(Jh,10),W(I_,10),W(Yh,10),W(H1,8))}}static{this.\u0275dir=ze({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[bi([w$]),tn,yn]})}}return n})();var I$=(()=>{class n{constructor(){this._validator=$h}ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):$h,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=ze({type:n,features:[yn]})}}return n})();var E$={provide:Jh,useExisting:Bn(()=>R_),multi:!0};var R_=(()=>{class n extends I${constructor(){super(...arguments),this.inputName="required",this.normalizeInput=xr,this.createValidator=t=>D1}enabled(t){return t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=wi(n)))(i||n)}})()}static{this.\u0275dir=ze({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&ba("required",i._enabled?"":null)},inputs:{required:"required"},features:[bi([E$]),tn]})}}return n})();var q1=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Hn({type:n})}static{this.\u0275inj=$n({})}}return n})(),w_=class extends Us{constructor(e,t,r){super(E_(t),D_(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){U1(this,!1,e),e.forEach((r,i)=>{k1(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>r._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function _1(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var z1=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,r=null){let i=this._reduceControls(t),o={};return _1(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new Wh(i,o)}record(t,r=null){let i=this._reduceControls(t);return new v_(i,r)}control(t,r,i){let o={};return this.useNonNullable?(_1(r)?o=r:(o.validators=r,o.asyncValidators=i),new Gc(t,ue(k({},o),{nonNullable:!0}))):new Gc(t,r,i)}array(t,r,i){let o=t.map(s=>this._createControl(s));return new w_(o,r,i)}_reduceControls(t){let r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){if(t instanceof Gc)return t;if(t instanceof Us)return t;if(Array.isArray(t)){let r=t[0],i=t.length>1?t[1]:null,o=t.length>2?t[2]:null;return this.control(r,i,o)}else return this.control(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Vs=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:ef,useValue:t.callSetDisabledState??tf}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Hn({type:n})}static{this.\u0275inj=$n({imports:[q1]})}}return n})(),nf=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:H1,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:ef,useValue:t.callSetDisabledState??tf}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Hn({type:n})}static{this.\u0275inj=$n({imports:[q1]})}}return n})();function D$(n,e){n&1&&(H(0,"div",3)(1,"div",4)(2,"span",5),Z(3,"Loading..."),j()()())}function C$(n,e){if(n&1){let t=$l();H(0,"div",6)(1,"h1",7),Z(2,"Iniciar Sesion "),j(),H(3,"p",8),Z(4," Complete los campos para iniciar sesi\xF3n o ingrese como "),H(5,"button",9),Ge("click",function(){Tr(t);let i=et();return Ar(i.loadFields(1))}),Z(6,"Empleado"),j(),Z(7," \xF3 "),H(8,"button",10),Ge("click",function(){Tr(t);let i=et();return Ar(i.loadFields(2))}),Z(9,"Administrador"),j()(),H(10,"div",11)(11,"input",12),ql("ngModelChange",function(i){Tr(t);let o=et();return Kg(o.userForm.email,i)||(o.userForm.email=i),Ar(i)}),j(),H(12,"label",13),Z(13,"Direccion de Email"),j()(),H(14,"div",11)(15,"input",14),ql("ngModelChange",function(i){Tr(t);let o=et();return Kg(o.userForm.password,i)||(o.userForm.password=i),Ar(i)}),j(),H(16,"label",15),Z(17,"Contrase\xF1a"),j()(),H(18,"button",16),Ge("click",function(i){Tr(t);let o=et();return Ar(o.login(i))}),Z(19,"Iniciar Sesion"),j()()}if(n&2){let t=et();ye(11),Hl("ngModel",t.userForm.email),ye(4),Hl("ngModel",t.userForm.password)}}var rf=class n{constructor(e,t){this.authService=e;this.router=t}user=new Bc;userForm=new Bc;spinner=!1;confirmPassword="";ngOnInit(){let e=Kt();ds(e,t=>_(this,null,function*(){t?this.authService.getUserDatabase().then(r=>{this.user=r}).catch(r=>{console.log(r)}):this.user=null}))}login(e){return _(this,null,function*(){this.spinner=!0,e.preventDefault(),this.userForm.email===""||this.userForm.password===""||this.confirmPassword===""?this.spinner=!1:this.userForm.password!==this.confirmPassword?this.spinner=!1:((yield this.authService.userLogin(this.userForm.email,this.userForm.password))&&(this.authService.getUserLogged()&&this.authService.getUserDatabase().then(r=>{this.user=r}).catch(r=>{console.log(r)}),setTimeout(()=>{this.spinner=!1,this.router.navigate([""])},2e3)),this.spinner=!1)})}loadFields(e){switch(e){case 1:this.confirmPassword="111111",this.userForm.email="empleado@gmail.com",this.userForm.password="111111";break;case 2:this.confirmPassword="soyadmin1234",this.userForm.email="admin@mail.com",this.userForm.password="soyadmin1234";break;default:break}}static \u0275fac=function(t){return new(t||n)(W(Zr),W(Oi))};static \u0275cmp=at({type:n,selectors:[["app-login"]],standalone:!0,features:[ct],decls:4,vars:2,consts:[[1,"text-center","body"],["class","contenedor-spinner",4,"ngIf"],["class","form-signin w-100 m-auto",4,"ngIf"],[1,"contenedor-spinner"],["role","status",1,"spinner-list","spinner-border","text-warning",2,"margin-top","200px"],[1,"visually-hidden"],[1,"form-signin","w-100","m-auto"],[1,"h3","fw-normal"],[2,"font-size","20px"],[1,"w-40","btn","btn-lg","btn-warning",2,"font-size","1.3rem",3,"click"],[1,"w-40","btn","btn-lg","btn-warning",3,"click"],[1,"form-floating"],["type","email","placeholder","name@example.com",1,"form-control",3,"ngModelChange","ngModel"],["for","floatingInput"],["type","password","placeholder","Contrasenia",1,"form-control",3,"ngModelChange","ngModel"],["for","floatingPassword"],[1,"w-100","btn","btn-lg","btn-warning",3,"click"]],template:function(t,r){t&1&&(Re(0,"app-navbar"),H(1,"div",0),It(2,D$,4,0,"div",1)(3,C$,20,2,"div",2),j()),t&2&&(ye(2),At("ngIf",r.spinner),ye(),At("ngIf",!r.spinner))},dependencies:[Ri,Ql,Vs,Ls,Zh,b_,Xr],styles:[".body[_ngcontent-%COMP%]{display:flex;align-items:center;background-color:#f5f5f5;padding-top:7px;height:500px}.contenedor-spinner[_ngcontent-%COMP%]{display:flex;width:100%;height:500px;justify-content:center}.contenedor-spinner[_ngcontent-%COMP%]   .spinner-list[_ngcontent-%COMP%]{--bs-spinner-width: 8rem;--bs-spinner-height: 8rem}.form-signin[_ngcontent-%COMP%]{max-width:450px;padding:17.3px}.form-signin[_ngcontent-%COMP%]   .form-floating[_ngcontent-%COMP%]:focus-within{z-index:2}.form-signin[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]{margin-bottom:-1px;border-bottom-right-radius:0;border-bottom-left-radius:0}.form-signin[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]{margin-bottom:10px;border-top-left-radius:0;border-top-right-radius:0}.button-sesion-rapida-invitado[_ngcontent-%COMP%], .button-sesion-rapida-admin[_ngcontent-%COMP%]{margin-top:10px}.container-buttons[_ngcontent-%COMP%]{display:flex}"]})};var Wc=class{codigo;descripcion;precio;stock;paisOrigen;constructor(e,t,r,i,o){this.codigo=e,this.descripcion=t,this.precio=r,this.stock=i,this.paisOrigen=o}};var of=class n{_firestore=P(ar);traerProductos(){return _(this,null,function*(){let e=Lh(this._firestore,"productos");return l1(e)})}crearProducto(e){return _(this,null,function*(){let t={codigo:e.codigo,descripcion:e.descripcion,precio:e.precio,stock:e.stock,paisOrigen:e.paisOrigen},r=yield a1(Lh(this._firestore,"productos")),i=Vh(Lh(this._firestore,"productos"));yield d1(i,t)})}static \u0275fac=function(t){return new(t||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})};function T$(n,e){n&1&&(H(0,"p",20),Z(1,"El campo es requerido"),j())}function A$(n,e){if(n&1&&(H(0,"small",21),Z(1),j()),n&2){let t=et(2);ye(),St(" El campo es demasiado corto (minimo ",t.forma.controls.codigo.errors.min.requiredLength,") ")}}function S$(n,e){if(n&1&&It(0,T$,2,0,"p",20)(1,A$,2,1,"small",21),n&2){let t=et();_n(t.forma.controls.codigo.errors.required?0:-1),ye(),_n(t.forma.controls.codigo.errors.min?1:-1)}}function R$(n,e){n&1&&(H(0,"p",20),Z(1,"El campo es requerido"),j())}function M$(n,e){if(n&1&&(H(0,"small",21),Z(1),j()),n&2){let t=et(2);ye(),St(" El campo es demasiado corto (minimo ",t.forma.controls.descripcion.errors.minlength.requiredLength,") ")}}function N$(n,e){if(n&1&&It(0,R$,2,0,"p",20)(1,M$,2,1,"small",21),n&2){let t=et();_n(t.forma.controls.descripcion.errors.required?0:-1),ye(),_n(t.forma.controls.descripcion.errors.minlength?1:-1)}}function x$(n,e){n&1&&(H(0,"p",20),Z(1,"El campo es requerido"),j())}function P$(n,e){if(n&1&&(H(0,"small",21),Z(1),j()),n&2){let t=et(2);ye(),St(" El campo es demasiado corto (minimo ",t.forma.controls.precio.errors.min.requiredLength,") ")}}function F$(n,e){if(n&1&&It(0,x$,2,0,"p",20)(1,P$,2,1,"small",21),n&2){let t=et();_n(t.forma.controls.precio.errors.required?0:-1),ye(),_n(t.forma.controls.precio.errors.min?1:-1)}}function O$(n,e){n&1&&(H(0,"small",21),Z(1," El stock es requerido "),j())}function k$(n,e){if(n&1&&Re(0,"img",22),n&2){let t=et();Ci("src",t.paisForm==null?null:t.paisForm.flags.png,Ii)}}function U$(n,e){n&1&&(H(0,"small",21),Z(1," El pais es requerido "),j())}var sf=class n{constructor(e,t){this.formBuilder=e;this.entidadesService=t}paisForm;listadoProductos=[];nuevoProducto=new Wc(0,"",0,0,{});forma;ngOnInit(){this.forma=this.formBuilder.group({codigo:["",[cn.required,cn.min(100)]],descripcion:["",[cn.required,cn.minLength(10)]],precio:["",[cn.required,cn.min(0)]],stock:["",cn.required],paisOrigen:["",cn.required]}),this.entidadesService.traerProductos().then(e=>{let t=u1(e,r=>{r.empty==!1&&r.forEach(i=>{this.listadoProductos.push(i.data())})})})}agregarProducto(){this.forma.setValue({codigo:this.forma.getRawValue().codigo,descripcion:this.forma.getRawValue().descripcion,precio:this.forma.getRawValue().precio,stock:this.forma.getRawValue().stock,paisOrigen:this.forma.getRawValue().paisOrigen}),this.forma.invalid?console.log("FORM INVALIDO"):(this.nuevoProducto.codigo=this.forma.getRawValue().codigo,this.nuevoProducto.descripcion=this.forma.getRawValue().descripcion,this.nuevoProducto.precio=this.forma.getRawValue().precio,this.nuevoProducto.stock=this.forma.getRawValue().stock,this.nuevoProducto.paisOrigen=this.paisForm,this.entidadesService.crearProducto(this.nuevoProducto),this.nuevoProducto=new Wc(0,"",0,0,{}),this.forma.reset(),this.paisForm=null,console.log("AGREGADO CON EXITO"))}static \u0275fac=function(t){return new(t||n)(W(z1),W(of))};static \u0275cmp=at({type:n,selectors:[["app-form-alta-producto"]],inputs:{paisForm:"paisForm"},standalone:!0,features:[ct],decls:34,vars:8,consts:[[3,"ngSubmit","formGroup"],[1,"mb-3","text-primary"],[1,"row","g-3"],[1,"col-md-3"],["for","codigo",1,"form-label"],["type","number","formControlName","codigo","formControlName","codigo","required","",1,"form-control"],[1,"col-sm-6"],["for","descripcion",1,"form-label"],["type","text","formControlName","descripcion","required","",1,"form-control"],["for","precio",1,"form-label"],["type","number","formControlName","precio","formControlName","precio","required","",1,"form-control"],["for","stock",1,"form-label"],["type","number","formControlName","stock","formControlName","stock","required","",1,"form-control"],["style","color: red; font-weight: bolder; text-shadow: 1px 1px 1px #000",4,"ngIf"],["for","paisOrigen",1,"form-label"],[2,"display","flex"],["type","text","formControlName","paisOrigen","required","","readonly","",1,"form-control",3,"ngModel"],["style",`
              margin-left: 1rem;
              width: 50px;
              height: 50px;
              border: 3px solid #000;
              border-radius: 50%;
            `,"alt","",3,"src",4,"ngIf"],[1,"my-4"],["type","submit",1,"w-100","btn","btn-primary","btn-lg"],[1,"text-danger","altura-error"],[2,"color","red","font-weight","bolder","text-shadow","1px 1px 1px #000"],["alt","",2,"margin-left","1rem","width","50px","height","50px","border","3px solid #000","border-radius","50%",3,"src"]],template:function(t,r){t&1&&(H(0,"form",0),Ge("ngSubmit",function(){return r.agregarProducto()}),H(1,"h4",1),Z(2,"DATOS PRODUCTO"),j(),H(3,"div",2)(4,"div",3)(5,"label",4),Z(6,"C\xF3digo"),j(),Re(7,"input",5),It(8,S$,2,2),j(),H(9,"div",6)(10,"label",7),Z(11,"Descripci\xF3n"),j(),Re(12,"input",8),It(13,N$,2,2),j(),H(14,"div",3)(15,"label",9),Z(16,"Precio"),j(),Re(17,"input",10),It(18,F$,2,2),j(),H(19,"div",3)(20,"label",11),Z(21,"Stock"),j(),Re(22,"input",12),It(23,O$,2,0,"small",13),j(),H(24,"div",6)(25,"label",14),Z(26,"Pais"),j(),H(27,"div",15),Re(28,"input",16),It(29,k$,1,1,"img",17),j(),It(30,U$,2,0,"small",13),j()(),Re(31,"hr",18),H(32,"button",19),Z(33," Registrar Producto "),j()()),t&2&&(At("formGroup",r.forma),ye(8),_n(r.forma.controls.codigo.errors!==null&&r.forma.controls.codigo.touched?8:-1),ye(5),_n(r.forma.controls.descripcion.errors!==null&&r.forma.controls.descripcion.touched?13:-1),ye(5),_n(r.forma.controls.precio.errors!==null&&r.forma.controls.precio.touched?18:-1),ye(5),At("ngIf",(r.forma.controls.stock.errors==null?null:r.forma.controls.stock.errors.required)&&r.forma.controls.stock.touched),ye(5),At("ngModel",r.paisForm==null?null:r.paisForm.name.common),ye(),At("ngIf",r.paisForm==null?null:r.paisForm.flags.png),ye(),At("ngIf",(r.forma.controls.paisOrigen.errors==null?null:r.forma.controls.paisOrigen.errors.required)&&r.forma.controls.paisOrigen.touched))},dependencies:[Vs,$1,Ls,T_,Zh,O1,R_,Ri,Ql,nf,A_,S_]})};var af=class n{constructor(){}traerPaises(){return _(this,null,function*(){try{return yield(yield fetch("https://restcountries.com/v3.1/all")).json()}catch(e){console.error(e)}})}static \u0275fac=function(t){return new(t||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})};function V$(n,e){if(n&1){let t=$l();H(0,"div",2),Ge("click",function(){let i=Tr(t).$implicit,o=et();return Ar(o.pasarPais(i))}),H(1,"div",3),Z(2),j(),H(3,"div",3),Re(4,"img",4),j()()}if(n&2){let t=e.$implicit;ye(2),Wg(t.name.common),ye(2),Ci("src",t.flags.png,Ii)}}var cf=class n{constructor(e){this.apiPaises=e}PasamosUnPais=new xe;listadoPaises;listadoPaisesEuropa;listadoReducido=[];ngOnInit(){this.traerPaises()}traerPaises(){return _(this,null,function*(){this.listadoPaises=yield this.apiPaises.traerPaises(),this.listadoPaisesEuropa=this.listadoPaises.filter(e=>e.continents[0]=="Europe").sort(()=>Math.random()-.5);for(let e=0;e<5;e++){let t=this.listadoPaisesEuropa[e];this.listadoReducido.push(t)}})}pasarPais(e){this.PasamosUnPais.emit(e)}static \u0275fac=function(t){return new(t||n)(W(af))};static \u0275cmp=at({type:n,selectors:[["app-listado-paises"]],outputs:{PasamosUnPais:"PasamosUnPais"},standalone:!0,features:[ct],decls:2,vars:1,consts:[[1,"contenedor"],["class","row pais",3,"click",4,"ngFor","ngForOf"],[1,"row","pais",3,"click"],[1,"col"],["alt","bandera",2,"width","40px","height","40px","border-radius","50%",3,"src"]],template:function(t,r){t&1&&(H(0,"div",0),It(1,V$,5,2,"div",1),j()),t&2&&(ye(),At("ngForOf",r.listadoReducido))},dependencies:[Ri,SC,nf],styles:[".contenedor[_ngcontent-%COMP%]{height:16rem;overflow:scroll}.pais[_ngcontent-%COMP%]{font-weight:bolder;padding:10px}.pais[_ngcontent-%COMP%]:hover{background:#666;color:#fff;transition:background .5s;cursor:pointer}"]})};var uf=class n{paisSeleccionado;constructor(){}ngOnInit(){}tomarPaisSeleccionado(e){this.paisSeleccionado=e}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=at({type:n,selectors:[["app-alta-producto"]],standalone:!0,features:[ct],decls:14,vars:1,consts:[[1,"container"],[1,"py-3","text-center"],[1,"row","g-5"],[1,"col-md-5","col-lg-4","order-md-last"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"text-primary"],[3,"PasamosUnPais"],[1,"col-md-7","col-lg-8"],[3,"paisForm"]],template:function(t,r){t&1&&(Re(0,"app-navbar"),H(1,"div",0)(2,"main")(3,"div",1)(4,"h2"),Z(5,"ALTA PRODUCTO"),j()(),H(6,"div",2)(7,"div",3)(8,"h4",4)(9,"span",5),Z(10,"SELECCIONA UN PA\xCDS"),j()(),H(11,"app-listado-paises",6),Ge("PasamosUnPais",function(o){return r.tomarPaisSeleccionado(o)}),j()(),H(12,"div",7),Re(13,"app-form-alta-producto",8),j()()()()),t&2&&(ye(13),At("paisForm",r.paisSeleccionado))},dependencies:[Xr,sf,cf]})};var W1=[{path:"login",component:rf},{path:"alta-producto",component:uf},{path:"",component:jh}];var K1={providers:[jC(),mC({eventCoalescing:!0}),xb(W1),cT(()=>uT({projectId:"primer-parcial-labo4-1e3ec",appId:"1:182249408418:web:290553d79ae0ecbfb094fb",storageBucket:"primer-parcial-labo4-1e3ec.appspot.com",apiKey:"AIzaSyBOtmnKdtZ--77e3VeEcNpYvdX6CXtVVHo",authDomain:"primer-parcial-labo4-1e3ec.firebaseapp.com",messagingSenderId:"182249408418"})),oA(()=>Kt()),o1(()=>c1())]};var lf=class n{title="pp-enriquez-ignacio-2024";static \u0275fac=function(t){return new(t||n)};static \u0275cmp=at({type:n,selectors:[["app-root"]],standalone:!0,features:[ct],decls:1,vars:0,template:function(t,r){t&1&&Re(0,"router-outlet")},dependencies:[Gm,Vs]})};KC(lf,K1).catch(n=>console.error(n));
